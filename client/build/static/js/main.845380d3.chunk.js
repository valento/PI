(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{248:function(e,t,a){e.exports=a.p+"static/media/pi_pie.90b4f22b.svg"},249:function(e,t,a){e.exports=a.p+"static/media/pi_pi.27d4ed5a.svg"},282:function(e,t,a){e.exports=a(523)},292:function(e,t,a){},523:function(e,t,a){"use strict";a.r(t);var n,r,o=a(0),c=a.n(o),i=a(21),s=a(61),l=a(69),u=a.n(l),m=a(23),d=a(59),p=a(247),h=(a(291),a(292),a(20)),f=a(72),b=Object(d.c)({settings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SETUP_CHANGED":return Object(h.a)({},e,t.data);case"ORDER_COUNTER":return Object(h.a)({},e,{order_counter:e.order_counter+1});case"CUSTOMER_COUNTER":return Object(h.a)({},e,t.data);default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_SIGNED":return t.user;case"USER_LOCATION":return Object(h.a)({},e,t.user);case"USER_UPDATE_LOCATION":return Object(h.a)({},e,{locations:e.locations.map(function(e,a){return a===t.ind?Object(h.a)({},e,t.data):e})});case"USER_ADD_LOCATION":return Object(h.a)({},e,{locations:e.locations?[].concat(Object(f.a)(e.locations),[t.data]):[t.data]});case"USER_INIT":return Object(h.a)({},e,t.user);default:return e}},products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PRODUCT_LIST":return t.data;default:return e}},order:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ORDER_LIST":return t.order;case"ORDER_CLEAR":return[];default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CART_LIST":return t.order;case"CART_CLEAR":return[];default:return e}},facs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_FAC":return console.log("New fac?: ",t.facs),t.fac;case"FAC_STATE":return Object(h.a)({},e,t.data);default:return e}}}),g=a(58),v=a(30),E=a.n(v),y={setUI:function(){return E.a.get("/ui").then(function(e){return e.data})},getLocationList:function(e,t){return E.a.get("/admin/location/"+e+"/"+t).then(function(e){return e.data})},getProductList:function(e){return E.a.get("/products/"+e).then(function(e){return e.data})},getLocation:function(e){return E.a.get("/admin/location/ref/"+e).then(function(e){return e.data})},getLocationFac:function(e){return E.a.post("/user/facs",{id:e}).then(function(e){return e.data})},setupFac:function(e){var t=e.id,a=Object(g.a)(e,["id"]);return E.a.post("/user/fac/"+t,a).then(function(e){})}},O={signup:function(e){return E.a.post("/auth",{credentials:e}).then(function(e){return e.data.user})},checkOne:function(){return E.a.get("/auth/check").then(function(e){return e.data})},initUser:function(){return E.a.get("/user").then(function(e){return e.data.user})},addLocation:function(e){return E.a.post("/user/location",{data:e}).then(function(e){return console.log(e),e.data.id})},updateLocation:function(e,t){return E.a.post("/user/location/"+t,{data:e}).then(function(e){return e.data})}},C={pushOrder:function(e){return E.a.post("/orders",{data:e}).then(function(e){return e.data})},collection:function(e){return E.a.get("/admin/fac/".concat(e,"/orders"))}},j=function(e){return{type:"SETUP_CHANGED",data:e}},S=function(e){return{type:"SET_FAC",fac:e}},w=function(e){return function(t){return y.setUI(e).then(function(e){t(j(e))})}},k=function(e,t){return function(a){return y.getLocationList(e,t).then(function(e){console.log("getLocationsList: ",e),a(j(e))})}},N=function(e){return function(t){return y.getProductList(e).then(function(e){t(function(e){return{type:"PRODUCT_LIST",data:e}}(e))})}},L=function(e){return function(t){return console.log("Socket Action: ",e),e.order?t({type:"ORDER_COUNTER"}):t(function(e){return{type:"CUSTOMER_COUNTER",data:e}}(e))}},A=function(e){return function(t){return y.getLocation(e).then(function(e){if(e)return e}).catch(function(e){return{error:8}})}},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e?E.a.defaults.headers.common.Authorization=e:delete E.a.defaults.headers.common.Authorization},R=function(e){return{type:"USER_SIGNED",user:e}},z=function(e){return{type:"USER_INIT",user:e}},D=function(e){return{type:"USER_ADD_LOCATION",data:e}},_=function(e,t){return{type:"USER_UPDATE_LOCATION",ind:e,data:t}},T=function(){return function(e){return new Promise(function(t,a){O.initUser().then(function(a){e(z(a)),t(a)}).catch(function(e){a(e)})})}},x=function(e,t){return function(a){y.getLocation(e).then(function(e){a(_(t,e))})}},P=function(e){e?E.a.defaults.headers.common["Accepted-Language"]=e:delete E.a.defaults.headers.common["Accepted-Language"]},F=a(6),U=a.n(F),q=a(534),B=a(524),M=a(248),G=a.n(M),H=a(249),W=a.n(H),Y=a(25),J=a(15),V=a(16),Z=a(18),X=a(17),K=a(19),Q=a(82),$=a.n(Q),ee=a(535),te=a(537),ae=function(e){function t(){var e,a;Object(J.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(Z.a)(this,(e=Object(X.a)(t)).call.apply(e,[this].concat(r)))).state={data:{},logging:!1,errors:{},ui:{en:["register","example@mail.com","my-secret-password","Save"],es:["registro","micorreo@mail.com","mi-contrasena-secreta","Gurdar"],bg:["\u0432\u043b\u0435\u0437","example@mail.com","\u043f\u0430\u0440\u043e\u043b\u0430","\u0412\u043b\u0435\u0437"]}},a.onSubmit=function(){var e=a.state.data,t=a.props,n=t.pass,r=t.submit,o=t.login,c=a.validate(e);a.setState({errors:c}),0===Object.keys(c).length&&(n?o(e,!0):r(e,!1).then(function(e){}))},a.validate=function(e){var t={};return a.props.pass?e.password.length<8&&(t.password="Minimum password length must be 8 digits!"):$.a.isEmail(e.email)||(t.email="Invalid email address! Try again..."),t},a.onInput=function(e,t){var n=t.name;a.setState({data:Object(h.a)({},a.state.data,Object(Y.a)({},n,e.target.value))})},a}return Object(K.a)(t,e),Object(V.a)(t,[{key:"render",value:function(){var e=this.state.ui[this.props.lan],t=this.props.pass,a=this.state.errors;return c.a.createElement("div",{className:t?"custom-form oval-but alert":"custom-form oval-but"},c.a.createElement(ee.a,{onSubmit:this.onSubmit},c.a.createElement(ee.a.Input,{fluid:!0,required:!0,inline:!0,centered:!0,focus:!0,onChange:this.onInput,name:t?"password":"email",type:t?"password":"email",placeholder:t?e[2]:e[1]}),Object.keys(a).length>0&&c.a.createElement(te.a,{negative:!0},c.a.createElement(te.a.Header,null,t?"Incomplete password:":"Incorrect email:"),c.a.createElement("p",null,t?a.password:a.email)),c.a.createElement(B.a,{type:"submit",fluid:t,color:t?"red":"black"},t?e[3]:e[0])))}}]),t}(c.a.Component),ne=a(99),re=function(e){var t=e.size;return c.a.createElement(ne.a,{size:t,circular:!0,basic:!0},"\u03c0")},oe=function(e){function t(){var e,a;Object(J.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(Z.a)(this,(e=Object(X.a)(t)).call.apply(e,[this].concat(r)))).state={ui:{en:["Play","Eat","Repeat"],es:["Jugar","Comer","Repetir"],bg:["\u0418\u0433\u0440\u0430\u0439","\u042f\u0436","\u041f\u043e\u0432\u0442\u043e\u0440\u0438"]}},a}return Object(K.a)(t,e),Object(V.a)(t,[{key:"render",value:function(){var e=this.props.lan,t=this.state.ui[e];return c.a.createElement("div",{className:"menu-bar"},c.a.createElement(B.a.Group,{color:"grey"},c.a.createElement(B.a,{as:i.b,to:"/play",icon:"play circle",content:t[0]}),c.a.createElement(B.a,{as:i.b,to:"/order",icon:"food",content:t[1]}),c.a.createElement(B.a,{as:i.b,to:"/repeat",icon:"undo",content:t[2]})))}}]),t}(c.a.Component),ce=a(536),ie=a(47),se=a.n(ie),le=a(538),ue=function(e){function t(){var e,a;Object(J.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(Z.a)(this,(e=Object(X.a)(t)).call.apply(e,[this].concat(r)))).state={value:"",results:[],isLoading:!1,data:{},ui:{en:["Cancel","Submit","No service in that City","Sorry:"],es:["Cancelar","Guardar","Sin servicio en esta Ciudad","Perdona, pero:"],bg:["\u0418\u0437\u0442\u0440\u0438\u0439","\u0417\u0430\u043f\u0430\u0437\u0438","\u041d\u0435 \u043e\u0431\u0441\u043b\u0443\u0436\u0432\u0430\u043c\u0435 \u0442\u043e\u0437\u0438 \u0433\u0440\u0430\u0434 \u0432\u0441\u0435 \u043e\u0449\u0435...","\u0421\u044a\u0436\u0430\u043b\u044f\u0432\u0430\u043c\u0435, \u043d\u043e:"]}},a.resetComponent=function(){return a.setState({isLoading:!1,results:[],value:""})},a.handleResultSelect=function(e,t){var n=t.result,r=t.name;a.setState(Object(h.a)({},a.state,{value:n.title,data:Object(h.a)({},a.state.data,Object(Y.a)({},r,n.id)),message:null})),a.props.appsetup||a.props.onStreet(Object(Y.a)({},r,n.id))},a.handleSearchChange=function(e,t){var n=t.value;a.setState({isLoading:!0,value:n}),setTimeout(function(){if(a.state.value.length<1)return a.resetComponent();var e=new RegExp(se.a.escapeRegExp(a.state.value),"i");a.setState({isLoading:!1,results:se.a.filter(a.props.list,function(t){return e.test(t.title)})})},300)},a.onSubmit=function(e){e.preventDefault();var t=a.props,n=t.appsetup,r=t.onSubmit,o=a.state.data;n&&r(o)},a}return Object(K.a)(t,e),Object(V.a)(t,[{key:"componentWillMount",value:function(){this.resetComponent()}},{key:"render",value:function(){var e=this.state,t=e.value,a=e.results,n=e.isLoading,r=e.data,o=e.message,i=this.state.ui[this.props.lan],s=this.props,l=s.name,u=s.appsetup;return c.a.createElement("div",{className:"custom-form padded"},c.a.createElement(ee.a.Group,{onSubmit:this.onSubmit},c.a.createElement(ee.a,null,c.a.createElement("div",{className:"ui grid"},c.a.createElement("div",{className:"grid column sixteen wide"},c.a.createElement(le.a,Object.assign({fluid:!0,name:l,loading:n,onResultSelect:this.handleResultSelect,onSearchChange:se.a.debounce(this.handleSearchChange,500,{leading:!0}),results:a,value:t},this.props))),o&&"0"!==o&&c.a.createElement(te.a,{negative:!0,size:"mini"},c.a.createElement(te.a.Header,null,i[3]),c.a.createElement("p",null,i[2])),u&&c.a.createElement("div",{className:"grid column sixteen wide oval-but extra-padded"},c.a.createElement(B.a,{type:"submit",basic:0===Object.keys(r).length,disabled:0===Object.keys(r).length,name:l,color:"grey",content:i[1]}))))))}}]),t}(c.a.Component),me=function(e){function t(){var e,a;Object(J.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(Z.a)(this,(e=Object(X.a)(t)).call.apply(e,[this].concat(r)))).state={ui:{en:["Your City/Zone:","ENG","ESP","\u0411\u0413"],es:["Tu Ciudad/Zona:","ENG","ESP","\u0411\u0413"],bg:["\u0418\u0437\u0431\u0435\u0440\u0438 \u0413\u0440\u0430\u0434/\u0417\u043e\u043d\u0430:","ENG","ESP","\u0411\u0413"]},errors:{en:{header:["Not your City/Zone"],message:["Pick a Zone/City closer to you"]},es:{header:["No es tu Zona o Ciudad"],message:["Seleccione una Zona/Ciudad mas cercana"]},bg:{header:["\u041d\u0435 \u0435 \u0442\u0432\u043e\u044f\u0442 \u0413\u0440\u0430\u0434/\u0417\u043e\u043d\u0430"],message:["\u0418\u0437\u0431\u0435\u0440\u0438 \u0437\u043e\u043d\u0430 \u0438\u043b\u0438 \u0433\u0440\u0430\u0434, \u0431\u043b\u0438\u0437\u043a\u0438 \u0434\u043e \u0442\u0435\u0431"]}},confirm:!1,error:0},a.onLanguage=function(e,t){var n=t.name,r=a.props,o=r.setInterface,c=r.setUI,i=r.getProductList;o({lan:n}),P(n),c(n),i(n)},a.onSubmit=function(e){var t=a.props,n=t.appsetup,r=t.setInterface,o=t.initialUser;if(console.log(e),n){if(1!==a.props.list.find(function(t){return t.id===e.city}).status)return a.setState({error:1,confirm:!0});r(e)}else o(e)},a}return Object(K.a)(t,e),Object(V.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.lan,n=t.appsetup,r=t.name,o=t.list,i=t.setup,s=this.state.ui[a];return c.a.createElement("div",{className:"vintage left"},"city"===r&&c.a.createElement("p",null,s[0]),c.a.createElement(ue,{lan:a,appsetup:n,onSubmit:this.onSubmit,setup:i,name:r,list:o}),c.a.createElement(q.a,{horizontal:!0}),c.a.createElement("div",{className:"menu-bar"},c.a.createElement(B.a.Group,{color:"grey",size:"mini"},c.a.createElement(B.a,{onClick:this.onLanguage,disabled:"en"===a,name:"en",content:s[1]}),c.a.createElement(B.a,{onClick:this.onLanguage,disabled:"es"===a,name:"es",content:s[2]}),c.a.createElement(B.a,{onClick:this.onLanguage,disabled:"bg"===a,name:"bg",content:s[3]}))),c.a.createElement("div",{className:"eight wide column"},c.a.createElement(ce.a,{header:this.state.errors[a].header[this.state.error-1],content:this.state.errors[a].message[this.state.error-1],open:this.state.confirm,onCancel:function(t){return e.setState({confirm:!1,error:0})},onConfirm:function(t){return e.setState({confirm:!1,error:0})}})))}}]),t}(c.a.Component),de=Object(m.b)(function(e){return{lan:e.settings.lan}},{initialUser:z,setInterface:j,setUI:w,getProductList:N})(me),pe=["root","lab","fac","baker","pos","dlv","test","rep","customer"],he=function(e,t,a,o){var c=function(e,t,a,n){switch(e){case 2:return n;case 4:case 8:case 64:return a;default:return t}}(t,e,a,null);"rep"===(r=function(e){var t=e?e.toString(2).split("").reverse():0;console.log("memberships: ",t);var a;return 0===(a=pe.filter(function(e,a){return 1===Number(t[a])})).length?"home":a.length>1?a[a.length-1]:a[0]}(t))&&(r="customer");var i="wss://pizzapi.co/?id=".concat(c);console.log("Role/ID: ",r,c),console.log("WS on: ",i),(n=new WebSocket(i,"".concat(r,"-protocol"))).onerror=function(e){return console.log("WebSocket error: "+e)},n.onopen=function(){console.log("".concat(r,"-Socket on Client")),o({socket:!0})}},fe=function(e){console.log("".concat(r," Suscribed: ").concat(e)),n.onmessage=function(t){console.log("WS: ",t.data);var a=JSON.parse(t.data);if(!e)return console.log(t.data);e(a)}},be=function(e,t){n.send(t)},ge=function(e){n.close()},ve=function(e){var t=e.isAuthorized,a=e.user,n=(e.lab,e.fac),r=e.lan,o=e.city,s=(e.one_city,e.cities),l=e.socket,u=e.signUp,m=e.userInit,d=e.getLocalFacs,p=e.getFacStore,h=e.setInterface,f=e.socketCounter,b={ui:{es:["Bienvenido, ","Hola, ","You're in:","Admin","LAB","FAC","PoS","Courier","REP"],en:["Hello, ","Welcome back, ","Estas en:","Admin","LAB","FAC","PoS","Courier","REP"],bg:["\u0414\u043e\u0431\u0440\u0435 \u0434\u043e\u0448\u044a\u043b, ","\u0417\u0434\u0440\u0430\u0432\u0435\u0439, ","\u041d\u0430\u043c\u0438\u0440\u0430\u0448 \u0441\u0435 \u0432\u044a\u0432:","Admin","LAB","FAC","PoS","\u041a\u0443\u0440\u0438\u0435\u0440","REP"]},error:{header:"Not Your Bakery!",message:"Change Zone/City?"}},g=a.membership,v=a.new_user,E=a.username,y=a.uid,O=void 0===v||v,C=["boss","lab","fac","baker","pos","dlv","tester","rep","customer"],j=g?g.toString(2).split("").reverse():0,S=[];if(C.forEach(function(e,t){Number(j[t])&&S.push(C[t])}),0===S.length?"home":S.length>1?S.join("/"):S[0],o&&!Object.keys(n).length>0){var w={};w.city=o,p(w)}if(t&&Object.keys(n).length>0&&!l)switch(he(y,g,n.id,h),g){case 1:case 2:case 4:break;case 8:case 12:fe(f);break;default:fe(f)}return c.a.createElement("div",{className:"App-content topped padded"},c.a.createElement("div",{className:"init central padded"},c.a.createElement("div",{className:"logo-still"},c.a.createElement("img",{src:G.a,className:"logo",alt:"logo"}),c.a.createElement("img",{src:W.a,className:"logo-top",alt:"logo"})),void 0!==o&&c.a.createElement("p",{className:"vintage no-border"},r?O?b.ui[r][0]:b.ui[r][1]:"\u0414\u043e\u0431\u0440\u0435 \u0434\u043e\u0448\u044a\u043b",E||c.a.createElement(re,{size:"huge"})),o?t?g>63?c.a.createElement(oe,{lan:r}):null:c.a.createElement(ae,{submit:u,getFacs:d,init:m,lan:r,pass:!1}):c.a.createElement(de,{lan:r,list:s,appsetup:"true",name:"city"}),c.a.createElement(q.a,{horizontal:!0}),t&&g&&g<128&&c.a.createElement("div",null,c.a.createElement(B.a,{basic:!0,color:"blue",as:i.b,to:1!==g&&Object.keys(n).length>0?"/admin/home":"/admin/boss",disabled:!o},"Hello, ",S[S.length-1],"!"))))};ve.propType={lan:U.a.number.isRequired};var Ee=Object(m.b)(function(e){return{lan:e.settings.lan,socket:e.settings.socket,cities:e.settings.cities,city:e.settings.city,one_city:e.settings.one_city,isAuthorized:!!e.user.token,fac:e.facs,user:e.user}},{signUp:function(e,t){return function(a){if(!t)return new Promise(function(t,n){O.signup(e).then(function(e){localStorage.valePizzaJWT=e.token,I(e.token),a(R(e)),a(function(e){return{type:"USER_INIT",user:e}}(e)),t(e)})})}},userInit:T,getLocalFacs:function(e){return function(e){}},setInterface:j,getFacStore:function(e){var t=e.city;return function(e){return y.getLocationFac(t).then(function(t){e(S(t))})}},socketCounter:L})(ve),ye=a(71),Oe=a(73),Ce=function(){return{type:"CART_CLEAR"}},je=function(e){var t=e.disabled;return c.a.createElement("div",null,t?c.a.createElement("div",{className:"user disabled"},c.a.createElement(Oe.a,{inverted:t,name:"user"}),c.a.createElement("span",null,"|"),c.a.createElement(Oe.a,{inverted:t,name:"shopping cart"})):c.a.createElement("div",{className:"user"},c.a.createElement(i.b,{to:"/user"},c.a.createElement(Oe.a,{name:"user"})),c.a.createElement("span",null,"|"),c.a.createElement(i.b,{to:"/cart"},c.a.createElement(Oe.a,{name:"shopping cart"}))))},Se=function(e){var t=e.city,a=e.fac,n=e.cities,r=e.lan,s=e.isAuthorized,l=e.socket,u=e.user,m=e.setInterface,d=e.setLocationFactory,p=e.clearCart,f={ui:{en:["No City","? Change City","You are about to change city/zone"],es:["Ciudad","? Cambiar Ciudad","Estas por cambiar la zona/ciuda de tu orden"],bg:["\u0413\u0440\u0430\u0434","? \u0421\u043c\u0435\u043d\u0438 \u0417\u043e\u043d\u0430/\u0413\u0440\u0430\u0434","\u041f\u0440\u0438 \u043f\u043e\u0442\u0432\u044a\u0440\u0436\u0434\u0435\u043d\u0438\u0435 \u0449\u0435 \u0441\u043c\u0435\u043d\u0438\u0448 \u0433\u0440\u0430\u0434\u0430/\u0437\u043e\u043d\u0430\u0442\u0430"]}},b=Object(o.useState)(!1),g=Object(ye.a)(b,2),v=g[0],E=g[1],y=f.ui[r][0];return n&&n.forEach(function(e){e.id===t&&(y=e.alt?e.alt:e.title)}),c.a.createElement("div",{className:"ui grid Top"},c.a.createElement("div",{className:"four wide column"},c.a.createElement(i.b,{to:function(e){if(!a.checkin&&u.membership<63||u.membership>63)return Object(h.a)({},e,{pathname:"/"})}},c.a.createElement(Oe.a,{name:"home",color:!a.checkin||u.membership>63?"black":"grey"})),t&&c.a.createElement(Oe.a.Group,null,c.a.createElement(Oe.a,{color:a.open?"blue":"grey",name:"clock"}))),c.a.createElement("div",{className:"eight wide column"},c.a.createElement(ce.a,{header:f.ui[r][1],content:f.ui[r][2],open:v,onCancel:function(e){return E(!1)},onConfirm:function(e){E(!1),d({}),p(),l&&ge(),m({city:null,socket:!1})}}),c.a.createElement(i.b,{to:"/",onClick:function(e){return E(!0)}},c.a.createElement(Oe.a,{color:t?"blue":"grey",name:"map marker"}),y)),c.a.createElement("div",{className:"four wide column"},c.a.createElement(je,{lan:r,disabled:!(s&&t&&u.membership>64&&1!==u.membership)})))};Se.propType={fac:U.a.shape({id:U.a.number.isRequired}).isRequired};var we=Object(m.b)(function(e){return{lan:e.settings.lan,socket:e.settings.socket,city:e.settings.city,fac:e.facs,cities:e.settings.cities,isAuthorized:!!e.user.token,user:e.user}},{setInterface:j,setLocationFactory:S,clearCart:Ce})(Se),ke=function(e){function t(){var e,a;Object(J.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(Z.a)(this,(e=Object(X.a)(t)).call.apply(e,[this].concat(r)))).state={item:{id:null,units:null},ui:{en:["Choose a ","+","Order","Invalid data","Qauntity should be a number","pizza","pi2","drink","beer","sauce"],es:["Selecione ","+","Pedir","Datos invalidos","La Cantidad es numero","pizza","pi2","gaseosa","cerveza","salsa"],bg:["\u0418\u0437\u0431\u0435\u0440\u0438 ","+","\u041f\u043e\u0440\u044a\u0447\u0430\u0439","\u041d\u0435\u0432\u0430\u043b\u0438\u0434\u043d\u0438 \u0434\u0430\u043d\u043d\u0438","\u0411\u0440\u043e\u044f\u0442 \u043f\u0438\u0446\u0438 \u0442\u0440\u044f\u0431\u0432\u0430 \u0434\u0430 \u0435 \u0447\u0438\u0441\u043b\u043e","\u043f\u0438\u0446\u0430","\u043f2","\u0431\u0435\u0437\u0430\u043b\u043a\u043e\u0445\u043e\u043b\u043d\u043e","\u0431\u0438\u0440\u0430","\u0441\u043e\u0441"]},errors:{}},a.onChange=function(e,t){var n=t.name,r=t.value;"id"===n||""===r||$.a.isNumeric(r)?a.setState({errors:{}}):a.setState({errors:{code:4}}),"units"===n&&r>5&&(r=5),"id"===n&&a.props.onItemSelect(r),a.setState({item:Object(h.a)({},a.state.item,Object(Y.a)({},n,Math.abs(r)))})},a.onAdd=function(){var e=a.state.item;a.props.onAddItem(e.id,e.units),a.setState({item:{id:null,units:null}})},a.shouldComponentUpdate=function(e){return a.props.category!==e.category&&a.setState({item:{id:null,units:null}}),!0},a}return Object(K.a)(t,e),Object(V.a)(t,[{key:"render",value:function(){var e=this.props,t=e.lan,a=e.items,n=e.category,r=this.state,o=r.errors,i=r.item,s=this.state.ui[t],l=Object.keys(o).length>0,u=null===i.id||null===i.units;return c.a.createElement(ee.a,{onSubmit:this.onAdd},c.a.createElement(ee.a.Group,null,c.a.createElement("div",{className:"ui grid"},c.a.createElement("div",{className:"ten wide column"},c.a.createElement(ee.a.Select,{onChange:this.onChange,key:213,name:"id",placeholder:s[0].concat(s[4+n]),options:a,value:i.id})),c.a.createElement("div",{className:"three wide column"},c.a.createElement(ee.a.Input,{onChange:this.onChange,type:"number",required:!0,name:"units",placeholder:1,value:i.units||""})),c.a.createElement("div",{className:"three wide column"},c.a.createElement(B.a,{disabled:l||u,color:"blue",className:"add-but",type:"submit",content:s[1]}))),l&&c.a.createElement("div",{className:"margined full-width"},c.a.createElement(te.a,{negative:!0},c.a.createElement(te.a.Header,null,s[3]),c.a.createElement("p",null,s[o.code])))))}}]),t}(c.a.Component),Ne=function(e){var t=e.stat,a=e.empty,n=e.row,r=e.onDelete,o=e.ind,i=e.lan;return c.a.createElement("div",null,a?{en:["Nothing to order yet...."],es:["Nada de ordenar...."],bg:["\u041d\u0438\u0449\u043e \u0437\u0430 \u043f\u043e\u0440\u044a\u0447\u0432\u0430\u043d\u0435 \u0437\u0430 \u0441\u0435\u0433\u0430..."]}[i][0]:c.a.createElement("div",{className:"ui grid item"},c.a.createElement("div",{className:"two wide column nopad items"},!t&&c.a.createElement(Oe.a,{name:"eye"})),c.a.createElement("div",{className:"six wide column nopad"},n.name),c.a.createElement("div",{className:"three wide column nopad items"},c.a.createElement(Oe.a,{name:"x",size:"tiny"}),n.quant),c.a.createElement("div",{className:"three wide column nopad"},(parseFloat(n.price)*parseFloat(n.quant)).toFixed(2)),c.a.createElement("div",{className:"two wide column nopad"},!t&&c.a.createElement("span",{className:"",basic:!0,onClick:function(){return r(o)}},c.a.createElement(Oe.a,{name:"minus circle"})))))},Le=function(e){var t=e.stat,a=e.cart,n=e.lan,r=e.onDelete;return c.a.createElement("div",{className:0===a.length?"order-list empty":"order-list"},a.map(function(e,a){return c.a.createElement(Ne,{stat:t,lan:n,key:a,onDelete:r,row:e,ind:a})}),0===a.length&&c.a.createElement(Ne,{empty:!0,lan:n}))},Ae=function(e){function t(){var e,a;Object(J.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(Z.a)(this,(e=Object(X.a)(t)).call.apply(e,[this].concat(r)))).state={ui:{en:["pizza order","Order","Pizza","P2","Drink","Beer","Sauce"],es:["pedido","Pedido","Pizza","P2","Gaseosa","Serveza","Salsa"],bg:["\u043f\u043e\u0440\u044a\u0447\u043a\u0430","\u041f\u043e\u0440\u044a\u0447\u0430\u0439","\u041f\u0438\u0446\u0430","\u041f2","\u041d\u0430\u043f\u0438\u0442\u043a\u0430","\u0411\u0438\u0440\u0430","\u0421\u043e\u0441"]},order:[]},a.onDeleteItem=function(e){a.setState({order:[].concat(Object(f.a)(a.state.order.slice(0,e)),Object(f.a)(a.state.order.slice(e+1)))})},a.onAddItem=function(e,t){console.log(Number(t)+" of "+e);var n=a.state.order.findIndex(function(t){return t.product===e}),r=a.props.products.findIndex(function(t){return t.id===e});n>-1?a.setState({order:[].concat(Object(f.a)(a.state.order.slice(0,n)),[Object(h.a)({},a.state.order[n],{quant:a.state.order[n].quant+Number(t)})],Object(f.a)(a.state.order.slice(n+1)))}):a.setState({order:a.state.order.concat({product:e,quant:Number(t),name:a.props.products[r].name,price:a.props.products[r].price})})},a.onOrder=function(e){a.props.addCart(a.state.order)},a}return Object(K.a)(t,e),Object(V.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.cart;console.log("OrderComponent Mount: ",e.length),e.length>0&&this.setState({order:this.props.cart})}},{key:"render",value:function(){var e,t=0,a=this.props,n=a.lan,r=a.products,o=(a.facs,a.user,a.category),s=a.itemSelected;e=r.map(function(e,t){return{value:e.product,text:e.name,key:t}});var l=this.state.ui[n],u=this.state.order,m=u.map(function(e){return(parseFloat(e.price)*parseFloat(e.quant)).toFixed(2)});m.length>0&&(t=m.reduce(function(e,t){return(parseFloat(e)+parseFloat(t)).toFixed(2)}));var d=l[1].concat(" ",l[o+1]);return c.a.createElement("div",{className:"custom-form"},c.a.createElement(q.a,{horizontal:!0},d),c.a.createElement(ke,{lan:n,category:o,items:e,onAddItem:this.onAddItem,onItemSelect:s}),c.a.createElement(Le,{stat:!1,lan:n,cart:u,onDelete:this.onDeleteItem}),c.a.createElement(q.a,{horizontal:!0},"\u25cb"),c.a.createElement(B.a,{as:i.b,to:"/cart",width:8,disabled:0===this.state.order.length,color:"orange",className:"submit-but",content:l[1].concat(": ",t.toString()),onClick:this.onOrder}))}}]),t}(c.a.Component),Ie=Object(m.b)(function(e){return{facs:e.facs,cart:e.cart,order:e.order,user:e.user}},{addCart:function(e){return{type:"CART_LIST",order:e}}})(Ae),Re=function(e){var t=e.entry,a=e.mode,n={backgroundImage:"url(img/".concat(["pizza","pi2","drinks","pivo","sauce"][t.category-1],"/").concat(t.list,".png)"),backgroundSize:"cover"},r=t.dscr.split(",").join(", ");return c.a.createElement("div",{className:"ver"===a?"item":"product",style:n},c.a.createElement("span",null,t.name),c.a.createElement("span",{style:{maxWidth:"380px",display:"flex",color:"white",overflowX:"hidden",backgroundColor:"rgba(180,90,0,.5)"}},r))},ze=function(e){var t,a,n,r=e.products,o=e.category,i=e.view,s=e.onOrder,l=e.item;t="hor"===i?100*(r.length+1):100,a=r.findIndex(function(e){return e.id===l}),n="hor"===i?{minWidth:"".concat(t,"vw"),left:"-".concat(97.5*(a+1),"vw")}:{};return c.a.createElement("div",{className:"hor"===i?"product-wraper":null},c.a.createElement("div",{className:"hor"===i?"product-list":"catalog",style:n},c.a.createElement("ul",null,"hor"===i?c.a.createElement("li",null,c.a.createElement("div",{className:"product".concat(" ",["pi","pi2","soft","pivo","sauce","premium"][o-1])})):c.a.createElement("li",null,"--- MENU ---"),r.map(function(e){return c.a.createElement("li",null,c.a.createElement(Re,{mode:i,entry:e,onOrder:s}))}))))},De=function(e){e.lan;for(var t=e.category,a=e.onCategory,n=e.cats,r={bg:["\u043f\u0438\u0446\u0430","\u03c0\xb2","\u043d\u0430\u043f\u0438\u0442\u043a\u0430","\u0431\u0438\u0440\u0430","\u0441\u043e\u0441"],en:["pizza","\u03c0\xb2","drinks","beer","sauce"],es:["pizza","\u03c0\xb2","drinks","beer","salsa"],icon:["\u03c0","\u03c0\xb2","tint","beer","fire"]},o=[],i=1;i<6;i++)n.includes(i)&&o.push(i);return c.a.createElement("div",null,c.a.createElement("ul",{className:"menu-prod"},o.map(function(e){var n=e===t?"active":"";return c.a.createElement("li",{className:e<3?n.concat(" ","pee"):n,onClick:function(n){e!==t&&a(e)}},e<3?r.icon[e-1]:c.a.createElement(Oe.a,{name:r.icon[e-1],size:"large"}))})))},_e=function(e){function t(){var e,a;Object(J.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(Z.a)(this,(e=Object(X.a)(t)).call.apply(e,[this].concat(r)))).state={category:1,item:0},a.onCategory=function(e){a.setState({category:e,item:0})},a.onItemSelected=function(e){a.setState({item:e})},a}return Object(K.a)(t,e),Object(V.a)(t,[{key:"render",value:function(){var e=this.props,t=e.lan,a=e.products,n=e.facs,r=this.state,o=r.category,i=r.item,s=n.products.map(function(e){var t=a.find(function(t){return t.id===e.product});return Object.assign(e,t)}),l=s.map(function(e){return e.category}),u=s.filter(function(e){return e.category===o});return c.a.createElement("div",{className:"App-content topped padded"},c.a.createElement(ze,{view:"hor",products:u,category:o,item:i,facs:n}),c.a.createElement(De,{lan:t,cats:l,category:o,onCategory:this.onCategory}),c.a.createElement(Ie,{products:u,category:o,stat:!1,itemSelected:this.onItemSelected,lan:t}))}}]),t}(c.a.Component),Te=Object(m.b)(function(e){return{lan:e.settings.lan,facs:e.facs,user:e.user,products:e.products}})(_e),xe=function(e){function t(){var e,a;Object(J.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(Z.a)(this,(e=Object(X.a)(t)).call.apply(e,[this].concat(r)))).state={q:0,category:1},a.onOrder=function(e){console.log(e)},a}return Object(K.a)(t,e),Object(V.a)(t,[{key:"render",value:function(){var e=this.props,t=e.lan,a=e.city,n=e.products,r=e.facs,o=this.state.category,i=r.findIndex(function(e){return e[a].city===a}),s=r[i][a].products.map(function(e){var t=n.find(function(t){return t.id===e.product});return Object.assign(e,t)}).filter(function(e){return e.category===o});return c.a.createElement("div",{className:"App-content topped padded"},c.a.createElement(ze,{view:"ver",lan:t,onOrder:this.onOrder,products:s}))}}]),t}(c.a.Component);xe.propType={products:U.a.array.isRequired,city:U.a.number.isRequired,facs:U.a.array.isRequired};var Pe=Object(m.b)(function(e){return{products:e.products,facs:e.facs,city:e.settings.city,lan:e.settings.lan}})(xe),Fe=Object(m.b)(function(e){return{lan:e.settings.lan,isAuth:!!e.user.token}})(function(e){var t=e.isAuth,a=e.lan,n=e.component,r=Object(g.a)(e,["isAuth","lan","component"]);return console.log(t),c.a.createElement(s.b,Object.assign({},r,{render:function(e){return t?c.a.createElement(n,Object.assign({lan:a},e)):c.a.createElement(s.a,{to:"/"})}}))}),Ue=Object(m.b)(function(e){return{lan:e.settings.lan,city:e.settings.city,isAdmin:1===e.user.membership,membership:e.user.membership}})(function(e){var t=e.isAdmin,a=e.membership,n=e.city,r=e.lan,o=e.component,i=Object(g.a)(e,["isAdmin","membership","city","lan","component"]);return console.log("Log Admin as: ",a),c.a.createElement(s.b,Object.assign({},i,{render:function(e){return(t||a<128)&&n?c.a.createElement(o,Object.assign({lan:r},e)):n?c.a.createElement(s.a,{to:"/admin"}):c.a.createElement(s.a,{to:"/"})}}))}),qe=a(539),Be=function(e){var t=e.ordered,a=e.pickup,n=e.id,r=(e.data,e.products,e.onClick);return c.a.createElement(qe.a.Row,{onClick:function(e){return r(n)}},c.a.createElement(qe.a.Column,{width:8},n),c.a.createElement(qe.a.Column,{width:4},t?"".concat(t.getHours(),":").concat(t.getMinutes()):"--"),c.a.createElement(qe.a.Column,{width:4},a?"".concat(a.getHours(),":").concat(a.getMinutes()):"--"))},Me=Object(m.b)(function(e){return{products:e.products}})(function(e){var t=e.data,a=e.products,n=t.length>1?t.map(function(e){return{p:a.find(function(t){return t.id===e.item}),q:e.quant,opt:e.options}}):{p:a.find(function(e){return e.id===t.item}),q:t.quant,opt:t.options};return n.length>1?n.map(function(e){return c.a.createElement(qe.a.Row,{className:"detail nopadd"},c.a.createElement(qe.a.Column,{width:8},e.p.name),c.a.createElement(qe.a.Column,{width:4},e.q),c.a.createElement(qe.a.Column,{width:4},c.a.createElement(B.a,{size:"small",icon:"eye"})))}):c.a.createElement(qe.a.Row,{className:"detail nopadd"},c.a.createElement(qe.a.Column,{width:8},n.p.name),c.a.createElement(qe.a.Column,{width:4},n.q),c.a.createElement(qe.a.Column,{width:4},c.a.createElement(B.a,{size:"small",icon:"eye"})))}),Ge=function(e){var t=e.lan,a=e.list,n=e.data,r=(e.membership,{en:["order #","at","door","for"],es:["order #","de","domic.","para"],bg:["\u043f\u043e\u0440\u044a\u0447\u043a\u0430 #","\u043e\u0442","\u0434\u043e\u0441\u0442.","\u0437\u0430"]}[t]),i=Object(o.useState)(null),s=Object(ye.a)(i,2),l=s[0],u=s[1];return c.a.createElement(qe.a,{celled:!0,className:"nopadd"},c.a.createElement(qe.a.Row,null,c.a.createElement(qe.a.Column,{width:8},r[0]),c.a.createElement(qe.a.Column,{width:4},c.a.createElement(Oe.a,{name:"clock"})),c.a.createElement(qe.a.Column,{width:4},c.a.createElement(Oe.a,{name:"clock outline"}))),a.map(function(e){var t=n.filter(function(t){return t.id===e}),a=t.length>1?t.map(function(e){return e.rest}):t[0].rest,r=t[0],o=r.id,i=r.ordered_at,s=r.pick_up_time;return c.a.createElement(qe.a,{celled:!0,className:"order nopadd"},c.a.createElement(Be,{key:o,id:o,onClick:function(e){return u(o)},ordered:new Date(i),pickup:new Date(s)}),l===o&&c.a.createElement(Me,{data:a}))}))},He=Object(m.b)(function(e){return{uid:e.user.uid,socket:e.settings.socket,order_counter:e.settings.order_counter,lan:e.settings.lan,membership:e.user.membership,fac:e.facs}},{getOrders:function(e){return function(t){return new Promise(function(t,a){C.collection(e).then(function(e){var a=e.data;t(a)}).catch(function(e){return a(e)})})}},setInterface:j})(function(e){var t=e.uid,a=e.lan,n=e.fac,r=e.membership,i=e.order_counter,s=(e.socket,e.getOrders),l=e.setInterface,u={ui:{en:["Bakery: ","Open Session","New Orders: "],es:["Panader\xeda: ","Iniciar sesi\xf3n","Nueva Orden: "],bg:["\u041f\u0435\u043a\u0430\u0440\u043d\u0430: ","\u041e\u0442\u0432\u043e\u0440\u0438 \u0421\u0435\u0441\u0438\u044f","\u041d\u043e\u0432\u0438 \u043f\u043e\u0440\u044a\u0447\u043a\u0438: "]}},m=Object(o.useState)([]),d=Object(ye.a)(m,2),p=d[0],h=d[1],f=Object(o.useState)([]),b=Object(ye.a)(f,2),g=b[0],v=b[1];return c.a.createElement("div",{className:"init padded oval-but"},c.a.createElement(q.a,{horizontal:!0},"".concat(u.ui[a][0]).concat(n.name)),c.a.createElement(Ge,{data:p,list:g,member:r,lan:a}),c.a.createElement("br",null),c.a.createElement(B.a,{fluid:!0,color:"blue",content:"".concat(u.ui[a][2],": ").concat(i),onClick:function(e){n.uid===t&&s(n.id).then(function(e){var t=e.map(function(e){return e.id});h(e),v(Array.from(new Set(t))),l({order_counter:0})}).catch(function(e){return console.log(e.message)})}}))}),We=function(e){e.member,e.lan;return c.a.createElement("div",{className:"oval-but"},c.a.createElement("p",null,"Test.Table here"))},Ye=a(532),Je=function(e){function t(){var e,a;Object(J.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(Z.a)(this,(e=Object(X.a)(t)).call.apply(e,[this].concat(r)))).state={checkin:!1,open:!1,dlvr:!1,ui:{en:["SHUTDOWN","Rest","Controls:","ON","OFF"],es:["CERRAR","Descanzo","Controles:","ON","OFF"],bg:["\u0417\u0430\u0442\u0432\u043e\u0440\u044f\u043c \u041f\u0435\u043a\u0430\u0440\u043d\u0430\u0442\u0430!","\u0412 \u041f\u043e\u0447\u0438\u0432\u043a\u0430","\u041a\u043e\u043d\u0442\u0440\u043e\u043b\u0438:","ON","OFF"]}},a.onChange=function(e,t){var n=t.name;a.setState(function(e){return Object(Y.a)({},n,!e[n])});var r=a.props,o=r.setFac,c=r.socketCounter,i=r.id;switch(o({data:Object(Y.a)({},n,!a.state[n]),id:i}),n){case"checkin":a.state.checkin||fe(c);break;case"open":a.state.open&&ge(i)}},a.closeShop=function(e){a.props.setFac({id:a.props.id,data:{open:!1,checkin:!1}}),a.setState({open:!1,checkin:!1})},a.componentDidMount=function(){console.log("Baker Home: ",a.props.fac);var e=a.props.fac,t=e.checkin,n=e.open,r=e.delivery;a.setState({checkin:!!t,open:!!n,dlvr:4!==r})},a}return Object(K.a)(t,e),Object(V.a)(t,[{key:"render",value:function(){var e=this.state.ui[this.props.lan];return c.a.createElement("div",{className:"oval-but"},c.a.createElement(q.a,{horizontal:!0},e[2]),c.a.createElement(qe.a,{columns:2},c.a.createElement(qe.a.Row,null,c.a.createElement(qe.a.Column,null,c.a.createElement(Ye.a,{name:"checkin",checked:this.state.checkin,disabled:this.state.open,label:c.a.createElement("label",null,this.state.checkin?"Check-out":"Check-in"),onChange:this.onChange,toggle:!0})),c.a.createElement(qe.a.Column,null,c.a.createElement(Ye.a,{name:"open",checked:this.state.open,disabled:!this.state.checkin,label:c.a.createElement("label",null,this.state.open?"Close":"Open"),onChange:this.onChange,toggle:!0})))),c.a.createElement("br",null),c.a.createElement(B.a,{fluid:!0,color:"blue",icon:"motorcycle",disabled:!this.state.checkin||4===this.props.fac.delivery,content:this.state.dlvr?"Delivery: ".concat(e[4]):"Delivery: ".concat(e[3]),onClick:this.closeShop}),c.a.createElement("br",null),c.a.createElement(B.a,{fluid:!0,color:"gray",icon:"pause",content:e[1],disabled:!this.state.open,onClick:this.pauseShop}),c.a.createElement("br",null),c.a.createElement(B.a,{fluid:!0,color:"red",icon:"attention",disabled:!this.state.open||!this.state.checkin,content:e[0],onClick:this.closeShop}))}}]),t}(c.a.Component),Ve=Object(m.b)(function(e){return{lan:e.settings.lan,fac:e.facs}},{socketCounter:L,setFac:function(e){return function(t){return y.setupFac(e).then(function(){var a=e.data;t(function(e){return{type:"FAC_STATE",data:e}}(a))})}}})(Je),Ze=function(e){var t=e.member,a={en:["Boss","Lab","Fac","Baker","Courier","Tester"],es:["Boss","Lab","Fac","Baker","Courier","Tester"],bg:["Boss","Lab","Fac","Baker","Courier","Tester"]}[e.lan],n=Math.log2(t);return c.a.createElement(q.a,{horizontal:!0},a[n]," Dashboard")},Xe=function(){return c.a.createElement("div",{className:"oval-but"},c.a.createElement(q.a,{horizontal:!0},"Tester Demo"),c.a.createElement("p",null,"As a potential partner you can find your-self as a LAB-owner (BOSS), a FAC-owner (Baker) or Delivery-courier.",c.a.createElement("br",null),"Choose a Role to test:"),c.a.createElement(B.a,{fluid:!0,color:"black",content:"Role: BOSS"}),c.a.createElement("br",null),c.a.createElement(B.a,{fluid:!0,color:"orange",content:"Role: Baker"}),c.a.createElement("br",null),c.a.createElement(B.a,{fluid:!0,color:"gray",content:"Role: Courier"}),c.a.createElement("br",null),c.a.createElement(q.a,{horizontal:!0}," --- "),c.a.createElement("p",null,"To learn more about business Partner-options:"),c.a.createElement(B.a,{color:"blue",content:"Business Plans"}))},Ke=Object(m.b)(null,{setInterface:j})(function(e){var t=e.member,a=e.id,n=e.fowner,r=e.uid,o=e.setInterface;return console.log(t,a,r),c.a.createElement("div",{className:"init top-15 padded oval-but"},8===t&&c.a.createElement(Ve,{id:a}),64===t&&c.a.createElement(Xe,null),c.a.createElement(Ze,e),c.a.createElement(ce.a,{header:"Unauthorized User",content:"Not your Bakery! Change City/Zone",open:n!==r,onCancel:function(e){return o({city:null})},onConfirm:function(e){return o({city:null})}}))}),Qe=Object(m.b)(function(e){return{uid:e.user.uid,membership:e.user.membership,fac:e.facs}},{userSignedIn:R,setInterface:j})(function(e){var t=e.uid,a=e.lan,n=e.membership,r=e.userSignedIn,o=e.setInterface,l=(e.dispatch,Object(g.a)(e,["uid","lan","membership","userSignedIn","setInterface","dispatch"])),u={ui:{en:["Bakery: ","Open Session","boss","lab","fac","baker","delivery","tester","logout"],es:["Panader\xeda: ","Iniciar sesi\xf3n","boss","lab","fac","baker","delivery","tester","logout"],bg:["\u041f\u0435\u043a\u0430\u0440\u043d\u0430: ","\u041e\u0442\u0432\u043e\u0440\u0438 \u0421\u0435\u0441\u0438\u044f","boss","lab","fac","baker","delivery","tester","logout"]}},m=l.match.url;return c.a.createElement("div",{className:"App-content topped padded"},c.a.createElement("div",{className:"menu-bar dobletopped"},c.a.createElement(B.a.Group,{color:"grey"},c.a.createElement(B.a,{as:i.b,to:m,icon:"home"}),1===n&&c.a.createElement(B.a,{as:i.b,to:"".concat(m,"/").concat(u.ui[a][2]),content:u.ui[a][3]}),2===n&&c.a.createElement(B.a,{as:i.b,to:"".concat(m,"/").concat(u.ui[a][3]),content:u.ui[a][3]}),4===n&&c.a.createElement(B.a,{as:i.b,to:"".concat(m,"/").concat(u.ui[a][4]),content:u.ui[a][4]}),8===n&&c.a.createElement(B.a,{as:i.b,to:"".concat(m,"/").concat(u.ui[a][5]),content:u.ui[a][5],desabled:!l.fac.open}),32===n&&c.a.createElement(B.a,{as:i.b,to:"".concat(m,"/").concat(u.ui[a][6]),content:u.ui[a][6]}),64===n&&c.a.createElement(B.a,{as:i.b,to:"".concat(m,"/").concat(u.ui[a][7]),icon:"eye",content:u.ui[a][7]}),c.a.createElement(B.a,{as:i.b,to:m,icon:"stop circle outline",color:"blue",content:u.ui[a][8],onClick:function(e){return console.log("Logout this User"),localStorage.clear(),I(),r({}),ge(),void o({socket:!1})}}))),c.a.createElement(s.d,null,c.a.createElement(s.b,{path:l.match.url,exact:!0,render:function(){return c.a.createElement(Ke,{lan:a,id:l.fac.id,fowner:l.fac.uid,uid:t,member:n})}}),c.a.createElement(s.b,{path:"".concat(l.match.url,"/").concat(u.ui[a][2]),component:Ke}),c.a.createElement(s.b,{path:"".concat(l.match.url,"/").concat(u.ui[a][3]),component:Ke}),c.a.createElement(s.b,{path:"".concat(l.match.url,"/").concat(u.ui[a][4]),component:Ke}),c.a.createElement(s.b,{path:"".concat(l.match.url,"/").concat(u.ui[a][5]),component:He}),c.a.createElement(s.b,{path:"".concat(l.match.url,"/").concat(u.ui[a][6]),component:Ke}),c.a.createElement(s.b,{path:"".concat(l.match.url,"/").concat(u.ui[a][7]),render:function(){return c.a.createElement(We,{lan:a,member:n})}})))}),$e=function(e){function t(){var e,a;Object(J.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(Z.a)(this,(e=Object(X.a)(t)).call.apply(e,[this].concat(r)))).state={ui:{es:["Su Pedido","No haz jugado hoy!","No haz comido hoy!","Nada para repetir..."],en:["Repeat this:","You've played 0 Games today!","You haven't eaten today!","Nothing to repeat..."],bg:["\u041f\u043e\u0432\u0442\u043e\u0440\u0438: ","\u041d\u0435 \u0441\u0438 \u0438\u0433\u0440\u0430\u043b \u0434\u043d\u0435\u0441!","\u041d\u0435 \u0441\u0438 \u044f\u043b \u0434\u043d\u0435\u0441!","\u041d\u0438\u0449\u043e \u0437\u0430 \u043f\u043e\u0432\u0442\u0430\u0440\u044f\u043d\u0435..."]}},a}return Object(K.a)(t,e),Object(V.a)(t,[{key:"render",value:function(){var e=this.props.lan,t=this.state.ui[e];return c.a.createElement("div",{className:"App-content central padded"},c.a.createElement("div",{className:"margined full-width"},c.a.createElement(q.a,{horizontal:!0},t[0]),c.a.createElement(te.a,{negative:!0},c.a.createElement(te.a.Header,null,t[2]),c.a.createElement("p",null,t[3]))))}}]),t}(c.a.Component),et=function(e){var t=e.lan,a=(e.pass,e.login);return c.a.createElement("div",{className:"App-content padded Admin-Page"},c.a.createElement(ae,{submit:a,lan:t,pass:!0}))},tt=function(e){function t(){var e,a;Object(J.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(Z.a)(this,(e=Object(X.a)(t)).call.apply(e,[this].concat(r)))).state={ui:{es:["Su Pedido","Por ahora no hay juegos","Vuelva pronto..."],en:["Play Home","No Games to play yet","Come back soon..."],bg:["\u0418\u0433\u0440\u0438","\u041d\u044f\u043c\u0430 \u0438\u0433\u0440\u0438 \u0437\u0430 \u0441\u0435\u0433\u0430","\u041f\u0440\u043e\u0432\u0435\u0440\u0438 \u043e\u0442\u043d\u043e\u0432\u043e \u0441\u043a\u043e\u0440\u043e..."]}},a}return Object(K.a)(t,e),Object(V.a)(t,[{key:"render",value:function(){var e=this.props.lan,t=this.state.ui[e];return c.a.createElement("div",{className:"App-content central padded"},c.a.createElement("div",{className:"margined full-width"},c.a.createElement(q.a,{horizontal:!0},t[0]),c.a.createElement(te.a,{negative:!0},c.a.createElement(te.a.Header,null,t[1]),c.a.createElement("p",null,t[2]))))}}]),t}(c.a.Component),at=function(e){var t=e.ind,a=e.prime,n=(e.lan,e.view),r=e.row,o=e.stat,s=e.edit,l=e.locClick,u=e.current;console.log("ULocation row: ",u,r.location,r.prime);var m=r.prime?" selected-row":"";return c.a.createElement("div",{className:"ui grid item"+m},c.a.createElement("div",{className:"two wide column nopad items"},!o&&a?c.a.createElement(Oe.a,{name:"pin"}):"",o&&"select"===n&&c.a.createElement(Ye.a,{checked:u===r.location||!!r.prime&&0===u,onChange:function(){return l(r.location)}})),c.a.createElement("div",{className:"eight wide column nopad"},r.street),c.a.createElement("div",{className:"two wide column nopad"},r.number||r.location),c.a.createElement("div",{className:"two wide column nopad"},!o&&c.a.createElement("span",{basic:!0,onClick:null},c.a.createElement(Oe.a,{color:"red",name:"minus circle"}))),c.a.createElement("div",{className:"two wide column nopad"},s&&c.a.createElement(i.b,{to:"/user/location/"+t},c.a.createElement(Oe.a,{color:"blue",name:"pencil"}))))},nt=function(e){var t=e.stat,a=e.view,n=e.lan,r=e.list,o=e.city,s=e.onLocation,l=e.current,u=e.disabled,m=e.fac,d={en:["No Locations","Address","\u0411\u0435\u0437 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0430!"],es:["No tienes Direcci\xf3n","Direcci\xf3n","\u0411\u0435\u0437 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0430!"],bg:["\u041d\u044f\u043c\u0430\u0448 \u0410\u0434\u0440\u0435\u0441!","\u0410\u0434\u0440\u0435\u0441","\u0411\u0435\u0437 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0430!"],error:{en:["No Delivery Service!","Your Location has no Delivery Service! Take your pedido from: "],es:["Sin Domcilio!","Esta localidad no tiene servicio a Domicilio. Recibe su pedido a la direcci\xf3n: "],bg:["\u0411\u0435\u0437 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0430!","\u0422\u043e\u0437\u0438 \u0440\u0430\u0439\u043e\u043d \u0435 \u0431\u0435\u0437 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438. \u0412\u0437\u0435\u043c\u0438 \u0441\u0432\u043e\u044f\u0442\u0430 \u043f\u043e\u0440\u044a\u0447\u043a\u0430 \u043e\u0442 \u0430\u0434\u0440\u0435\u0441: "]}};return c.a.createElement("div",{className:r&&0!==r.length?"order-list":"order-list empty"},u&&c.a.createElement(te.a,{negative:!0},c.a.createElement(te.a.Header,null,d.error[n][0]),c.a.createElement("p",null,d.error[n][1]),c.a.createElement("b",null,"'".concat(m.street,"', ").concat(m.number))),u||r&&0!==r.length?c.a.createElement("div",null,r.forEach(function(e,r){if(e.city===o)return c.a.createElement(at,{key:r,ind:r,prime:e.prime,current:l,locClick:s,lan:n,row:e,view:a,edit:!0,stat:t})})):c.a.createElement("div",null,c.a.createElement("div",null,d[n][0]),c.a.createElement("br",null),c.a.createElement("div",{className:"oval-but"},c.a.createElement(B.a,{as:i.b,to:"../user/locations",color:"red",icon:"warning sign",content:d[n][1]}))))},rt=function(e){function t(){var e,a;Object(J.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(Z.a)(this,(e=Object(X.a)(t)).call.apply(e,[this].concat(r)))).state={ui:{en:["Order","Where to:","Order:","Cancel","Add","You must give us a location!","Oreder recieved","Tu Pick up","Or","Success","Error"],es:["Orden","Para donde:","Pedir","Cancelar","M\xe1s","Necesitamos direcci\xf3n de entrega!","Pedido recibido","Para recojer","O","Exitoso","Error"],bg:["\u041f\u043e\u0440\u044a\u0447\u043a\u0430","\u0417\u0430 \u043a\u044a\u0434\u0435:","\u041f\u043e\u0440\u044a\u0447\u0430\u0439","\u041e\u0442\u043a\u0430\u0436\u0438","\u041e\u0449\u0435","\u0422\u0440\u044f\u0431\u0432\u0430 \u043d\u0438 \u0430\u0434\u0440\u0435\u0441 \u043d\u0430 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0430!","\u041f\u043e\u0440\u044a\u0447\u043a\u0430\u0442\u0430 \u0435 \u043f\u0440\u0438\u0435\u0442\u0430","\u0417\u0430 \u0412\u0437\u0435\u043c\u0430\u043d\u0435","\u0418\u043b\u0438","\u0427\u0435\u0441\u0442\u0438\u0442\u043e!","!\u0413\u0440\u0435\u0448\u043a\u0430!"]},currentLocation:0,delivery:1,message:{}},a.onLocationSlected=function(e){console.log(e),a.setState({currentLocation:e,message:{}})},a.onOrder=function(e){var t,n=0,r=a.props,o=r.user,c=r.cart,i=r.lan,s=r.fac,l=a.state,u=l.currentLocation,m=l.delivery,d=c.map(function(e){return(parseFloat(e.price)*parseFloat(e.quant)).toFixed(2)}).reduce(function(e,t){return(parseFloat(e)+parseFloat(t)).toFixed(2)});if(m){if(o.locations.forEach(function(e){e.prime&&0!==e.prime&&(n=e.id,console.log("Deliver ",n))}),!n&&!u)return void a.setState({message:{stat:a.state.ui[i][5]}});t=0!==u?u:n,a.props.makeCart({user_location:t,cart:c,delivery:m,fac_id:s.id,total:d}).then(function(e){return a.setState({message:{stat:e}})}).catch(function(e){return a.setState({message:{err:e}})})}else a.props.makeCart({user_location:null,cart:c,delivery:m,fac_id:s.id,total:d}).then(function(e){a.setState({message:{stat:e}}),be(null,JSON.stringify({user:o.uid,mem:o.membership,fac:s.id,ordered:!0}))}).catch(function(e){return a.setState({message:{err:e}})})},a}return Object(K.a)(t,e),Object(V.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.user.locations,t=this.props,a=t.fac,n=t.getLocationData;4===a.delivery&&this.setState({delivery:0}),e&&0!==e.length&&e.forEach(function(e,t){n(e.location,t)})}},{key:"render",value:function(){var e=0,t=this.props,a=t.user,n=t.cart,r=t.lan,o=t.city,s=t.fac,l=this.state,u=l.currentLocation,m=l.message,d=l.delivery,p=this.state.ui[r];a.locations&&a.locations.forEach(function(e){e.prime});var h=n.map(function(e){return(parseFloat(e.price)*parseFloat(e.quant)).toFixed(2)});return h.length>0&&(e=h.reduce(function(e,t){return(parseFloat(e)+parseFloat(t)).toFixed(2)})),console.log(h,n),c.a.createElement("div",{className:"App-content topped padded"},c.a.createElement(q.a,{horizontal:!0},p[1]),a.locations||4===s.delivery?c.a.createElement(nt,{view:"select",stat:!0,disabled:4===s.delivery,current:u,onLocation:this.onLocationSlected,list:a.locations?a.locations.filter(function(e){return e.city===o}):[],city:o,lan:r,fac:s}):c.a.createElement("div",null,c.a.createElement(B.a,{as:i.b,to:"../user/locations",color:"red",icon:"warning sign",content:p[1]})),Object.keys(m).length>0&&!!d&&c.a.createElement(te.a,{negative:!0,content:m.stat}),4!==s.delivery&&c.a.createElement(q.a,{horizontal:!0},p[8]),4!==s.delivery&&c.a.createElement("div",{className:"oval-but"},c.a.createElement(B.a,{fluid:!0,content:p[7],icon:"hand paper",color:"blue"})),c.a.createElement(q.a,{horizontal:!0},p[0]),Object.keys(m).length>0?c.a.createElement(te.a,{positive:m.stat,negative:m.error},c.a.createElement(te.a.Header,null,m.stat?p[9]:p[10]),c.a.createElement("p",null,m.stat?m.stat:m.err)):c.a.createElement(Le,{stat:!0,cart:n,lan:r}),c.a.createElement(q.a,{horizontal:!0},"\u25cb"),c.a.createElement("div",{className:"menu-bar"},c.a.createElement(B.a.Group,null,c.a.createElement(B.a,{color:"grey",onClick:this.props.cancelCart,as:i.b,to:"/",content:p[3]}),c.a.createElement(B.a,{name:"submit",disabled:0===e||!a.locations&&4!==s.delivery,color:"orange",onClick:this.onOrder,content:p[2].concat(" ",e.toString())}),c.a.createElement(B.a,{color:"grey",as:i.b,to:"/order",icon:"plus",content:p[4]}))))}}]),t}(c.a.Component);rt.propType={lan:U.a.string.isRequired,user:U.a.shape({uid:U.a.number.isRequired}),cart:U.a.array.isRequired,city:U.a.number.isRequired};var ot=Object(m.b)(function(e){return{lan:e.settings.lan,user:e.user,fac:e.facs,cart:e.cart,city:e.settings.city}},{getLocationData:x,cancelCart:function(){return{type:"CART_CLEAR"}},makeCart:function(e){return function(t){return new Promise(function(a,n){C.pushOrder(e).then(function(e){t({type:"CART_CLEAR"}),a(e.message)}).catch(function(e){n(e.response.statusText)})})}}})(rt),ct=function(e){var t=e.lan,a=e.has_perks,n=e.new_user,r=e.perks,o={ui:{bg:["\u0418\u043c\u0430\u0448","\u041d\u044f\u043c\u0430\u0448","\u0431\u043e\u043d\u0443\u0441\u0438!..."],en:["You have","You have No","perks!..."],es:["Tienes","No tienes","obsequios!"]}};return c.a.createElement("div",null,a||n?"".concat(o.ui[t][0]," ").concat(r.length," ").concat(o.ui[t][2]):"".concat(o.ui[t][1]," ").concat(o.ui[t][2]))},it=function(e){function t(){var e,a;Object(J.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(Z.a)(this,(e=Object(X.a)(t)).call.apply(e,[this].concat(r)))).state={ui:{en:["Your Locations:","New","Edit","Dashboard:","Your Perks:"],es:["Tus direciones:","Nueva","Editar","Controles:","Tus obsequios:"],bg:["\u0422\u0432\u043e\u0438\u0442\u0435 \u0410\u0434\u0440\u0435\u0441\u0438:","\u0410\u0434\u0440\u0435\u0441","\u041f\u0440\u043e\u043c\u0435\u043d\u0438","\u041a\u043e\u043d\u0442\u0440\u043e\u043b\u0438:","\u0422\u0432\u043e\u0438\u0442\u0435 \u043d\u0430\u0433\u0440\u0430\u0434\u0438:"]}},a.getLocData=function(e){e.forEach(function(e,t){a.props.getLocationData(e.location,t)})},a.logout=function(){console.log("Logout this User"),localStorage.clear(),I(),a.props.userSignedIn({}),ge(),a.props.setInterface({socket:!1})},a}return Object(K.a)(t,e),Object(V.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.locations;e&&0!==e.length&&this.getLocData(e)}},{key:"componentDidUpdate",value:function(e){var t=this.props.locations;t&&(e.locations&&e.locations.length===t.length||this.getLocData(t))}},{key:"render",value:function(){var e=this,t=this.props,a=t.lan,n=t.user,r=t.city,o=t.fac,s=this.state.ui[a],l=n.locations?n.locations.filter(function(e){return e.city===r}):[];return c.a.createElement("div",{className:"App-content topped padded oval-but"},c.a.createElement(q.a,{horizontal:!0},s[0]),c.a.createElement(nt,{disabled:4===o.delivery,view:"list",stat:!1,fac:o,list:l,lan:a}),(4!==o.delivery||0!==l.length)&&c.a.createElement(q.a,{horizontal:!0},"\u25cb"),(4!==o.delivery||0!==l.length)&&c.a.createElement("div",{className:"row centered menu-bar"},c.a.createElement(B.a.Group,{color:"grey",widths:"2"},c.a.createElement(B.a,{as:i.b,to:"/",icon:"home"}),c.a.createElement(B.a,{disabled:4===o.delivery,as:i.b,to:"/user/locations",icon:"plus",content:s[1]}))),c.a.createElement(q.a,{horizontal:!0},s[3]),c.a.createElement(q.a,{horizontal:!0},s[4]),c.a.createElement(ct,{lan:a,has_perks:n.free_pizza,new_user:n.new_user}),c.a.createElement(q.a,{horizontal:!0}),c.a.createElement(B.a,{fluid:!0,color:"red",content:"LOGOUT",as:i.b,to:"/",onClick:function(t){e.logout()}}))}}]),t}(c.a.Component);it.propType={lan:U.a.number.isRequired,city:U.a.number.isRequired,facs:U.a.shape({delivery:U.a.number.isRequired}).isRequired,user:U.a.shape({locations:U.a.array.isRequired,free_pizza:U.a.bool.isRequired}).isRequired};var st=Object(m.b)(function(e){return{city:e.settings.city,fac:e.facs,user:e.user}},{getLocationData:x,userSignedIn:R,setInterface:j})(it),lt=function(e){function t(){var e,a;Object(J.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(Z.a)(this,(e=Object(X.a)(t)).call.apply(e,[this].concat(r)))).state={isLoading:!1,data:{},value:null},a.resetComponent=function(){return a.setState({isLoading:!1,results:[],value:""})},a.handleResultSelect=function(e,t){var n=t.result,r=t.name,o=n.title,c=n.id,i=a.props,s=i.getInput,l=i.getNumbers,u=i.onNewData;"street"===r&&l("location",c),a.setState(Object(h.a)({},a.state,{value:o,data:Object(h.a)({},a.state.data,Object(Y.a)({},r,c))})),"location"===r&&u(Object(Y.a)({},r,c)),s(o,r)},a.handleSearchChange=function(e,t){var n=t.value,r=t.name;a.setState({isLoading:!0,value:n});var o=a.props,c=o.list,i=o.getInput;setTimeout(function(){if(a.state.value.toString().length<1)return a.resetComponent();var e=new RegExp(se.a.escapeRegExp(a.state.value),"i");a.setState({isLoading:!1,results:se.a.filter(c,function(t){return e.test(t.title.toString())})})},300),i(n,r)},a}return Object(K.a)(t,e),Object(V.a)(t,[{key:"componentWillMount",value:function(){this.resetComponent()}},{key:"render",value:function(){var e=this.state,t=e.isLoading,a=e.value,n=e.results,r=this.props.name;return c.a.createElement("div",null,c.a.createElement("div",{className:"street"===r?"full-width":"short"},c.a.createElement(le.a,Object.assign({name:r,loading:t,onResultSelect:this.handleResultSelect,onSearchChange:se.a.debounce(this.handleSearchChange,500,{leading:!0}),results:n,value:a},this.props))))}}]),t}(c.a.Component),ut=function(e){function t(){var e,a;Object(J.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(Z.a)(this,(e=Object(X.a)(t)).call.apply(e,[this].concat(r)))).state={data:{},ui:{en:["number"],es:["numero"],bg:["\u043d\u043e\u043c\u0435\u0440"]}},a.onChange=function(e,t){var n=t.name,r=t.value;t.key;a.setState({data:Object(h.a)({},a.state.data,Object(Y.a)({},n,Number(r)))});var o=a.props.list;a.props.onNewData(Object(Y.a)({},n,Number(r)));var c=o.findIndex(function(e){return e.id===r});a.props.getInput(o[c].title,n)},a}return Object(K.a)(t,e),Object(V.a)(t,[{key:"render",value:function(){var e,t=this.state.ui,a=this.props,n=a.name,r=a.list;return r&&(e=r.map(function(e,t){return{key:t+1,value:e.id,text:e.title}})),c.a.createElement("div",{className:"short"},c.a.createElement(ee.a.Select,{onChange:this.onChange,name:n,placeholder:t[0],options:e,value:this.state.data[n]||""}))}}]),t}(c.a.Component),mt=function(e){function t(){var e,a;Object(J.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(Z.a)(this,(e=Object(X.a)(t)).call.apply(e,[this].concat(r)))).state={ui:{en:["floor","door","entry","bell","mobile","myHome, theOffice,...","Name it like:","Primary"],es:["piso","puerta","entrada","timbre","mobile","miCasa, LaOficina,...","Ponle nombre:","Principal"],bg:["\u0435\u0442\u0430\u0436","\u0432\u0440\u0430\u0442\u0430","\u0432\u0445\u043e\u0434","\u0437\u0432\u044a\u043d\u0435\u0446","\u043c\u043e\u0431\u0438\u043b\u0435\u043d","\u0443\u041d\u0430\u0441, \u043e\u0444\u0438\u0441\u0430, \u043f\u0440\u0438\u041c\u0430\u043c\u0430,...","\u0418\u043c\u0435\u043d\u0443\u0432\u0430\u0439 \u0410\u0434\u0440\u0435\u0441\u0430:","\u041e\u0441\u043d\u043e\u0432\u0435\u043d"]},valid:!0,empty:!0,data:{}},a.onChange=function(e,t){var n,r=t.name,o=t.value;n=isNaN(o)?o:Number(o),a.setState({data:Object(h.a)({},a.state.data,Object(Y.a)({},r,n))}),a.props.edit?a.props.onInput(r,n):a.props.addData(Object(Y.a)({},r,n))},a.onCheckBox=function(e,t){var n=t.name;a.props.onInput(n,a.state.data[n]?Number(!a.state.data[n]):1),a.setState({data:Object(h.a)({},a.state.data,Object(Y.a)({},n,!a.state.data[n]||!a.state.data[n]))})},a.onClear=function(e){e.preventDefault(),a.setState({data:{}})},a}return Object(K.a)(t,e),Object(V.a)(t,[{key:"componentDidMount",value:function(){this.props.edit&&this.setState({data:Object(h.a)({},this.state.data,{prime:this.props.loc.prime})})}},{key:"render",value:function(){var e=this.props,t=e.lan,a=e.edit,n=e.loc,r=this.state.ui[t],o=this.state,i=o.valid,s=o.data;return c.a.createElement(ee.a,null,c.a.createElement(ee.a.Group,null,c.a.createElement("div",{className:"ui grid"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"eight wide column rect"},c.a.createElement(ee.a.Input,{onChange:this.onChange,required:!0,name:"bell",placeholder:a&&n.bell?r[3].concat(": ",n.bell):r[3],value:s.bell||""})),c.a.createElement("div",{className:"seven wide column rect"},c.a.createElement(ee.a.Input,{onChange:this.onChange,required:!0,name:"mobile",placeholder:a&&n.mobile?n.mobile:r[4],value:s.mobile||""}))),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"four wide column rect"},c.a.createElement(ee.a.Input,{onChange:this.onChange,required:!0,name:"floor",placeholder:a&&n.floor?n.floor.toString().concat(" ",r[0]):r[0],value:s.floor||""})),c.a.createElement("div",{className:"four wide column rect"},c.a.createElement(ee.a.Input,{onChange:this.onChange,required:!0,name:"door",placeholder:a&&n.door?n.door.toString().concat(" ",r[1]):r[1],value:s.door||""})),c.a.createElement("div",{className:"four wide column rect"},c.a.createElement(ee.a.Input,{onChange:this.onChange,name:"entry",placeholder:a&&n.entry?n.entry.toString().concat(" ",r[2]):r[2],value:s.entry||""})),!a&&c.a.createElement("div",{className:"tree wide column"},c.a.createElement(B.a,{className:"add-but",icon:"ban",onClick:this.onClear}))),a&&c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"eight wide column rect"},c.a.createElement(ee.a.Input,{onChange:this.onChange,label:r[6],name:"name",placeholder:n.name?n.name:r[5],value:s.name||""})),c.a.createElement("div",{className:"seven wide column rect"},c.a.createElement(Ye.a,{label:r[7],name:"prime",checked:s.prime||n.prime,onClick:this.onCheckBox})))),!i&&c.a.createElement("div",{className:"margined full-width"},c.a.createElement(te.a,{negative:!0},c.a.createElement(te.a.Header,null,r[3]),c.a.createElement("p",null,1)))))}}]),t}(c.a.Component),dt=a(533),pt=function(e){function t(){var e,a;Object(J.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(Z.a)(this,(e=Object(X.a)(t)).call.apply(e,[this].concat(r)))).state={ui:{en:["8 string reference...","Reference:"],es:["8 signos...","Referencia:"],bg:["8 \u0437\u043d\u0430\u043a\u0430 \u043a\u043e\u0434...","\u0420\u0435\u0444\u0435\u0440\u0435\u043d\u0446\u0438\u044f:"]},uid:""},a.onChange=function(e){a.setState({uid:e.target.value})},a.onClick=function(){""!==a.state.uid&&a.props.onRef(a.state.uid)},a}return Object(K.a)(t,e),Object(V.a)(t,[{key:"render",value:function(){var e=this.state.ui[this.props.lan];return c.a.createElement(dt.a,{action:{color:"teal",labelPosition:"left",icon:"key",content:"".concat(e[1]),onClick:this.onClick},name:"uid",onChange:this.onChange,actionPosition:"left",placeholder:e[0]})}}]),t}(c.a.Component),ht=function(e){function t(){var e,a;Object(J.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(Z.a)(this,(e=Object(X.a)(t)).call.apply(e,[this].concat(r)))).state={ui:{en:["Delivery Location","Your Street in, ","Your Number:","Save","No service on that location","We've got you! Just open the... which door:","Have a reference..?","No ref","No such reference"],es:["Direccion de entrega","Calle-\u043e-Carrera en, ","Tu Numero:","Guardar","No hay servicio en esta direccion","Lo ubicamos! Solo abrenos la... que puerta:","Tienes referencia..?","No tengo","No such reference"],bg:["\u0410\u0434\u0440\u0435\u0441 \u0437\u0430 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0430","\u0422\u0432\u043e\u044f\u0442\u0430 \u0443\u043b\u0438\u0446\u0430 \u0432\u044a\u0432, ","\u041d\u043e\u043c\u0435\u0440:","\u0417\u0430\u043f\u0430\u0437\u0438","\u041d\u0435 \u043e\u0431\u0441\u043b\u0443\u0436\u0432\u0430\u043c\u0435 \u0442\u043e\u0437\u0438 \u0430\u0434\u0440\u0435\u0441","\u0422\u0443\u043a \u0441\u043c\u0435! \u0421\u0430\u043c\u043e \u043e\u0442\u0432\u043e\u0440\u0438 \u0432\u0440\u0430\u0442\u0430\u0442\u0430... \u043a\u043e\u044f \u0432\u0440\u0430\u0442\u0430? :","\u0418\u043c\u0430\u0448 \u0440\u0435\u0444\u0435\u0440\u0435\u043d\u0446\u0438\u044f..?","\u041d\u044f\u043c\u0430\u043c","\u041d\u044f\u043c\u0430 \u0442\u0430\u043a\u0430\u0432\u0430 \u0440\u0435\u0444\u0435\u0440\u0435\u043d\u0446\u0438\u044f"]},data:{},input:{},errors:{},message:!1,location:!1,locate:!1,loc_id:"",rep:!0},a.addData=function(e){console.log("Add in Locations: ",e),a.setState(Object(h.a)({},a.state,{data:Object(h.a)({},a.state.data,e)}))},a.getInput=function(e,t){a.setState({input:Object(h.a)({},a.state.input,Object(Y.a)({},t,e))});var n=t.concat("s"),r=se.a.filter(a.props[n],function(a){return"street"===t?a.title===e:Number(a.title)===e});"location"!==t&&0===r.length?a.setState(Object(Y.a)({errors:Object(Y.a)({},t,t)},t,!1)):a.setState(Object(Y.a)({errors:se.a.omit(a.state.errors,[t])},t,!0))},a.checkReference=function(e){a.props.checkReference(e).then(function(e){e.error?a.setState({message:!0,errors:e.error}):(console.log(e),a.setState({input:Object(h.a)({},a.state.input,e),data:Object(h.a)({},a.state.data,{location:e.id,ref:1}),loc_id:e.id,message:!1,errors:""}))}).catch(function(e){})},a.noRef=function(e){a.setState({rep:!1,loc_id:"",message:!1,errors:""})},a.onSubmit=function(e){!a.state.locate||a.state.rep?(e.preventDefault(),a.saveLocation()):a.submitLocation()},a.saveLocation=function(){if(0===Object.keys(a.state.errors).length){var e=a.state;e.rep,e.loc_id,e.data;a.setState({rep:!1,locate:!0,errors:{},message:!1})}else a.setState({message:!0,errors:4})},a.submitLocation=function(){a.props.userAddLocation(a.state.data)},a}return Object(K.a)(t,e),Object(V.a)(t,[{key:"componentDidMount",value:function(){this.props.city&&this.props.getLocations("street",this.props.city)}},{key:"render",value:function(){var e=this.props,t=e.streets,a=e.lan,n=e.city,r=e.cities,o=e.locations,s=this.state.ui[a],l=this.state,u=l.street,m=l.location,d=l.locate,p=l.message,h=l.input,f=l.rep,b=l.loc_id,g="";return r&&r.forEach(function(e){e.id===n&&(g=e.title)}),c.a.createElement("div",{className:"App-content topped padded"},c.a.createElement(q.a,{horizontal:!0},s[0]),d?c.a.createElement(at,{onClick:A,row:h,stat:!0,lan:a}):c.a.createElement("p",{className:void 0===u||u?"left":"left warent"},f?s[6]:s[1]+g+":"),f&&c.a.createElement(pt,{lan:a,onRef:this.checkReference}),!d&&!f&&c.a.createElement(lt,{lan:a,name:"street",getInput:this.getInput,onNewData:this.addData,list:t,getNumbers:this.props.getLocations}),o&&o.length>0&&u&&!d&&!f&&c.a.createElement("p",{className:void 0===m||m?"left short":"left short warent"},s[2],c.a.createElement(ut,{name:"location",getInput:this.getInput,onNewData:this.addData,list:o})),d&&c.a.createElement("div",{className:"custom-form"},c.a.createElement(q.a,{horizontal:!0}),c.a.createElement("p",{className:"vintage left"},s[5]),c.a.createElement(mt,{lan:a,addData:this.addData})),c.a.createElement(q.a,{horizontal:!0}),p&&c.a.createElement(te.a,{positive:this.state.errors<3,negative:this.state.errors>2,content:s[this.state.errors]}),c.a.createElement("div",{className:"column sixteen wide oval-but extra-padded"},f&&c.a.createElement("div",{className:"row centered menu-bar"},c.a.createElement(B.a.Group,{widths:"2"},c.a.createElement(B.a,{color:"grey",disabled:!b||""===b,icon:"thumbs up",content:"OK",onClick:this.onSubmit}),c.a.createElement(B.a,{disabled:b||""!==b,icon:"exclamation circle",color:"blue",content:s[7],onClick:this.noRef}))),!f&&c.a.createElement("div",{className:"row centered menu-bar"},c.a.createElement(B.a.Group,{widths:"2"},c.a.createElement(B.a,{color:"grey",content:"Clear"}),c.a.createElement(B.a,{as:i.b,to:"/user",disabled:!m,basic:!m,color:"black",content:s[3],onClick:this.onSubmit})))))}}]),t}(c.a.Component);ht.propType={lan:U.a.string.isRequired,city:U.a.number.isRequired};var ft=Object(m.b)(function(e){return{city:e.settings.city,street:e.settings.street,cities:e.settings.cities,streets:e.settings.streets,locations:e.user.locations,lan:e.settings.lan}},{getLocations:k,addUserLocation:D,userAddLocation:function(e){return function(t){O.addLocation(e).then(function(a){e.id=a,t(D(e))})}},checkReference:A})(ht),bt=function(e){function t(){var e,a;Object(J.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(Z.a)(this,(e=Object(X.a)(t)).call.apply(e,[this].concat(r)))).state={ui:{en:["Edit this Location:","Save","Cancel","Reset"],es:["Editar Direccion:","Guardar","Cancelar","Omitir"],bg:["\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u0430\u0439 \u0410\u0434\u0440\u0435\u0441:","\u0417\u0430\u043f\u0430\u0437\u0438","\u041d\u0430\u0437\u0430\u0434","\u041e\u0442\u043a\u0430\u0436\u0438"]},input:{}},a.onInput=function(e,t){console.log(e,t),a.setState({input:Object(h.a)({},a.state.input,Object(Y.a)({},e,t))})},a.onSubmit=function(e){var t=a.props,n=t.locations,r=t.match,o=Number(n[r.params.id].id);e.preventDefault(),a.props.userUpdateLocation(r.params.id,o,a.state.input)},a}return Object(K.a)(t,e),Object(V.a)(t,[{key:"render",value:function(){var e=this.state.ui[this.props.lan];return c.a.createElement("div",{className:"App-content topped padded"},c.a.createElement(q.a,{horizontal:!0},e[0]),c.a.createElement("div",{className:"custom-form"},c.a.createElement(mt,{edit:!0,lan:this.props.lan,loc:this.props.locations[this.props.match.params.id],onInput:this.onInput})),c.a.createElement(q.a,{horizontal:!0}),c.a.createElement("div",{className:"row centered menu-bar"},c.a.createElement(B.a.Group,{widths:"3"},c.a.createElement(B.a,{as:i.b,to:"/user",content:e[2]}),c.a.createElement(B.a,{color:"grey",content:e[3]}),c.a.createElement(B.a,{color:"blue",icon:"thumbs up",content:e[1],onClick:this.onSubmit}))))}}]),t}(c.a.Component),gt=Object(m.b)(function(e){return{locations:e.user.locations}},{userUpdateLocation:function(e,t,a){return function(n){O.updateLocation(a,t).then(function(t){console.log(t),n(_(e,a))})}}})(bt),vt=function(e){function t(){var e,a;Object(J.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(Z.a)(this,(e=Object(X.a)(t)).call.apply(e,[this].concat(r)))).state={data:{},bg:"",lat:"",code:"",number:"",ui:{en:["Street:lat","City:bg","City:lat","#","Next","Edit","Reset","System message:","Country","post","Street:bg","Add Location","Add Street"],es:["Calle:lat","Ciudad:bg","City:lat","#","Seguir","Editar","Cancelar","Mensaje del sistema:","Pais","postal","Calle:bg","Nueva Locacion","Nueva Calle"],bg:["\u0423\u043b\u0438\u0446\u0430:\u043b\u0430\u0442","\u0413\u0440\u0430\u0434:\u0431\u0433","\u0413\u0440\u0430\u0434:\u043b\u0430\u0442","#","\u0417\u0430\u043f\u0430\u0437\u0438","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u0430\u0439","\u0418\u0437\u0447\u0438\u0441\u0442\u0438","\u0421\u0438\u0441\u0442\u0435\u043c\u043d\u043e \u0441\u044a\u043e\u0431\u0449\u0435\u043d\u0438\u0435:","\u0414\u044a\u0440\u0436\u0430\u0432\u0430","\u043a\u043e\u0434","\u0423\u043b\u0438\u0446\u0430:\u0431\u0433","\u041d\u043e\u0432 \u0410\u0434\u0440\u0435\u0441","\u041d\u043e\u0432\u0430 \u0423\u043b\u0438\u0446\u0430"]},message:"",msgClosed:!0,locate:!1},a.onReset=function(e){e&&e.preventDefault(),a.setState({data:{},bg:"",lat:"",code:"",locate:!1,msgClosed:!0,message:"",number:""})},a.closeMessage=function(e){e.preventDefault(),a.setState({message:{}})},a.onChange=function(e,t){var n=t.name,r=t.value;r="number"===n?Number(r):r,a.setState(Object(Y.a)({data:Object(h.a)({},a.state.data,Object(Y.a)({},n,r))},n,r))},a.onCity=function(e,t){var n,r=t.name,o=t.value,c=a.state.city,i=a.props.loc,s=c[i].findIndex(function(e){return e.c===o}),l=c[i][s].code;a.setState({data:Object(h.a)({},a.state.data,(n={},Object(Y.a)(n,r,o),Object(Y.a)(n,"post",l),n))})},a.onStreet=function(e){a.setState({data:Object(h.a)({},a.state.data,e)})},a.onSubmit=function(){var e=a.state,t=e.data,n=e.locate,r=a.props,o=r.city,c=r.addLocation,i=o?n?"location":"street":"city";o&&(t.city=o),console.log("POST Location: ",t),c(t,i).then(function(e){a.setState(Object(h.a)({},a.state,e))}),a.onReset()},a}return Object(K.a)(t,e),Object(V.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.lan,n=t.city,r=t.cities,o=t.streets,i=this.state,s=i.message,l=i.locate,u=this.state.ui[a];return r&&!o?r.bg.map(function(e){return e.c}).sort().map(function(e,t){return{key:t+1,value:e.id,text:e.title}}):o&&o.map(function(e,t){return{key:t+1,value:e.id,text:e.title}}),c.a.createElement(ee.a,{onSubmit:this.onSubmit},c.a.createElement(ee.a.Group,null,c.a.createElement("div",{className:"ui grid",style:{width:"100vw"}},Object.keys(s).length>0&&c.a.createElement("div",{className:"margined full-width"},c.a.createElement(te.a,{as:"div",positive:!0,size:"tiny",onDismiss:this.closeMessage,header:u[7],content:s})),!n&&c.a.createElement("div",{className:"row centered"},c.a.createElement("div",{className:"twelve wide column",style:{marginBottom:"10px"}},c.a.createElement(ee.a.Input,{fluid:!0,name:"bg",onChange:this.onChange,value:this.state.bg,placeholder:u[1]})),c.a.createElement("div",{className:"twelve wide column",style:{marginBottom:"10px"}},c.a.createElement(ee.a.Input,{fluid:!0,name:"lat",onChange:this.onChange,value:this.state.lat,placeholder:u[2]})),c.a.createElement("div",{className:"twelve wide column"},c.a.createElement(ee.a.Input,{fluid:!0,name:"code",onChange:this.onChange,value:this.state.code,placeholder:u[3]}))),!l&&n&&c.a.createElement("div",{className:"row centered"},c.a.createElement("div",{className:"twelve wide column",style:{marginBottom:"10px"}},c.a.createElement(ee.a.Input,{fluid:!0,name:"bg",onChange:this.onChange,value:this.state.bg,placeholder:u[10]})),c.a.createElement("div",{className:"twelve wide column",style:{marginBottom:"10px"}},c.a.createElement(ee.a.Input,{fluid:!0,name:"lat",onChange:this.onChange,value:this.state.lat,placeholder:u[0]})),c.a.createElement("div",{className:"twelve wide column oval-but"},c.a.createElement(B.a,{fluid:!0,disabled:!this.state.data.bg||!this.state.data.lat,type:"submit",content:u[12]}),c.a.createElement(q.a,{horizontal:!0,content:"or"}),c.a.createElement(B.a,{fluid:!0,content:u[11],onClick:function(t){t.preventDefault(),t.stopPropagation(),e.setState({data:{},locate:!0})}}))),l&&c.a.createElement("div",{className:"row centered"},c.a.createElement("div",{style:{marginBottom:"10px"}},!!o.length&&c.a.createElement(ue,{appsetup:!1,name:"street_id",list:o,lan:a,onStreet:this.onStreet})),c.a.createElement("div",{className:"six wide column",style:{marginBottom:"10px"}},c.a.createElement(ee.a.Input,{fluid:!0,name:"number",onChange:this.onChange,value:this.state.number,placeholder:u[3]}))),c.a.createElement("div",{className:"row centered menu-bar"},c.a.createElement(B.a.Group,{widths:"2",className:"padded"},c.a.createElement(B.a,{color:"grey",onClick:this.onReset,content:u[6]}),c.a.createElement(B.a,{color:"blue",type:"submit",content:u[4]}))))))}}]),t}(c.a.Component),Et=function(e){function t(){var e,a;Object(J.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(Z.a)(this,(e=Object(X.a)(t)).call.apply(e,[this].concat(r)))).state={data:{},logging:!1,errors:{},ui:{en:["Check","example@mail.com","my-secret-password","Save"],es:["Consulta","ejemplo@mail.com","mi-contrasena-secreta","Guardar"],bg:["\u041f\u0440\u043e\u0432\u0435\u0440\u0438","example@mail.com","\u0441\u0435\u043a\u0440\u0435\u0442\u043d\u0430\u0442\u0430-\u043c\u0438-\u043f\u0430\u0440\u043e\u043b\u0430","\u0417\u0430\u043f\u0430\u0437\u0438"]}},a.onSubmit=function(){var e=a.state.data,t=a.props,n=t.submit,r=t.login,o=t.init,c=t.pass,i=a.validate(e);a.setState({errors:i}),c||0!==Object.keys(i).length?0===Object.keys(i).length&&(r(e,!0),o()):n(e,!1)},a.validate=function(e){var t={};return a.props.pass?e.password.length<8&&(t.password="Minimum password length must be 8 digits!"):$.a.isEmail(e.email)||(t.email="Invalid email address! Try again..."),t},a.onInput=function(e,t){var n=t.name;a.setState({data:Object(h.a)({},a.state.data,Object(Y.a)({},n,e.target.value))})},a}return Object(K.a)(t,e),Object(V.a)(t,[{key:"render",value:function(){var e=this.state.ui[this.props.lan],t=this.props.pass,a=this.state.errors;return c.a.createElement("div",{className:t?"custom-form oval-but alert":"custom-form oval-but"},c.a.createElement(ee.a,{onSubmit:this.onSubmit},c.a.createElement(ee.a.Input,{fluid:!0,required:!0,inline:!0,centered:!0,focus:!0,onChange:this.onInput,name:t?"password":"email",type:t?"password":"email",placeholder:t?e[2]:e[1]}),Object.keys(a).length>0&&c.a.createElement(te.a,{negative:!0},c.a.createElement(te.a.Header,null,t?"Incomplete password:":"Incorrect email:"),c.a.createElement("p",null,t?a.password:a.email)),c.a.createElement(B.a,{type:"submit",color:"grey",fluid:t},t?e[3]:e[0])))}}]),t}(c.a.Component),yt=function(e){e.admin;var t=e.lan;return c.a.createElement(Et,{submit:function(){},init:function(){},lan:t,pass:!1})},Ot={locations:{addLocation:function(e,t){return E.a.post("/admin/location/"+t,{data:e}).then(function(e){return e.data})},getList:function(e){return E.a.get("/admin/location/city",{data:e}).then(function(e){return console.log(e)})}}},Ct=function(e){function t(){var e,a;Object(J.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(Z.a)(this,(e=Object(X.a)(t)).call.apply(e,[this].concat(r)))).state={view:"",ui:{en:["Location in:"],es:["Localidad en:"],bg:["\u0410\u0434\u0440\u0435\u0441 \u0432:"]}},a}return Object(K.a)(t,e),Object(V.a)(t,[{key:"render",value:function(){var e=this.props,t=e.addLocation,a=e.lan,n=e.city,r=e.cities,o=e.streets,i=e.view,s=this.state.ui[a],l=r.length>0?r.find(function(e){return console.log(e.id),e.id===n}):"";return console.log("city?: ",r.length,l.title),c.a.createElement("div",{className:"topped padded"},c.a.createElement("h3",null,s[0].concat(" ",n?l.alt:"Add City")),c.a.createElement(q.a,{horizontal:!0}),"add"===i&&c.a.createElement("div",{className:"custom-form"},c.a.createElement(vt,{lan:a,city:n,streets:o,addLocation:t})),c.a.createElement(q.a,{horizontal:!0}),"rep"===i&&c.a.createElement(yt,{admin:!0,lan:a,loc:"bg",addLocation:t}))}}]),t}(c.a.Component),jt=Object(m.b)(function(e){return{cities:e.settings.cities,streets:e.settings.streets}},{addLocation:function(e,t){return function(a){return console.log("Add location: ",e,t),Ot.locations.addLocation(e,t).then(function(e){return e})}}})(Ct),St=function(e){function t(){return Object(J.a)(this,t),Object(Z.a)(this,Object(X.a)(t).apply(this,arguments))}return Object(K.a)(t,e),Object(V.a)(t,[{key:"render",value:function(){return c.a.createElement(ee.a,null,"email"===this.props.view&&c.a.createElement(ee.a.Group,{inline:!0},c.a.createElement(ee.a.Input,{width:10,label:"email: ",placeholder:"user@mail.com"})),c.a.createElement(B.a,{content:"Submit"}))}}]),t}(c.a.Component),wt=function(e){var t=e.view;e.lan;return c.a.createElement("div",{className:"topped padded"},"email"===t&&c.a.createElement(St,{view:t}),"list"===t&&c.a.createElement("div",null,"List Users"))},kt=function(e){var t=e.lan,a=e.member,n=e.onMenu,r={en:["USER","LOC","PRO","LAB","FAC"],es:["USER","LOC","PRO","LAB","FAC"],bg:["USER","LOC","PRO","LAB","FAC"]};return c.a.createElement(B.a.Group,{color:"blue",widths:r[t].length},r[t].map(function(e,t){return c.a.createElement(B.a,{key:t,disabled:a>1&&Math.log2(a)+2!==t,name:t,content:e,onClick:n})}))},Nt=function(e){var t=e.lan,a=e.onMenu,n=e.subset;return c.a.createElement(B.a.Group,{color:"blue",className:"submenu"},{en:{user:["home","email","list","order"],pro:["home","add","edit","rep"],loc:["home","add","edit","rep"],fac:["home","add","edit","rep"],lab:["home","add","edit","rep"]},es:{user:["home","email","list","order"],pro:["home","add","edit","rep"],loc:["home","add","edit","rep"],fac:["home","add","edit","rep"],lab:["home","add","edit","rep"]},bg:{user:["home","email","list","order"],pro:["home","add","edit","rep"],loc:["home","add","edit","rep"],fac:["home","add","edit","rep"],lab:["home","add","edit","rep"]}}[t][n].map(function(e,t){return c.a.createElement(B.a,{onClick:a,name:e,content:t?e:"",icon:t?"":"home"})}))},Lt=function(e){function t(){var e,a;Object(J.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(Z.a)(this,(e=Object(X.a)(t)).call.apply(e,[this].concat(r)))).state={main:!0,mView:"",sView:"",logged:!1,checkin:!1,ui:{en:["Admin","LAB Admin.","FAC Admin."],es:["Admin","LAB Admin.","FAC Admin."],bg:["\u0410\u0434\u043c\u0438\u043d","LAB \u0410\u0434\u043c\u0438\u043d.","FAC \u0410\u0434\u043c\u0438\u043d."]}},a.onSubMenu=function(e,t){var n=t.name;a.setState({main:"home"===n,sView:n})},a.onMainMenu=function(e,t){var n=t.content,r=t.name;a.setState({main:!1,mView:n.toLowerCase(),indx:r})},a.onCheck=function(e,t){var n=t.name;switch(a.setState(function(e){return Object(Y.a)({},n,!e[n])}),n){case"checkin":a.state.checkin||console.log("Check Boss In-Out");break;case"logged":a.state.logged&&a.closeSession()}},a.closeSession=function(e){localStorage.clear(),I(),a.props.userSignedIn({})},a}return Object(K.a)(t,e),Object(V.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.city,a=e.getLocations,n=(e.user,e.logedin);t&&(a("street",t),this.setState({logged:n}))}},{key:"render",value:function(){var e=this.props,t=e.lan,a=e.city,n=e.membership,r=this.state,o=r.main,i=r.sView,s=r.mView,l=(this.state.ui[t],o?{left:0}:{left:"-".concat(window.screen.width,"px")});return c.a.createElement("div",{className:"App-content padded Admin-Page"},c.a.createElement(qe.a,null,c.a.createElement(qe.a.Row,null,c.a.createElement(qe.a.Column,{width:6},c.a.createElement(Ye.a,{name:"logged",checked:this.state.logged,disabled:this.state.checkin,label:c.a.createElement("label",null,this.state.login?"Login":"Logout"),onChange:this.onCheck,toggle:!0})),c.a.createElement(qe.a.Column,{width:4}),c.a.createElement(qe.a.Column,{width:6},c.a.createElement(Ye.a,{name:"checkin",checked:this.state.checkin,disabled:!this.state.logged,label:c.a.createElement("label",null,this.state.checkin?"Close":"Open"),onChange:this.onCheck,toggle:!0})))),c.a.createElement("br",null),c.a.createElement("div",{className:"menu-bar carrousel move",style:l},c.a.createElement(kt,{lan:t,member:n,onMenu:this.onMainMenu}),c.a.createElement(q.a,{horizontal:!0}),!o&&c.a.createElement(Nt,{member:n,subset:s,lan:t,onMenu:this.onSubMenu})),"email"===i&&c.a.createElement(wt,{view:i,lan:t}),"list"===i&&c.a.createElement(wt,{view:i,lan:t}),"add"===i&&c.a.createElement(jt,{city:a||!1,view:i,lan:t}))}}]),t}(c.a.Component),At=Object(m.b)(function(e){return{city:e.settings.city,cities:e.settings.cities,membership:e.user.membership,logedin:!!e.user.token}},{getLocations:k,userSignedIn:R})(Lt),It=Object(m.b)(function(e){return{lan:e.settings.lan}})(function(e){var t=e.location;e.lan;return c.a.createElement("div",{className:"App"},c.a.createElement(s.b,{location:t,path:"/",exact:!0,component:Ee}),c.a.createElement(s.b,{location:t,path:"/",component:we}),c.a.createElement(Ue,{location:t,path:"/admin/location",exact:!0,component:jt}),c.a.createElement(Ue,{location:t,path:"/admin/home",component:Qe}),c.a.createElement(Ue,{location:t,path:"/admin/boss",exact:!0,component:At}),c.a.createElement(Fe,{location:t,path:"/admin",exact:!0,component:et}),c.a.createElement(Fe,{location:t,path:"/order",exact:!0,component:Te}),c.a.createElement(Fe,{location:t,path:"/catalog",exact:!0,component:Pe}),c.a.createElement(Fe,{location:t,path:"/repeat",exact:!0,component:$e}),c.a.createElement(Fe,{location:t,path:"/play",exact:!0,component:tt}),c.a.createElement(Fe,{location:t,path:"/cart",exact:!0,component:ot}),c.a.createElement(Fe,{location:t,path:"/user",exact:!0,component:st}),c.a.createElement(Fe,{location:t,path:"/user/locations",exact:!0,component:ft}),c.a.createElement(Fe,{location:t,path:"/user/location/:id",exact:!0,component:gt}))}),Rt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||d.d,zt=Object(d.e)(b,{user:{},settings:{lan:"bg",socket:!1,one_city:0,banner:!1,order_counter:0,customer_counter:0},products:[],order:{},cart:[]},Rt(Object(d.a)(p.a)));if(window.GS=zt,localStorage.valePizzaJWT){var Dt={new_user:!1};Dt.token=localStorage.valePizzaJWT,I(Dt.token),zt.dispatch(R(Dt)),zt.dispatch(T()).then(function(e){e.locations}).catch(function(e){I(),Dt.token="",Dt.new_user=!0,zt.dispatch(R(Dt)),console.log("initialUser: ",e.response.data.error)})}P("bg"),zt.dispatch(w()),zt.dispatch(N("bg"));var _t=c.a.createElement(m.a,{store:zt},c.a.createElement(i.a,null,c.a.createElement(s.b,{component:It})));u.a.render(_t,document.getElementById("root"))}},[[282,1,2]]]);
//# sourceMappingURL=main.845380d3.chunk.js.map
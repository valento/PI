{"version":3,"sources":["RootReducer.js","reducers/settings.js","types.js","reducers/user.js","reducers/products.js","reducers/order.js","reducers/cart.js","reducers/facs.js","api.js","actions/settup.js","utils/setAuthHeader.js","actions/auth.js","actions/user.js","utils/setLanHeader.js","components/forms/credentials.js","components/brand/sign.js","components/pages/MainMenu.js","components/forms/SearchSetupForm.js","components/ui/AppSetup.js","components/pages/HomePage.js","components/ui/user/admin.js","components/pages/Top.js","components/forms/OrderInput.js","components/ui/order/OrderRow.js","components/ui/order/OrderList.js","components/ui/order/Order.js","actions/cart.js","components/pages/product/index.js","components/pages/product/ProductsList.js","components/ui/menus/categories.js","components/pages/OrdersPage.js","components/pages/CatalogPage.js","components/routes/user.js","components/routes/admin.js","components/pages/RepeatPage.js","components/pages/admin/AdminLogin.js","components/pages/PlayPage.js","components/ui/user/LocRow.js","components/ui/user/UserLocationsList.js","websocket.js","components/pages/CartPage.js","components/pages/UserPage.js","components/forms/ulocation.js","components/forms/LocationNumbersList.js","components/forms/userDoor.js","components/forms/RefInput.js","components/pages/UserLocationsPage.js","components/pages/UserLocationEdit.js","components/forms/admin/addLocation.js","components/forms/getUser.js","components/pages/admin/addRep.js","components/pages/admin/ui/mainMenu.js","components/pages/admin/ui/subMenu.js","api/admin.js","components/pages/admin/Locations.js","actions/admin/index.js","components/forms/user/userForm.js","components/pages/admin/user/views.js","components/pages/admin/index.js","App.js","index.js"],"names":["combineReducers","settings","state","arguments","length","undefined","action","type","Object","objectSpread","data","user","locations","map","item","ind","concat","toConsumableArray","products","order","cart","facs","api","setUI","axios","get","then","res","getLocationList","id","getProductList","lan","getLocation","ref","getLocationFac","loc","post","signup","credentials","checkOne","initUser","addLocation","console","log","updateLocation","locationFac","ids","pushOrder","setInterface","ui","dispatch","getLocations","itm","setProductsList","checkReference","catch","err","error","setAuthHeader","token","defaults","headers","common","userSignedIn","initialUser","addUserLocation","updateUserLocation","userInit","Promise","resolve","reject","getLocalFacs","keys","k","defineProperty","getLocationData","response","setLanHeader","Credentials","logging","errors","en","es","bg","onSubmit","_this$state","_this","_this$props","props","pass","submit","getFacs","login","validate","setState","l","location","password","Validator","isEmail","email","onInput","e","_ref","name","target","value","this","react_default","a","createElement","className","Form","Input","fluid","required","inline","centered","focus","onChange","placeholder","Message","negative","Header","Button","color","React","Component","Sign","size","Label","circular","basic","MainMenu","city","_this$props2","Group","as","Link","to","icon","content","propType","PropType","number","isRequired","connect","SearchSetupForm","results","isLoading","resetComponent","handleResultSelect","result","title","message","appsetup","onStreet","handleSearchChange","_ref2","setTimeout","re","RegExp","_","escapeRegExp","filter","list","test","preventDefault","Search","assign","loading","onResultSelect","onSearchChange","debounce","leading","disabled","AppSetup","onLanguage","getFacStore","_this$props3","setup","forms_SearchSetupForm","Divider","horizontal","onClick","fac","cities","membership","username","isAuthorized","new_user","isAdmin","signUp","localStorage","valePizzaJWT","newUser","sign","ui_AppSetup","pages_MainMenu","credentials_Credentials","init","UserAdmin","Icon","inverted","react_router_dom","Top","cty","forEach","c","alt","open","user_admin","object","OrderInput","units","isNumeric","code","onItemSelect","Math","abs","onAdd","onAddItem","items","category","_invalid","_empty","Select","key","options","OrderRow","stat","empty","row","onDelete","q","parseFloat","price","toFixed","OrderList","order_OrderRow","Order","onDeleteItem","slice","Number","findIndex","ord","inx","ent","onOrder","addCart","total","primary_loc_id","primary_loc_fac_open","itemSelected","prime","i","it","product","text","sum","o","reduce","acc","cv","ttl","forms_OrderInput","order_OrderList","width","toString","Product","entry","mode","style","backgroundImage","backgroundSize","dscr","split","join","maxWidth","display","overflowX","backgroundColor","ProductsList","view","p","minWidth","left","MenuList","onCategory","cats","includes","push","cl","OrdersPage","cat","onItemSelected","prod","find","cat_list","product_ProductsList","categories","order_Order","Catalog","fli","f","array","isAuth","component","rest","objectWithoutProperties","react_router","render","RepeatPage","AdminLogin","LocationRow","edit","onLocationClick","current","addstyle","Checkbox","checked","street","UserLocations","LocRow","socket","WebSocket","onopen","event","CartPage","currentLocation","onLocationSlected","defLoc","makeCart","_this2","send","_this$state2","UserLocationsList","cancelCart","string","shape","uid","UserPage","getLocData","prevProps","widths","UserLocation","getNumbers","onNewData","getInput","UserLocationList","UserDoor","valid","v","isNaN","addData","onCheckBox","onClear","bell","mobile","floor","door","label","ReferenceInput","onRef","labelPosition","actionPosition","UserLocationsPage","input","locate","loc_id","rep","nm","verified","omit","noRef","saveLocation","submitLocation","userAddLocation","streets","RefInput","ulocation_UserLocation","LocationNumbersList_UserLocationList","userDoor_UserDoor","positive","UserLocationEdit","match","params","userUpdateLocation","AddLocationForm","lat","msgClosed","onReset","closeMessage","onCity","_objectSpread3","tp","sort","entr","onDismiss","header","marginBottom","GetUser","AddRep","admin","getUser_GetUser","onMenu","SubMenu","subset","pro","lab","api_admin","getList","Locations","addLocation_AddLocationForm","addRep","UserForm","User","userForm_UserForm","AdminHome","main","mView","sView","onSubMenu","onMainMenu","toLowerCase","mainMenu","subMenu","views","admin_Locations","path","exact","HomePage","routes_admin","routes_user","CatalogPage","PlayPage","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","RootReducer","applyMiddleware","thunk","GS","Set","Root","App","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.e394ccc6.chunk.js","sourcesContent":["import { combineReducers } from 'redux'\n\nimport { settings } from './reducers/settings'\nimport { user } from './reducers/user'\nimport { products } from './reducers/products'\nimport { order } from './reducers/order'\nimport { cart } from './reducers/cart'\nimport { facs } from './reducers/facs'\n\nexport default combineReducers({\n  settings,\n  user,\n  products,\n  order,\n  cart,\n  facs\n})\n","import { SETUP_CHANGED } from '../types'\n\nexport const settings = (state={},action) => {\n  switch (action.type) {\n    case SETUP_CHANGED:\n      return {...state, ...action.data}\n    default:\n      return state\n\n  }\n}\n","export const USER_SIGNED = 'USER_SIGNED'\nexport const USER_LOGGED = 'USER_LOGGED'\nexport const USER_INIT = 'USER_INIT'\nexport const USER_LOCATION = 'USER_LOCATION'\nexport const USER_ADD_LOCATION = 'USER_ADD_LOCATION'\nexport const USER_UPDATE_LOCATION = 'USER_UPDATE_LOCATION'\n\nexport const SETUP_CHANGED = 'SETUP_CHANGED'\nexport const SET_FAC = 'SET_FAC'\n\nexport const ORDER_LIST = 'ORDER_LIST'\nexport const ORDER_CLEAR = 'ORDER_CLEAR'\n\nexport const CART_LIST = 'CART_LIST'\nexport const CART_CLEAR = 'CART_CLEAR'\n\nexport const PRODUCT_LIST = 'PRODUCT_LIST'\n\n// === ADMIN ACTIONS: ===========================\n\nexport const ADD_LOCATION = 'ADD_LOCATION'\n","import { USER_SIGNED,USER_INIT,USER_LOCATION,USER_UPDATE_LOCATION,USER_ADD_LOCATION } from '../types'\nexport const user = (state={},action) => {\n  switch (action.type) {\n    case USER_SIGNED:\n      //window.Store.notify(action.type)\n      return action.user\n    case USER_LOCATION:\n      return {...state, ...action.user}\n    case USER_UPDATE_LOCATION:\n      return {\n        ...state,\n        locations: state.locations.map( (item,ind) => {\n          if(ind === action.ind) {\n            return {...item, ...action.data}\n          } else {\n            return item\n          }\n        })\n      }\n    case USER_ADD_LOCATION:\n      return {\n        ...state,\n        locations: state.locations? [...state.locations, action.data] : [action.data]\n      }\n    case USER_INIT:\n      return {...state, ...action.user}\n    default:\n      return state\n\n  }\n}\n","import { PRODUCT_LIST } from '../types'\n\nexport const products = (state=[],action) => {\n  switch (action.type) {\n    case PRODUCT_LIST:\n      return action.data\n    default:\n      return state\n\n  }\n}\n","import { ORDER_LIST,ORDER_CLEAR } from '../types'\n\nexport const order = (state=[],action) => {\n  switch (action.type) {\n    case ORDER_LIST:\n      return action.order\n    case ORDER_CLEAR:\n      return []\n    default:\n      return state\n\n  }\n}\n","import { CART_LIST,CART_CLEAR } from '../types'\n\nexport const cart = (state=[],action) => {\n  switch (action.type) {\n    case CART_LIST:\n      return action.order\n    case CART_CLEAR:\n      return []\n    default:\n      return state\n\n  }\n}\n","import { SET_FAC } from '../types'\n\nexport const facs = (state={},action) => {\n\n  switch (action.type) {\n    case SET_FAC:\n      return action.facs\n    default:\n      return state\n  }\n}\n","import axios from 'axios'\n\nexport default {\n  settup: {\n    setUI: () => axios.get('/ui').then( res => res.data ),\n    getLocationList: (item,id) => axios.get('/admin/location/'+item+'/'+id).then( res => res.data ),\n    getProductList: lan => axios.get('/products/'+lan).then( res => res.data ),\n    getLocation: ref => axios.get('/admin/location/ref/'+ref).then( res => res.data ),\n    getLocationFac: loc => axios.post('/user/facs', {id:loc}).then( res => res.data )\n  },\n  user: {\n    signup: credentials =>\n      axios.post('/auth', { credentials }).then( res => res.data.user ),\n    checkOne: () => axios.get('/auth/check').then( res => res.data),\n    initUser: () => axios.get('/user').then( res => res.data.user ),\n    addLocation: data => axios.post('/user/location', { data }).then( res => {\n      console.log(res)\n      return res.data.id\n    } ),\n    updateLocation: (data,id) => axios.post('/user/location/'+id, { data }).then( res => res.data ),\n    locationFac: loc => axios.post('/user/facs', {ids:loc}).then( res => res.data )\n  },\n  order: {\n    pushOrder: data => axios.post('/order', { data }).then( res => res.data )\n  }\n}\n","import { SETUP_CHANGED,PRODUCT_LIST,SET_FAC } from '../types.js'\nimport api from '../api'\n\nexport const setInterface = data => ({type: SETUP_CHANGED, data})\n\nexport const setLocationFactory = facs => ({\n  type: SET_FAC,\n  facs\n})\n\nexport const setUI = ui => dispatch =>\napi.settup.setUI(ui).then( data => {\n  dispatch(setInterface(data))\n})\n\nexport const setProductsList = data => ({type: PRODUCT_LIST, data})\n\nexport const getLocations = (itm,id) => dispatch =>\napi.settup.getLocationList(itm,id).then( data => {\n  console.log('getLocationsList: ', data);\n  dispatch(setInterface(data))\n})\n\nexport const getProductList = lan => dispatch =>\napi.settup.getProductList(lan).then( data => {\n  dispatch(setProductsList(data))\n})\n\nexport const getFacStore = ({city}) => dispatch =>\napi.settup.getLocationFac(city).then( fac => {\n  console.log(fac)\n  dispatch(setLocationFactory(fac))\n})\n\nexport const checkReference = ref => dispatch =>\napi.settup.getLocation(ref).then( data => {\n  if(data){\n    return data\n  }\n})\n.catch(err => ({error:8}))\n","import axios from 'axios'\n\nexport default ( token = null ) => {\n  if(token) {\n    axios.defaults.headers.common['Authorization'] = token\n  } else {\n    delete axios.defaults.headers.common['Authorization']\n  }\n}\n","import { USER_SIGNED, USER_LOGGED, USER_INIT } from '../types'\nimport api from '../api'\nimport setAuthHeader from '../utils/setAuthHeader'\n\nexport const userSignedIn = user => ({\n  type: USER_SIGNED,\n  user\n})\nexport const initialUser = user => ({\n  type: USER_INIT,\n  user\n})\n\n// ===== Action Creators: =========================================\n// SignUp/LogIn User with email/pass\nexport const signUp = (credentials,pass) => dispatch => {\n  if(pass){\n    // credentials.password = pass\n    // api.login(credentials).then(...)\n  } else {\n    return new Promise( (resolve,reject) => {\n      api.user.signup(credentials).then( user => {\n        localStorage.valePizzaJWT = user.token\n        setAuthHeader(user.token)\n        dispatch(userSignedIn(user))\n        //if(user.new_user) {\n        //console.log('Call userInit()')\n        //api.user.initUser().then( user => {\n          dispatch(initialUser(user))\n          resolve(user.locations)\n        //})\n        //}\n      })\n    })\n  }\n}\n\n// Check User Token/Credentials\nexport const checkUserToken = user => dispatch => {\n  console.log('Check this one:',user)\n  return new Promise( (resolve,reject) => {\n    api.user.checkOne().then( (result,user) => {\n      if(!result) reject({ err: { message: 'User doesn\\'t exist' }})\n      //dispatch(userSignedIn(user))\n      resolve()\n    })\n  })\n}\n","import {\n  USER_INIT, USER_LOCATION, USER_UPDATE_LOCATION, USER_ADD_LOCATION,\n  SET_FAC\n} from '../types'\nimport api from '../api'\n\nexport const initialUser = user => ({\n  type: USER_INIT,\n  user\n})\n\nexport const addUserLocation = data => ({\n  type: USER_ADD_LOCATION,\n  data\n})\n\nexport const setLocationFactories = facs => ({\n  type: SET_FAC,\n  facs\n})\n\nexport const updateUserLocation = (ind,data) => ({\n  type: USER_UPDATE_LOCATION,\n  ind: ind,\n  data\n})\n\nexport const userInit = () => dispatch => {\n  return new Promise( (resolve,reject) => {\n    api.user.initUser().then( user => {\n      dispatch(initialUser(user))\n// Get all FACs for user.locations list\n      resolve(user.locations)\n    })\n    .catch(error => {\n      reject(error)\n    })\n  })\n}\n\n// Get List of all FACs for each user.city\nexport const getLocalFacs = loc => dispatch => {\n  api.user.locationFac(loc).then( facs => {\n    console.log('Action locationFac: ',facs)\n    let FACs = Object.keys(facs).map( k => ({[k]: facs[k]}))\n    //dispatch(setLocationFactories(FACs))\n  })\n}\n\nexport const userAddLocation = data => dispatch => {\n  api.user.addLocation(data).then( id => {\n    data.id = id\n    dispatch(addUserLocation(data))\n  })\n}\n\nexport const userUpdateLocation = (ind,id,data) => dispatch => {\n  api.user.updateLocation(data,id).then( res => {\n    console.log(res)\n    dispatch(updateUserLocation(ind,data))\n  })\n}\n\nexport const getLocationData = (ref,ind) => dispatch => {\n  api.settup.getLocation(ref).then( response => {\n    dispatch(updateUserLocation(ind,response))\n  })\n}\n","import axios from 'axios'\n\nexport default ( lan ) => {\n  if(lan) {\n    axios.defaults.headers.common['Accepted-Language'] = lan\n  } else {\n    delete axios.defaults.headers.common['Accepted-Language']\n  }\n}\n","import React from 'react'\nimport Validator from 'validator'\nimport { Icon,Message,Button,Form } from 'semantic-ui-react'\n\nexport default class Credentials extends React.Component {\n  state = {\n    data: {},\n    logging: false,\n    errors: {},\n    ui: {\n      en: ['register','example@mail.com','my-secret-password','Save'],\n      es: ['registro','micorreo@mail.com','mi-contrasena-secreta','Gurdar'],\n      bg: ['влез','example@mail.com','парола','Влез']\n    }\n  }\n\n  onSubmit = () => {\n    const {data, errors} = this.state\n    const { pass,submit,getFacs,login } = this.props\n    const err = this.validate(data)\n    this.setState({ errors: err })\n    if(Object.keys(err).length !== 0) return\n    if(!pass) {\n      submit(data,false).then( locations => {\n        if(!locations) return\n        let loc = locations.map( l => {\n          return l.location\n        })\n        getFacs(loc)\n      })\n      //init()\n    } else {\n      login(data,true)\n      //console.log(err.password, data)\n    }\n  }\n\n  validate = data => {\n    const errors = {}\n    if ( this.props.pass ) {\n      if (data.password.length < 8) {\n        errors.password = 'Minimum password length must be 8 digits!'\n      }\n    } else {\n      if(!Validator.isEmail(data.email)) {\n        errors.email = 'Invalid email address! Try again...'\n      }\n    }\n    return errors\n  }\n\n  onInput = (e,{name}) => {\n    this.setState({\n      data: {...this.state.data, [name]: e.target.value}\n    })\n  }\n\n  render(){\n    const lan = this.state.ui[this.props.lan]\n    const {pass} = this.props\n    const {errors} = this.state\n    return(\n      <div className={pass? 'custom-form oval-but alert' : 'custom-form oval-but'}>\n        <Form onSubmit={this.onSubmit}>\n          <Form.Input fluid required inline centered focus\n            onChange={this.onInput}\n            name={pass ? 'password' : 'email'}\n            type={pass ? 'password' : 'email'}\n            placeholder={pass ? lan[2] : lan[1]}\n          />\n          {Object.keys(errors).length>0 && <Message negative>\n              <Message.Header>{pass? 'Incomplete password:' : 'Incorrect email:'}</Message.Header>\n              <p>{pass? errors.password : errors.email}</p>\n            </Message>\n          }\n          <Button type='submit' fluid={pass} color={pass ? 'red' : 'black'}>{pass? lan[3] : lan[0]}</Button>\n        </Form>\n      </div>\n    )\n  }\n}\n","import React from 'react'\nimport { Label } from 'semantic-ui-react'\n\nconst Sign = ({size}) => {\n  return (\n    <Label size={size} circular basic>\n      &pi;\n    </Label>\n  )\n}\n\nexport default Sign\n\n/*\n<Label size={size} circular basic>\n  &pi;\n</Label>\n*/\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport PropType from 'prop-types'\nimport { Link } from 'react-router-dom'\nimport { Button } from 'semantic-ui-react'\n\nimport { getProductList } from '../../actions/settup'\n\nclass MainMenu extends React.Component {\n\n  state = {\n    ui: {\n      en: ['Play','Eat','Repeat'],\n      es: ['Jugar','Comer','Repetir'],\n      bg: ['Играй','Яж','Повтори']\n    }\n  }\n\n  componentDidMount() {\n    const { city, getProductList } = this.props\n    //getProductList(city)\n  }\n\n  render(){\n    const { lan,city } = this.props\n    const ui = this.state.ui[lan]\n    return (\n      <div className='menu-bar'>\n        <Button.Group color='grey'>\n          <Button as={Link} to='/play' icon='play circle' content={ui[0]}/>\n          <Button as={Link} to='/order' icon='food' content={ui[1]} />\n          <Button as={Link} to='/repeat' icon='undo' content={ui[2]} />\n        </Button.Group>\n      </div>\n    )\n  }\n\n}\n\nMainMenu.propType = {\n  city: PropType.number.isRequired\n}\n\nconst mapStateToProps = state => ({\n  city: state.settings.city\n})\n\nexport default connect(mapStateToProps, { getProductList })(MainMenu)\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport _ from 'lodash'\nimport { Form,Button,Icon,Search,Message } from 'semantic-ui-react'\n\nclass SearchSetupForm extends React.Component {\n  state = {\n    value: '',\n    results: [],\n    isLoading: false,\n    data: {},\n    ui: {\n      en: ['Cancel','Submit','No service in that City', 'Sorry:'],\n      es: ['Cancelar','Guardar','Sin servicio en esta Ciudad', 'Perdona, pero:'],\n      bg: ['Изтрий','Запази','Не обслужваме този град все още...', 'Съжаляваме, но:']\n    }\n  }\n\n  componentWillMount() {\n    this.resetComponent()\n  }\n\n  resetComponent = () => this.setState({ isLoading: false, results: [], value: '' })\n\n  handleResultSelect = (e, { result,name }) => {\n    this.setState({\n      ...this.state,\n      value: result.title,\n      data: {...this.state.data, [name]: result.id},\n      message: null\n    })\n    if(!this.props.appsetup){this.props.onStreet({[name]: result.id})}\n  }\n\n  handleSearchChange = (e, { value }) => {\n    this.setState({ isLoading: true, value })\n\n    setTimeout(() => {\n      if (this.state.value.length < 1) return this.resetComponent()\n\n      const re = new RegExp(_.escapeRegExp(this.state.value), 'i')\n      const isMatch = result => re.test(result.title)\n\n      this.setState({\n        isLoading: false,\n        results: _.filter(this.props.list, isMatch),\n      })\n    }, 300)\n  }\n\n  onSubmit = e => {\n    e.preventDefault()\n    const { appsetup,onSubmit } = this.props\n    const {data} = this.state\n    if(appsetup){onSubmit(data)}\n  }\n\n  render() {\n    const {value,results,isLoading,data,message} = this.state\n    const ui = this.state.ui[this.props.lan]\n    const source = this.props.list\n    return (\n      <div className='custom-form padded'>\n        <Form onSubmit={this.onSubmit}>\n          <Form.Group>\n            <div className='ui grid'>\n              <div className='grid column sixteen wide'>\n                <Search\n                  fluid\n                  name={this.props.name}\n                  loading={isLoading}\n                  onResultSelect={this.handleResultSelect}\n                  onSearchChange={_.debounce(this.handleSearchChange, 500, { leading: true })}\n                  results={results}\n                  value={value}\n                  {...this.props}\n                />\n              </div>\n              {message && message !== '0' && <Message negative size='mini'>\n                <Message.Header>{ui[3]}</Message.Header>\n                  <p>{ui[2]}</p>\n                </Message>\n              }\n              {this.props.appsetup &&\n                <div className='grid column sixteen wide oval-but extra-padded'>\n                  <Button type='submit'\n                    basic={Object.keys(data).length===0}\n                    disabled={Object.keys(data).length===0}\n                    name={this.props.name}\n                    color='grey'\n                    content={ui[1]}\n                  />\n                </div>\n              }\n            </div>\n\n          </Form.Group>\n        </Form>\n      </div>\n    )\n  }\n}\n\nexport default SearchSetupForm\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport { Button,Divider } from 'semantic-ui-react'\n\nimport setLanHeader from '../../utils/setLanHeader'\nimport SearchSetupForm from '../forms/SearchSetupForm'\nimport { initialUser } from '../../actions/user'\nimport { setInterface,setUI,getProductList,getFacStore } from '../../actions/settup'\n\n// First: Set USER: Reg/Log\n// Second: Set CITY/Zone\n// Then: Load Store for CITY/Zone\n\nclass AppSetup extends React.Component {\n  state = {\n    ui: {\n      en: ['Your City/Zone:','ENG','ESP','БГ'],\n      es: ['Tu Ciudad/Zona:','ENG','ESP','БГ'],\n      bg: ['Избери Град/Зона:','ENG','ESP','БГ']\n    }\n  }\n\n  onLanguage = (e, {name}) => {\n    const { setInterface,setUI,getProductList } = this.props\n// Set Client Language:\n    setInterface({lan: name})\n    setLanHeader(name)\n// API GET for Language/City\n    setUI(name)\n// API GET all Products List by Language\n    getProductList(name)\n  }\n\n// FORM SUBMIT:\n  onSubmit = data => {\n    const { appsetup,setInterface,initialUser,getFacStore } = this.props\n// If App Setup:\n    if(appsetup){\n// Set CITY:\n      setInterface(data)\n// API POST FAC Store:\n      getFacStore(data)\n    } else {\n// If User Setup:\n      initialUser(data)\n    }\n  }\n\n  render() {\n    const { lan,appsetup,name,list,setup } = this.props\n    const ui = this.state.ui[lan]\n    return (\n      <div className='vintage left'>\n        {name==='city' && <p>{ui[0]}</p>}\n        <SearchSetupForm\n          lan={lan}\n          appsetup={appsetup}\n          onSubmit={this.onSubmit}\n          setup={setup}\n          name={name}\n          list={list}\n        />\n        <Divider horizontal />\n        <div className='menu-bar'>\n          <Button.Group color='grey' size='mini'>\n            <Button onClick={this.onLanguage} disabled={lan==='en'} name='en' content={ui[1]}/>\n            <Button onClick={this.onLanguage} disabled={lan==='es'} name='es' content={ui[2]} />\n            <Button onClick={this.onLanguage} disabled={lan==='bg'} name='bg' content={ui[3]} />\n          </Button.Group>\n        </div>\n      </div>\n    )\n  }\n}\nconst mapStateToProps = state => ({\n  lan: state.settings.lan\n})\nexport default connect(mapStateToProps,{initialUser,setInterface,setUI,getProductList,getFacStore})(AppSetup)\n","import React from 'react'\nimport {connect} from 'react-redux'\nimport { Link } from 'react-router-dom'\nimport { Button,Divider } from 'semantic-ui-react'\n\nimport Credentials from '../forms/credentials'\nimport Sign from '../brand/sign'\nimport MainMenu from './MainMenu'\nimport AppSetup from '../ui/AppSetup'\n\nimport { signUp } from '../../actions/auth'\nimport { userInit,getLocalFacs } from '../../actions/user'\n\nconst HomePage = ({\n  isAdmin,isAuthorized,new_user,lan,membership,name,\n  city,cities,signUp,userInit,getLocalFacs\n}) => {\n  const state = {\n    ui: {\n      es: ['Bienvenido, ','Hola, ','You\\'re in:'],\n      en: ['Hello, ','Welcome back, ','Estas en:'],\n      bg: ['Добре дошъл, ','Здравей, ','Намираш се във:']\n    }\n  }\n\n  let newUser = new_user === undefined || new_user\n  console.log('HomePage => New User?: ',newUser)\n\n  return (\n    <div className='App-content topped padded'>\n      <div className='init central padded'>\n\n{/* LOG or Register: */}\n        {city !== undefined &&\n          <p className='vintage no-border'>\n            {lan? ( !newUser? state.ui[lan][1]: state.ui[lan][0]) : 'Добре дошъл'}\n            {name? name : <Sign size='huge'/>}\n          </p>\n        }\n\n{/* Find available CITY: */}\n        {city === undefined ?\n          <AppSetup lan={lan} list={cities} appsetup='true' name='city' /> :\n          !isAuthorized ? <Credentials submit={signUp} getFacs={getLocalFacs} init={userInit} lan={lan} pass={false} /> :\n          <MainMenu lan={lan} />\n        }\n\n{/* For ADMIN/LAB/FAC/DELIVERY only Interface: */}\n        <Divider horizontal />\n        {isAuthorized && isAdmin &&\n          <div>\n            <Button as={Link} basic color='blue' to='/admin/home'>Hello, Admin!</Button>\n          </div>\n        }\n      </div>\n    </div>\n  )\n}\n\nconst mapStateToProps = state => ({\n  lan: state.settings.lan,\n  cities: state.settings.cities,\n  city: state.settings.city,\n  membership: state.user.membership,\n  name: state.user.username,\n  isAuthorized: !!state.user.token,\n  new_user: state.user.new_user,\n  isAdmin: state.user.membership === 1\n})\n\nexport default connect(mapStateToProps, { signUp,userInit,getLocalFacs })(HomePage)\n","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport { Icon } from 'semantic-ui-react'\n\nconst UserAdmin = ({disabled}) => {\n  return (\n    <div>\n      {!disabled?\n        <div className='user'>\n          <Link to='/user'><Icon name='user' /></Link>\n          <span>|</span>\n          <Link to='/cart'><Icon name='shopping cart' /></Link>\n        </div> :\n        <div className='user disabled'>\n          <Icon inverted={disabled} name='user' />\n          <span>|</span>\n          <Icon inverted={disabled} name='shopping cart' />\n        </div>\n      }\n    </div>\n  )\n}\n\nexport default UserAdmin\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport { Link } from 'react-router-dom'\nimport { Button,Icon } from 'semantic-ui-react'\nimport PropType from 'prop-types'\n\nimport Sign from '../brand/sign'\n\nimport UserAdmin from '../ui/user/admin'\n\nconst Top = ({city,facs,cities,lan,isAuthorized}) => {\n  const state = {\n    ui: {\n      en: ['No City'],\n      es: ['Ciudad'],\n      bg: ['Град']\n    }\n  }\n\n  let cty = state.ui[lan][0]\n  if(cities){\n    cities.forEach( c => {\n      if( c.id === city ) {\n        cty = c.alt? c.alt : c.title\n      }\n    })\n  }\n  console.log(facs)\n\n  return (\n    <div className='ui grid Top'>\n      <div className='four wide column'>\n        <Link to='/'><Icon name='home' /></Link>\n          {city &&\n            <Icon.Group>\n              <Icon color={facs.open ? 'blue' : 'grey'} name='clock' />\n            </Icon.Group>\n          }\n      </div>\n      <div className='eight wide column'><Icon color={city? 'blue' : 'grey'} name='map marker' />{cty}</div>\n      <div className='four wide column'>\n        <UserAdmin lan={lan} disabled={(isAuthorized && city)? false : true} />\n      </div>\n    </div>\n  )\n}\n\nTop.propType = {\n  facs: PropType.object.isRequired\n}\nconst mapStateToProps = state => ({\n  lan: state.settings.lan,\n  city: state.settings.city,\n  facs: state.facs,\n  cities: state.settings.cities,\n  isAuthorized: !!state.user.token\n})\nexport default connect(mapStateToProps)(Top)\n","import React from 'react'\nimport { Form,Button,Select,Message } from 'semantic-ui-react'\nimport Validator from 'validator'\n\nclass OrderInput extends React.Component {\n\n  state = {\n    item: {\n      id: null,\n      units: null\n    },\n    ui: {\n      en: ['Choose a ','+','Order','Invalid data','Qauntity should be a number','pizza','pi2','drink','beer','sauce'],\n      es: ['Selecione ','+','Pedir','Datos invalidos','La Cantidad es numero','pizza','pi2','gaseosa','cerveza','salsa'],\n      bg: ['Избери ','+','Поръчай','Невалидни данни','Броят пици трябва да е число','пица','п2','безалкохолно','бира','сос']\n    },\n    errors: {}\n  }\n\n  onChange = (e,{name,value}) => {\n    if(name !== 'id' && value !== '' && !Validator.isNumeric(value)) {\n      this.setState({\n        errors: {code: 4}\n      })\n    } else (\n      //value = Number(value)\n      this.setState({\n        errors: {}\n      })\n    )\n    if(name==='units' && value>5) { value = 5 }\n    if(name==='id'){\n      this.props.onItemSelect(value)\n    }\n    this.setState({\n      item: {\n        ...this.state.item, [name]: Math.abs(value)\n      }\n    })\n  }\n\n  onAdd = () => {\n    const { item } = this.state\n    this.props.onAddItem(item.id,item.units)\n    this.setState({\n      item: { id:null, units:null }\n    })\n  }\n\n  render() {\n    const { lan,onAdd,items,category } = this.props\n    const { errors,item } = this.state\n    const ui = this.state.ui[lan]\n    //const _items = items.map( (itm,indx) => ({\n    //  key:itm,\n    //  name:itm,\n    //  value:indx+1,\n    //  text:itm,\n    //  price:indx+2.5\n    //}))\n    const _invalid = Object.keys(errors).length > 0\n    const _empty = (item.id === null || item.units === null)\n    return(\n      <Form onSubmit={this.onAdd}>\n        <Form.Group>\n          <div className='ui grid'>\n            <div className='ten wide column'>\n              <Form.Select onChange={this.onChange} key={213}\n                name='id' placeholder={ui[0].concat(ui[4+category])} options={items}\n                value={item.id}\n              />\n            </div>\n            <div className='three wide column'>\n              <Form.Input onChange={this.onChange} type='number'\n                required name='units' placeholder={1}\n                value={item.units || ''}\n              />\n            </div>\n            <div className='three wide column'>\n              <Button disabled={_invalid || _empty}\n                color='blue'\n                className='add-but'\n                type='submit' content={ui[1]}\n              />\n            </div>\n          </div>\n\n            { _invalid &&\n              <div className='margined full-width'>\n                <Message negative>\n                  <Message.Header>{ui[3]}</Message.Header>\n                  <p>{ui[errors.code]}</p>\n                </Message>\n              </div>\n            }\n\n        </Form.Group>\n      </Form>\n    )\n  }\n\n}\n\nexport default OrderInput\n","import React from 'react'\nimport { Button,Icon } from 'semantic-ui-react'\n\nconst OrderRow = ({stat,empty,row,onDelete,ind,lan}) => {\n  const state = {\n    list: [],\n    ui: {\n      en: ['Nothing to order yet....'],\n      es: ['Nada de ordenar....'],\n      bg: ['Нищо за поръчване за сега...']\n    }\n  }\n\n  return (\n    <div>\n      {empty? state.ui[lan][0] :\n        (\n          <div className='ui grid item'>\n            <div className='two wide column nopad items'>\n              {!stat && <Icon name='eye' />}\n            </div>\n            <div className='six wide column nopad'>{row.name}</div>\n            <div className='three wide column nopad items'><Icon name='x' size='tiny' />{row.q}</div>\n            <div className='three wide column nopad'>{(parseFloat(row.price)*parseFloat(row.q)).toFixed(2)}</div>\n            <div className='two wide column nopad'>\n              {!stat && <span className='' basic onClick={() => onDelete(ind)}><Icon name='minus circle' /></span>}\n            </div>\n          </div>\n        )\n      }\n    </div>\n  )\n\n}\n\nexport default OrderRow\n","import React from 'react'\n\nimport OrderRow from './OrderRow'\n\nconst OrderList = ({stat,cart,lan,onDelete}) => {\n\n  return (\n    <div className={cart.length===0? 'order-list empty' : 'order-list'}>\n      {cart.map( (item,ind) => {\n        return(<OrderRow stat={stat} lan={lan} key={ind} onDelete={onDelete} row={item} ind={ind} />)\n      })}\n      {cart.length === 0 && <OrderRow empty={true} lan={lan} />}\n    </div>\n  )\n}\n\nexport default OrderList\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport { Link } from 'react-router-dom'\nimport { Button,Divider } from 'semantic-ui-react'\nimport PropType from 'prop-types'\n\nimport OrderInput from '../../forms/OrderInput'\nimport OrderList from './OrderList'\n\nimport { addCart } from '../../../actions/cart'\n\nclass Order extends React.Component {\n  state = {\n    ui: {\n      en: ['pizza order', 'Order', 'Pizza', 'P2', 'Drink', 'Beer', 'Sauce'],\n      es: ['pedido', 'Pedido', 'Pizza', 'P2', 'Gaseosa', 'Serveza', 'Salsa'],\n      bg: ['поръчка','Поръчай', 'Пица', 'П2', 'Напитка', 'Бира', 'Сос']\n    },\n    order: []\n  }\n\n  onDeleteItem = ind => {\n    this.setState({\n      order: [\n        ...this.state.order.slice(0,ind),\n        ...this.state.order.slice(ind+1)\n      ]\n    })\n  }\n\n  onAddItem = (item,units) => {\n    console.log(Number(units)+ ' of ' +item)\n    let ind = this.state.order.findIndex( ord => {\n      return ord.id === item\n    })\n    let inx = this.props.products.findIndex( ent => {\n      return ent.id === item\n    })\n    if( ind > -1 ) {\n      this.setState({\n        order: [...this.state.order.slice(0,ind),\n          {...this.state.order[ind], q: this.state.order[ind].q + Number(units)},\n          ...this.state.order.slice(ind+1)\n        ]\n      })\n    } else {\n      this.setState({\n        order: this.state.order.concat({\n          id: item,\n          q: Number(units),\n          name: this.props.products[inx].name,\n          price: this.props.products[inx].price\n        })\n      })\n    }\n  }\n\n  onOrder = e => {\n    this.props.addCart(this.state.order)\n  }\n\n  componentDidMount() {\n    const { cart } = this.props\n    console.log('OrderComponent Mount: ', cart.length);\n    if(cart.length > 0){\n      this.setState({\n        order: this.props.cart\n      })\n    }\n  }\n\n  render() {\n    let total = 0, primary_loc_id = 0, primary_loc_fac_open = 0, items, product_index\n    const { lan,products,facs,user,cart,category,itemSelected } = this.props\n\n    if(user.locations) {\n      user.locations.forEach( loc => {\n        if(loc.prime) {\n          primary_loc_fac_open = facs[loc.location].open\n          primary_loc_id = loc.location\n        }\n      })\n    }\n\n    console.log('List Products for FAC on: ', primary_loc_id, primary_loc_fac_open)\n    if(primary_loc_id>0 && primary_loc_fac_open) {\n      items = facs[primary_loc_id].products.map( (item,ind) => {\n        let i = products.findIndex( it => {\n          return it.id === item.product\n        })\n        return {\n          value: item.product,\n          text: products[i].name,\n          key: ind\n        }\n      })\n    } else {\n      items = products.map( (item,ind) => {\n        return {\n          value: item.id,\n          text: item.name,\n          key: ind\n        }\n      })\n    }\n\n    const ui = this.state.ui[lan]\n    const { order } = this.state\n\n    let sum = order.map( o => {\n      return (parseFloat(o.price)*parseFloat(o.q)).toFixed(2)\n    })\n\n    if(sum.length > 0) {\n      total = sum.reduce((acc, cv) => (parseFloat(acc) + parseFloat(cv)).toFixed(2))\n    }\n\n    let ttl = ui[1].concat(' ',ui[category+1])\n\n    return (\n      <div className='custom-form'>\n        <Divider horizontal>{ttl}</Divider>\n        <OrderInput lan={lan} category={category} items={items} onAddItem={this.onAddItem} onItemSelect={itemSelected} />\n        <OrderList stat={false} lan={lan} cart={order} onDelete={this.onDeleteItem} />\n        <Divider horizontal>&#9675;</Divider>\n        <Button\n          as={Link} to='/cart'\n          width={8}\n          disabled={this.state.order.length === 0}\n          color='orange'\n          className='submit-but'\n          content={ui[1].concat(': ', total.toString())}\n          onClick={this.onOrder}\n        />\n      </div>\n    )\n  }\n}\n\nOrder.propTypes = {\n  cart: PropType.array.isRequired\n}\n\nconst mapStateToProps = state => ({\n  facs: state.facs,\n  cart: state.cart,\n  order: state.order,\n  user: state.user\n})\nexport default connect(mapStateToProps, {addCart})(Order)\n","import { CART_LIST, CART_CLEAR } from '../types'\nimport api from '../api'\n\nexport const addCart = order => ({\n  type: CART_LIST,\n  order\n})\n\nexport const cancelCart = () => ({\n  type: CART_CLEAR\n})\n\nexport const clearCart = () => ({\n  type: CART_CLEAR\n})\n\nexport const makeCart = data => dispatch => {\n    console.log('Cart Action: ',data)\n  api.order.pushOrder(data).then(res => dispatch(clearCart()))\n}\n","import React from 'react'\n\nconst Product = ({ entry,mode }) => {\n  let IMAGE_FOLDER = ['pizza','pi2','drinks','pivo','sauce']\n  const style = {\n    backgroundImage: `url(img/${IMAGE_FOLDER[entry.category-1]}/${entry.list}.png)`,\n    backgroundSize: 'cover'\n  }\n  let dscr = entry.dscr.split(',').join(', ')\n  return (\n    <div className={mode==='ver'? 'item' : 'product'} style={style}>\n      <span>{entry.name}</span>\n        <span\n          style={{\n              maxWidth: '380px',\n              display: 'flex',\n              color: 'white',\n              overflowX: 'hidden',\n              backgroundColor: 'rgba(180,90,0,.5)'\n            }}>\n          {dscr}\n        </span>\n    </div>\n  )\n}\n\nexport default Product\n","import React from 'react'\n\nimport Product from './'\n\nconst ProductsList = ({products,category,view,onOrder,item}) => {\n  let l, i, style\n  l = view==='hor'? (products.length + 1)*100 : 100\n  i = products.findIndex( p => p.id === item)\n  style = view==='hor'?\n    {\n      minWidth: `${l}vw`,\n      left: `-${(i+1)*97.5}vw`\n    } :\n    {}\n\n  let icons = ['pi','pi2','soft','pivo','sauce','premium']\n\n    return (\n      <div className={view==='hor'? 'product-wraper' : null}>\n        <div className={view==='hor'? 'product-list' : 'catalog'} style={style}>\n          <ul>\n            {view==='hor'? <li>\n              <div className={('product').concat(' ', icons[category-1])}></div>\n              </li> : <li>\n                --- MENU ---\n              </li>}\n            {products.map( item => {\n                return <li><Product mode={view} entry={item} onOrder={onOrder} /></li>\n              })\n            }\n          </ul>\n        </div>\n      </div>\n    )\n\n}\n\nexport default ProductsList\n","import React from 'react'\r\nimport PropType from 'prop-types'\r\nimport {Icon} from 'semantic-ui-react'\r\n\r\nconst MenuList = ({lan,category,onCategory,cats}) => {\r\n  const ui = {\r\n    bg: ['пица','π²','напитка','бира','сос'],\r\n    en:['pizza','π²','drinks','beer','sauce'],\r\n    es:['pizza','π²','drinks','beer','salsa'],\r\n    icon:['π','π²','tint','beer','fire']\r\n  }\r\n\r\n  let c = []\r\n\r\n  for(let i=1; i<6; i++) {\r\n    if(cats.includes( i )){ c.push(i) }\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <ul className=\"menu-prod\">\r\n        {\r\n          c.map( itm => {\r\n            let cl = ( itm === category )? 'active' : ''\r\n            return (\r\n              <li className={ (itm < 3)? cl.concat(' ','pee') : cl }\r\n                onClick={ e => {\r\n                    if(itm !== category){\r\n                      onCategory(itm)\r\n                    }\r\n                  }}>\r\n                {(itm < 3)? ui.icon[itm-1] :\r\n                  <Icon name={ui.icon[itm-1]} size='large' />\r\n                }\r\n              </li>\r\n            )\r\n          })\r\n        }\r\n      </ul>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default MenuList\r\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport { Divider } from 'semantic-ui-react'\nimport Order from '../ui/order/Order'\nimport ProductsList from './product/ProductsList'\nimport MenuList from '../ui/menus/categories'\n\n\nclass OrdersPage extends React.Component {\n  state = {\n    category: 1,\n    item: 0\n  }\n\n  onCategory = cat => {\n    this.setState({\n      category: cat,\n      item: 0\n    })\n  }\n\n  onItemSelected = value => {\n    this.setState({\n      item: value\n    })\n  }\n\n  render(){\n    const { lan,city,products,facs } = this.props\n    const { category,item } = this.state\n\n    let l = facs.products\n    .map( p => {\n      let prod = products.find( i => i.id === p.product )\n      return Object.assign(p,prod)\n    })\n\n    let cat_list = l.map( i => i.category)\n\n    let list = l.filter( p => p.category === category )\n\n// ProductList.view - hor, ver\n    return(\n      <div className='App-content topped padded'>\n        <ProductsList view='hor' products={list} category={category} item={item} facs={facs} />\n        <MenuList lan={lan} cats={cat_list} category={category} onCategory={this.onCategory} />\n        <Order products={list} category={category} stat={false} itemSelected={this.onItemSelected} lan={lan} />\n      </div>\n    )\n  }\n}\n\n\n\nconst mapStateToProps = state => ({\n  lan: state.settings.lan,\n  facs: state.facs,\n  city: state.settings.city,\n  products: state.products\n})\n\nexport default connect(mapStateToProps)(OrdersPage)\n","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport PropType from 'prop-types'\r\n\r\nimport ProductsList from './product/ProductsList'\r\n\r\nclass Catalog extends React.Component {\r\n  state = {\r\n    q: 0,\r\n    category: 1\r\n  }\r\n\r\n  onOrder = item => {\r\n    console.log(item)\r\n  }\r\n\r\n  render() {\r\n    const { lan,city,products,facs } = this.props\r\n    const { category } = this.state\r\n    const fli = facs.findIndex( f => f[city].city === city )\r\n\r\n    let l = facs[fli][city].products\r\n    .map( p => {\r\n      let prod = products.find( i => i.id === p.product )\r\n      return Object.assign(p,prod)\r\n    })\r\n    let list = l.filter( p => p.category === category )\r\n\r\n\r\n    return (\r\n      <div className='App-content topped padded'>\r\n        <ProductsList view='ver' onOrder={this.onOrder} products={list} />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nCatalog.propType = {\r\n  products: PropType.array.isRequired,\r\n  city: PropType.number.isRequired,\r\n  facs: PropType.array.isRequired\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  products: state.products,\r\n  facs: state.facs,\r\n  city: state.settings.city,\r\n  lan: state.settings.lan\r\n})\r\n\r\nexport default connect(mapStateToProps)(Catalog)\r\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport { Route,Redirect } from 'react-router-dom'\nimport PropTypes from 'prop-types'\n\nconst UserRoute = ({ isAuth, lan, component: Component, ...rest }) => {\n  console.log(isAuth)\n  return (\n    <Route {...rest} render={props => isAuth? <Component lan={lan} {...props} /> : <Redirect to='/' />} />\n  )\n}\n\nUserRoute.propTypes = {\n  component: PropTypes.func.isRequired\n}\n\nconst mapStateToProps = state => ({\n  lan: state.settings.lan,\n  isAuth: !!state.user.token\n})\n\nexport default connect(mapStateToProps)(UserRoute)\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport { Route,Redirect } from 'react-router-dom'\nimport PropTypes from 'prop-types'\n\nconst AdminRoute = ({isAdmin, lan, component: Component, ...rest}) => {\n  console.log('?Admin: ',isAdmin)\n  return (\n    <Route {...rest} render={props => isAdmin? <Component lan={lan} {...props} /> : <Redirect to='/admin' />} />\n  )\n}\n\nAdminRoute.propTypes = {\n  component: PropTypes.func.isRequired,\n  isAdmin: PropTypes.bool.isRequired\n}\n\nconst mapStateToProps = state => ({\n  lan: state.settings.lan,\n  isAdmin: state.user.membership === 1\n})\n\nexport default connect(mapStateToProps)(AdminRoute)\n","import React from 'react'\nimport { Message,Divider } from 'semantic-ui-react'\n\nexport default class RepeatPage extends React.Component {\n\n  state = {\n    ui: {\n      es: ['Su Pedido','No haz jugado hoy!','No haz comido hoy!','Nada para repetir...'],\n      en: ['Repeat this:','You\\'ve played 0 Games today!','You haven\\'t eaten today!','Nothing to repeat...'],\n      bg: [ 'Повтори: ','Не си играл днес!','Не си ял днес!','Нищо за повтаряне...']\n    }\n  }\n\n  render(){\n    const { lan } = this.props\n    const ui = this.state.ui[lan]\n    return(\n      <div className='App-content central padded'>\n        <div className='margined full-width'>\n          <Divider horizontal>{ui[0]}</Divider>\n          <Message negative>\n            <Message.Header>{ui[2]}</Message.Header>\n            <p>{ui[3]}</p>\n          </Message>\n        </div>\n\n      </div>\n    )\n  }\n}\n","import React from 'react'\nimport { Form, Button } from 'semantic-ui-react'\n\nimport Credentials from '../../forms/credentials'\n\nconst AdminLogin = ({lan,pass,login}) => {\n  return (\n    <div className='App-content padded Admin-Page'>\n      <Credentials submit={login} lan={lan} pass={true} />\n    </div>\n  )\n}\n\nexport default AdminLogin\n","import React from 'react'\nimport { Message,Divider } from 'semantic-ui-react'\n\nexport default class RepeatPage extends React.Component {\n\n  state = {\n    ui: {\n      es: ['Su Pedido','Por ahora no hay juegos','Vuelva pronto...'],\n      en: ['Play Home','No Games to play yet','Come back soon...'],\n      bg: ['Игри','Няма игри за сега','Провери отново скоро...']\n    }\n  }\n\n  render(){\n    const { lan } = this.props\n    const ui = this.state.ui[lan]\n    return(\n      <div className='App-content central padded'>\n        <div className='margined full-width'>\n          <Divider horizontal>{ui[0]}</Divider>\n          <Message negative>\n            <Message.Header>{ui[1]}</Message.Header>\n            <p>{ui[2]}</p>\n          </Message>\n        </div>\n\n      </div>\n    )\n  }\n}\n","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport { Icon,Checkbox } from 'semantic-ui-react'\n\nconst LocationRow = ({ind,prime,lan,view,row,stat,edit,onLocationClick,current}) => {\n  console.log(current,row.location,row.prime)\n  const addstyle = row.prime? ' selected-row' : ''\n  return (\n    <div className={'ui grid item'+addstyle}>\n      <div className='two wide column nopad items'>\n        {!stat && prime? <Icon name='pin' /> : ''}\n        {stat && view==='select' &&\n          <Checkbox\n            checked={current===row.id || !!row.prime&&current===0}//\n            onChange={()=>onLocationClick(row.id)}\n          />}\n      </div>\n      <div className='eight wide column nopad'>{row.street}</div>\n      <div className='two wide column nopad'>{row.number||row.location}</div>\n      <div className='two wide column nopad'>\n        {!stat && <span basic onClick={null}><Icon color='red' name='minus circle' /></span>}\n      </div>\n      <div className='two wide column nopad'>\n        {edit && <Link to={'/user/location/'+ind}><Icon color='blue' name='pencil' /></Link>}\n      </div>\n    </div>\n  )\n}\n\nexport default LocationRow\n","import React from 'react'\nimport LocationRow from './LocRow'\n\nconst UserLocations = ({stat,view,lan,list,onLocationClick,current}) => {\n  const ui = {\n    en: ['No Locations'],\n    es: ['No tienes Direccion'],\n    bg: ['Нямаш Адрес!']\n  }\n  return (\n    <div className={!list? 'order-list empty' : 'order-list'}>\n      {!list || list.length===0?\n        <div>{ui[lan][0]}</div> :\n        <div>\n          {list.map( (entry,ind) => {\n            return <LocationRow\n                key={ind}\n                ind={ind}\n                prime={entry.prime}\n                current={current}\n                onLocationClick={onLocationClick}\n                lan={lan}\n                row={entry}\n                view={view}\n                edit={true}\n                stat={stat}\n              />\n            })\n          }\n        </div>\n      }\n    </div>\n  )\n}\n\nexport default UserLocations\n","//let WebSocketClient = require('websocket').w3cwebsocket\n\nlet socket = new WebSocket('ws://localhost:8080')\n\nsocket.onopen = event => {\n  console.log(event)\n}\n\nexport default socket\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport { Link } from 'react-router-dom'\nimport { Button,Divider,Message } from 'semantic-ui-react'\nimport PropType from 'prop-types'\nimport OrderList from '../ui/order/OrderList'\nimport UserLocations from '../ui/user/UserLocationsList'\nimport { getLocationData } from '../../actions/user'\nimport { cancelCart,makeCart } from '../../actions/cart'\nimport socket from '../../websocket'\n\nclass CartPage extends React.Component {\n  state = {\n    ui: {\n      en:['Order','Where to:','Order:','Cancel','Add','You must give us a location!','Oreder recieved','Tu Pick up', 'Or'],\n      es:['Orden','Para donde:','Pedir','Cancelar','Más','Necesitamos dirección de entrega!','Pedido recibido','Para recojer', 'O'],\n      bg:['Поръчка','За къде:','Поръчай','Откажи','Още','Трябва ни адрес на доставка!','Поръчката е приета','За Вземане', 'Или']\n    },\n    currentLocation: 0,\n    error: {}\n  }\n\n  onLocationSlected = id => {\n    this.setState({\n      currentLocation: id,\n      error: {}\n    })\n  }\n\n  componentDidMount() {\n    const { locations } = this.props.user\n    if(!locations || locations.length === 0) return\n    locations.forEach( (entry,ind) => {\n      this.props.getLocationData(entry.location,ind)\n    })\n    socket.send('Cart Component did mount')\n  }\n\n  onOrder = e => {\n    let prime = 0\n    const {user,cart,lan} = this.props\n    const {currentLocation,error} = this.state\n    user.locations.forEach( l => {\n      if(l.prime && l.prime !== 0){\n        prime = l.id\n        console.log('Deliver ',prime)\n      }\n    })\n    if(!prime&&!currentLocation){\n      this.setState({\n        error: {message: this.state.ui[lan][5]}\n      })\n      return\n    }\n    let defLoc = currentLocation!==0? currentLocation : prime\n    this.props.makeCart({location: defLoc, cart: cart})\n    //.catch(err => console.log(err))\n    //console.log('Deliver this: ' + order.length + ', there:' + delLoc)\n  }\n\n  render() {\n    let prime = 0, total = 0\n    const {user,cart,lan} = this.props\n    const { currentLocation,error } = this.state\n    const ui = this.state.ui[lan]\n    if(user.locations){\n      user.locations.forEach( l => {\n        if(l.prime !== 0){\n          prime = l.id\n        }\n      })\n    }\n\n    let sum = cart.map( o => {\n      return (parseFloat(o.price)*parseFloat(o.q)).toFixed(2)\n    })\n\n    if(sum.length > 0) {\n      total = sum.reduce((acc, cv) => (parseFloat(acc) + parseFloat(cv)).toFixed(2))\n    }\n\n    console.log(sum,cart)\n\n    return (\n      <div className='App-content topped padded'>\n        <Divider horizontal>{ui[1]}</Divider>\n        {user.locations?\n          <UserLocations\n            view='select'\n            stat={true}\n            current={currentLocation}\n            onLocationClick={this.onLocationSlected}\n            list={user.locations}\n            lan={lan}\n          /> :\n          <div><Button as={Link} to='../user/locations' color='red' icon='warning sign' content={ui[1]} /></div>\n        }\n        {Object.keys(error).length>0 && <Message negative content={error.message} />}\n        <Divider horizontal>{ui[8]}</Divider>\n        <div className='oval-but'>\n          <Button fluid content={ui[7]} icon='hand paper' color='blue'/>\n        </div>\n        <Divider horizontal>{ui[0]}</Divider>\n        <OrderList stat={true} cart={cart} onOrder={()=>{}} lan={lan} />\n        <Divider horizontal>&#9675;</Divider>\n        {<div className='menu-bar'>\n          <Button.Group>\n            <Button color='grey' onClick={this.props.cancelCart} as={Link} to='/' content={ui[3]}/>\n            <Button\n              name='submit'\n              disabled={total===0 || !user.locations}\n              color='orange'\n              onClick={this.onOrder}\n              content={ui[2].concat(' ',total.toString())}\n            />\n            <Button color='grey' as={Link} to='/order' icon='plus' content={ui[4]} />\n          </Button.Group>\n        </div>}\n      </div>\n    )\n  }\n}\n\nCartPage.propType = {\n  lan: PropType.string.isRequired,\n  user: PropType.shape({\n    uid: PropType.number.isRequired\n  }),\n  cart: PropType.array.isRequired\n}\n\nconst mapStateToProps = state => ({\n  lan: state.settings.lan,\n  user: state.user,\n  cart: state.cart\n})\nexport default connect(mapStateToProps,{ getLocationData,cancelCart,makeCart })(CartPage)\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport { Link } from 'react-router-dom'\nimport PropType from 'prop-types'\nimport { Divider,Button,Icon } from 'semantic-ui-react'\nimport UserLocations from '../ui/user/UserLocationsList'\nimport { getLocationData } from '../../actions/user'\n\nclass UserPage extends React.Component {\n\n  state = {\n    ui: {\n      en: ['Your Locations:','New','Edit'],\n      es: ['Tus direciones:','Nueva','Editar'],\n      bg: ['Твоите Адреси:','Адрес','Промени']\n    }\n  }\n\n  componentDidMount() {\n    const { locations } = this.props\n    if(!locations || locations.length === 0) return\n    //this.props.getLocationData(3)\n    this.getLocData(locations)\n  }\n\n  componentDidUpdate(prevProps) {\n    const { locations } = this.props\n    if(!locations) return\n    //this.props.getLocationData(3)\n    if(!prevProps.locations || prevProps.locations.length !== locations.length){\n      this.getLocData(locations)\n    }\n  }\n\n  getLocData = l => {\n    l.forEach( (entry,ind) => {\n      this.props.getLocationData(entry.location,ind)\n    })\n  }\n\n  render() {\n    const {lan,locations} = this.props\n    const ui = this.state.ui[lan]\n    return (\n      <div className='App-content topped padded'>\n        <Divider horizontal>{ui[0]}</Divider>\n        <UserLocations view='list' stat={false} list={locations} lan={lan} />\n        <Divider horizontal>&#9675;</Divider>\n        <div className='row centered menu-bar'>\n          <Button.Group color='grey' widths='2'>\n            <Button as={Link} to='/' icon='home' />\n            <Button as={Link} to='/user/locations' icon='plus' content={ui[1]} />\n          </Button.Group>\n        </div>\n      </div>\n    )\n  }\n}\n\nUserPage.propType = {\n  lan: PropType.number.isRequired\n}\n\nconst mapStateToProps = state => ({\n  locations: state.user.locations\n})\n\nexport default connect(mapStateToProps,{ getLocationData })(UserPage)\n","import React from 'react'\nimport _ from 'lodash'\nimport { Search, Button } from 'semantic-ui-react'\n\nexport default class UserLocation extends React.Component {\n  state = {\n    isLoading: false,\n    data: {},\n    value: null\n  }\n  componentWillMount() {\n    this.resetComponent()\n  }\n\n  resetComponent = () => this.setState({ isLoading: false, results: [], value: '' })\n\n  handleResultSelect = (e, { result,name }) => {\n    const {title,id} = result\n    if(name==='street') {this.props.getNumbers('location',id)}\n    this.setState({\n      ...this.state,\n      value: title,\n      data: {...this.state.data, [name]: id}\n    })\n    if(name==='location'){this.props.onNewData({[name]: id})}\n    this.props.getInput(title,name)\n  }\n\n  handleSearchChange = (e, { value,name }) => {\n    this.setState({ isLoading: true, value })\n\n    setTimeout(() => {\n      if (this.state.value.toString().length < 1) return this.resetComponent()\n\n      const re = new RegExp(_.escapeRegExp(this.state.value), 'i')\n      const isMatch = result => re.test(result.title.toString())\n\n      this.setState({\n        isLoading: false,\n        results: _.filter(this.props.list, isMatch)\n      })\n    }, 300)\n\n    this.props.getInput(value,name)\n  }\n\n  render() {\n    const { isLoading,value,results } = this.state\n    const { name,list } = this.props\n    return (\n      <div>\n        <div className={name==='street'? 'full-width' : 'short'}>\n          <Search\n            name={name}\n            loading={isLoading}\n            onResultSelect={this.handleResultSelect}\n            onSearchChange={_.debounce(this.handleSearchChange, 500, { leading: true })}\n            results={results}\n            value={value}\n            {...this.props}\n          />\n        </div>\n      </div>\n    )\n  }\n}\n","import React from 'react'\nimport { Form } from 'semantic-ui-react'\n\nexport default class UserLocationList extends React.Component {\n  state = {\n    data: {},\n    ui: {\n      en: ['number'],\n      es: ['numero'],\n      bg: ['номер']\n    }\n  }\n\n  onChange = (e, {name,value,key}) => {\n   this.setState({\n     data: {...this.state.data, [name]: Number(value)}\n   })\n   const {list} = this.props\n   this.props.onNewData({[name]: Number(value)})\n   const ind = list.findIndex( e => {\n     return e.id === value\n   })\n   this.props.getInput(list[ind].title,name)\n  }\n\n  render() {\n    const { value,ui } = this.state\n    const { name,list,lan } = this.props\n    let options\n    if(list){\n      options = list.map( (entry,ind) => ({\n          key: ind+1,\n          value: entry.id,\n          text: entry.title\n        })\n      )\n    }\n\n    return (\n      <div className='short'>\n        <Form.Select onChange={this.onChange}\n          name={name} placeholder={ui[0]} options={options}\n          value={this.state.data[name] || ''}\n        />\n      </div>\n    )\n  }\n}\n","import React from 'react'\nimport { Form,Button,Message,Checkbox } from 'semantic-ui-react'\n\nexport default class UserDoor extends React.Component {\n  state = {\n    ui: {\n      en: ['floor','door','entry','bell','mobile','myHome, theOffice,...','Name it like:','Primary'],\n      es: ['piso','puerta','entrada','timbre','mobile','miCasa, LaOficina,...','Ponle nombre:','Principal'],\n      bg: ['етаж','врата','вход','звънец','мобилен','уНас, офиса, приМама,...','Именувай Адреса:','Основен']\n    },\n    valid: true,\n    empty: true,\n    data: {},\n  }\n\n  componentDidMount() {\n    if(this.props.edit){\n      this.setState({\n      data: {...this.state.data, prime: this.props.loc.prime}\n    })}\n  }\n\n  onChange = (e,{name,value}) => {\n    let v\n    if(name === 'entry' || 'bell'){\n      v = isNaN(value)? value : Number(value)\n    }\n    this.setState({\n      data: {...this.state.data, [name]: name==='entry'||'bell'? v :  Number(value)}\n    })\n    if(this.props.edit){\n      this.props.onInput(name, name==='entry'||'bell'? v : Number(value))\n    } else {\n      this.props.addData({[name]: name==='entry'||'bell'? v : Number(value)})\n    }\n  }\n\n  onCheckBox = (e, {name}) => {\n    this.props.onInput(name, this.state.data[name]? Number(!this.state.data[name]) : 1)\n    this.setState({\n      data: {...this.state.data, [name]: this.state.data[name]? !this.state.data[name] : true}\n    })\n  }\n\n  onClear = e => {\n    e.preventDefault()\n    this.setState({\n      data: {}\n    })\n  }\n\n  render() {\n    const {lan,edit,loc} = this.props\n    const ui = this.state.ui[lan]\n    const { valid,empty,data } = this.state\n    return (\n        <Form>\n          <Form.Group>\n            <div className='ui grid'>\n\n              <div className=\"row\">\n                <div className='eight wide column rect'>\n                  <Form.Input onChange={this.onChange}\n                    required name='bell' placeholder={edit && loc.bell? ui[3].concat(': ',loc.bell) : ui[3]}\n                    value={data.bell || ''}\n                  />\n                </div>\n                <div className='seven wide column rect'>\n                  <Form.Input onChange={this.onChange}\n                    required name='mobile' placeholder={edit && loc.mobile? loc.mobile : ui[4]}\n                    value={data.mobile || ''}\n                  />\n                </div>\n              </div>\n\n              <div className=\"row\">\n                <div className='four wide column rect'>\n                  <Form.Input onChange={this.onChange}\n                    required name='floor' placeholder={edit && loc.floor? loc.floor.toString().concat(' ',ui[0]) : ui[0]}\n                    value={data.floor || ''}\n                  />\n                </div>\n                <div className='four wide column rect'>\n                  <Form.Input onChange={this.onChange}\n                    required name='door' placeholder={edit && loc.door? loc.door.toString().concat(' ',ui[1]) : ui[1]}\n                    value={data.door || ''}\n                  />\n                </div>\n                <div className='four wide column rect'>\n                  <Form.Input onChange={this.onChange}\n                    name='entry' placeholder={edit && loc.entry? loc.entry.toString().concat(' ', ui[2]) : ui[2]}\n                    value={data.entry || ''}\n                  />\n                </div>\n                {!edit && <div className='tree wide column'>\n                  <Button\n                    className='add-but'\n                    icon='ban'\n                    onClick={this.onClear}\n                  />\n                </div>}\n              </div>\n\n              {edit &&\n                  <div className='row'>\n                    <div className='eight wide column rect'>\n                      <Form.Input onChange={this.onChange}\n                        label={ui[6]}\n                        name='name' placeholder={loc.name? loc.name : ui[5]}\n                        value={data.name || ''}\n                      />\n                    </div>\n                    <div className='seven wide column rect'>\n                      <Checkbox\n                        label={ui[7]}\n                        name='prime'\n                        checked={data.prime||loc.prime}\n                        onClick={this.onCheckBox}\n                      />\n                    </div>\n                  </div>\n              }\n\n            </div>\n\n              { !valid &&\n                <div className='margined full-width'>\n                  <Message negative>\n                    <Message.Header>{ui[3]}</Message.Header>\n                    <p>{1}</p>\n                  </Message>\n                </div>\n              }\n\n          </Form.Group>\n        </Form>\n    )\n  }\n}\n","import React from 'react'\nimport { Input } from 'semantic-ui-react'\n\nclass ReferenceInput extends React.Component {\n  state = {\n    ui: {\n      en: ['8 string reference...','Reference:'],\n      es: ['8 signos...','Referencia:'],\n      bg: ['8 знака код...','Референция:']\n    },\n    uid: ''\n  }\n\n  onChange = e => {\n    this.setState({\n      uid: e.target.value\n    })\n  }\n\n  onClick = () => {\n    if(this.state.uid !== ''){ this.props.onRef(this.state.uid) }\n  }\n\n  render() {\n    let ui = this.state.ui[this.props.lan]\n    return (\n      <Input\n        action={{\n          color: 'teal',\n          labelPosition: 'left',\n          icon: 'key',\n          content: `${ui[1]}`,\n          onClick: this.onClick\n        }}\n        name='uid'\n        onChange={this.onChange}\n        actionPosition='left'\n        placeholder={ui[0]}\n      />\n    )\n  }\n}\n\nexport default ReferenceInput\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport { Link } from 'react-router-dom'\nimport _ from 'lodash'\nimport { Divider,Button,Message } from 'semantic-ui-react'\nimport PropType from 'prop-types'\n\nimport { getLocations,checkReference } from '../../actions/settup'\nimport { addUserLocation,userAddLocation } from '../../actions/user'\n\nimport UserLocation from '../forms/ulocation'\nimport UserLocationList from '../forms/LocationNumbersList'\nimport UserDoor from '../forms/userDoor'\nimport LocationRow from '../ui/user/LocRow'\nimport ReferenceInput from '../forms/RefInput'\n\nclass UserLocationsPage extends React.Component {\n  state = {\n    ui: {\nen: ['Delivery Location','Your Street in, ','Your Number:','Save','No service on that location',\n    'We\\'ve got you! Just open the... which door:','Have a reference..?','No ref','No such reference'\n    ],\nes: ['Direccion de entrega','Calle-о-Carrera en, ','Tu Numero:','Guardar','No hay servicio en esta direccion',\n    'Lo ubicamos! Solo abrenos la... que puerta:','Tienes referencia..?','No tengo','No such reference'\n    ],\nbg: ['Адрес за доставка','Твоята улица във, ','Номер:', 'Запази','Не обслужваме този адрес',\n    'Тук сме! Само отвори вратата... коя врата? :','Имаш референция..?','Нямам','Няма такава референция'\n    ]\n    },\n    data: {},\n    input: {},\n    errors: {},\n    message: false,\n    location: false,\n    locate: false,\n    loc_id: '',\n    rep: true\n  }\n  componentDidMount() {\n    if(this.props.city){ this.props.getLocations('street',this.props.city) }\n  }\n\n  addData = data => {\n    console.log('Add in Locations: ',data)\n    this.setState({\n      ...this.state,\n      data: {...this.state.data, ...data}\n    })\n  }\n\n  getInput = (value,name) => {\n    this.setState({\n      input: {...this.state.input, [name]: value}\n    })\n    let nm = name.concat('s')\n    let verified = _.filter(this.props[nm], entry => {\n      if(name==='street'){\n        return entry.title === value\n      } else {\n        return Number(entry.title) === value\n      }\n    })\n    if(name!=='location' && verified.length === 0){\n      this.setState({\n        errors: {[name]: name},\n        [name]: false\n      })\n    } else {\n      this.setState({\n        errors: _.omit(this.state.errors, [name]),\n        [name]: true\n      })\n    }\n\n  }\n\n// on Reference: CHECK REFERENCE in DB ==============================\n  checkReference = ref => {\n    this.props.checkReference(ref).then( res => {\n      if(res.error){\n        this.setState({\n          message: true,\n          errors: res.error\n        })\n      } else {\n        console.log(res)\n        this.setState({\n          input: {...this.state.input, ...res},\n          data: {...this.state.data, location: res.id, ref: 1},\n          loc_id: res.id,\n          message: false,\n          errors: ''\n        })\n      }\n    })\n    .catch( err => {} )\n  }\n\n// Don't have a Reference: input Location manualy - street,number =====\n  noRef = e => {\n    this.setState({\n      rep: false,\n      loc_id: '',\n      message: false,\n      errors: ''\n    })\n  }\n\n// =====================================================================\n// =====================================================================\n// ======= SUBMIT BUTTONS ==============================================\n  onSubmit = e => {\n    if(!this.state.locate || this.state.rep ){\n      e.preventDefault()\n      this.saveLocation()\n    } else {\n      this.submitLocation()\n      // navigate to /user\n    }\n  }\n\n// Save Street-Number in Local State\n  saveLocation = () => {\n    if(Object.keys(this.state.errors).length === 0){\n      const {rep,loc_id,data} = this.state\n      //this.props.addUserLocation({location: rep? loc_id : data.location})\n      this.setState({\n        rep: false,\n        locate: true,\n        errors: {},\n        message: false\n      })\n    } else {\n      this.setState({\n        message: true,\n        errors: 4\n      })\n    }\n  }\n\n// Save Full Location into user_location and Global Store\n  submitLocation = () => {\n    this.props.userAddLocation(this.state.data)\n  }\n\n// =====================================================================\n// =====================================================================\n  render() {\n    const { streets,lan,city,cities,locations } = this.props\n    const ui = this.state.ui[lan]\n    const { street,location,locate,message,input,rep,loc_id } = this.state\n    let cty = ''\n    if(cities){\n      cities.forEach( entry => {\n        if(entry.id === city) cty=entry.title\n      })\n    }\n    return (\n      <div className='App-content topped padded'>\n        <Divider horizontal>{ui[0]}</Divider>\n        {!locate?\n          <p className={street !== undefined && !street? 'left warent' : 'left'}>\n            {rep? ui[6] : ui[1] + cty +':'}\n          </p> :\n          <LocationRow onClick={checkReference} row={input} stat={true} lan={lan} />\n        }\n        {rep && <ReferenceInput lan={lan} onRef={this.checkReference} />}\n{/* =====  Street First  ===============*/}\n        {!locate && !rep &&\n          <UserLocation lan={lan}\n            name='street'\n            getInput={this.getInput}\n            onNewData={this.addData}\n            list={streets}\n            getNumbers={this.props.getLocations}\n        />}\n{/* =====  User is Locate: get Address details and phone  ===============*/}\n        {locations && locations.length > 0 && street && !locate && !rep &&\n          <p className={location !== undefined && !location? 'left short warent' : 'left short'}>{ui[2]}\n            <UserLocationList\n              name='location'\n              getInput={this.getInput}\n              onNewData={this.addData}\n              list={locations}\n            />\n          </p>\n        }\n{/* =====  User is Locate: display form from Location details  ===============*/}\n        {locate &&\n          <div className='custom-form'>\n            <Divider horizontal></Divider>\n            <p className='vintage left'>{ui[5]}</p>\n            <UserDoor lan={lan} addData={this.addData}/>\n          </div>\n        }\n        <Divider horizontal></Divider>\n        {message && <Message positive={this.state.errors<3} negative={this.state.errors>2} content={ui[this.state.errors]} />}\n        <div className='column sixteen wide oval-but extra-padded'>\n{/* =====  Check if User has Reference  =================================*/}\n          {rep &&\n            <div className='row centered menu-bar'>\n              <Button.Group widths='2'>\n                <Button color='grey' disabled={!loc_id || loc_id===''}\n                  icon='thumbs up'\n                  content='OK'\n                  onClick={this.onSubmit}\n                />\n                <Button\n                  disabled={loc_id || loc_id!==''}\n                  icon='exclamation circle' color='blue' content={ui[7]}\n                  onClick={this.noRef}\n                />\n              </Button.Group>\n            </div>\n          }\n          {!rep &&\n            <div className='row centered menu-bar'>\n              <Button.Group widths='2'>\n                <Button color='grey' content='Clear' />\n                <Button\n                  as={Link} to='/user'\n                  disabled={!location}\n                  basic={!location}\n                  color='black'\n                  content={ui[3]}\n                  onClick={this.onSubmit}\n                />\n              </Button.Group>\n            </div>\n          }\n        </div>\n      </div>\n    )\n  }\n}\n\nUserLocationsPage.propType = {\n  lan: PropType.string.isRequired,\n  city: PropType.number.isRequired\n}\n\nconst mapStateToProps = state => ({\n  city: state.settings.city,\n  street: state.settings.street,\n  cities: state.settings.cities,\n  streets: state.settings.streets,\n  locations: state.settings.locations,\n  lan: state.settings.lan\n})\n\nexport default connect( mapStateToProps,\n  {\n    getLocations,\n    addUserLocation,\n    userAddLocation,\n    checkReference\n  }\n)(UserLocationsPage)\n\n//<AppSetup lan={lan} list={streets} setup='user_loc' usersetup={true} name='street' />\n\n/* ------- Locations Search List -------------\n<UserLocation lan={lan}\n  name='location'\n  getInput={this.getInput}\n  onNewData={this.addData}\n  list={locations}\n/>\n*/\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport PropTypes from 'prop-types'\nimport { Link } from 'react-router-dom'\nimport { Button,Divider } from 'semantic-ui-react'\n\nimport { userUpdateLocation } from '../../actions/user'\nimport UserDoor from '../forms/userDoor'\n\nclass UserLocationEdit extends React.Component {\n  state = {\n    ui: {\n      en: ['Edit this Location:','Save','Cancel','Reset'],\n      es: ['Editar Direccion:','Guardar','Cancelar','Omitir'],\n      bg: ['Редактирай Адрес:','Запази','Назад','Откажи']\n    },\n    input: {}\n  }\n\n  onInput = (name,value) => {\n    console.log(name,value)\n    this.setState({\n      input: {...this.state.input, [name]:value}\n    })\n  }\n\n  onSubmit = e => {\n    const { locations,match } = this.props\n    let id = Number(locations[match.params.id].id)\n    e.preventDefault()\n    this.props.userUpdateLocation(match.params.id, id, this.state.input)\n  }\n\n  render() {\n    const ui = this.state.ui[this.props.lan]\n    return (\n      <div className='App-content topped padded'>\n        <Divider horizontal>{ui[0]}</Divider>\n        <div className='custom-form'>\n          <UserDoor\n            edit={true}\n            lan={this.props.lan}\n            loc={this.props.locations[this.props.match.params.id]}\n            onInput={this.onInput}\n          />\n        </div>\n        <Divider horizontal />\n        <div className='row centered menu-bar'>\n          <Button.Group widths='3'>\n            <Button as={Link} to='/user' content={ui[2]} />\n            <Button color='grey' content={ui[3]} />\n            <Button color='blue' icon='thumbs up' content={ui[1]} onClick={this.onSubmit} />\n          </Button.Group>\n        </div>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  locations: state.user.locations\n})\nexport default connect(mapStateToProps, {userUpdateLocation})(UserLocationEdit)\n","import React from 'react'\nimport { Form,Button,Message } from 'semantic-ui-react'\nimport SearchSetupForm from '../SearchSetupForm'\n\n/*\n# CHECK SETTINGS: ?: if City, ?: if Street\n# Then: Add City or Street or Location\n*/\n\nexport default class AddLocationForm extends React.Component {\n  state = {\n    data: {},\n    bg: '',\n    lat: '',\n    code: '',\n    number: '',\n    ui: {\n      en: ['Street:lat','City:bg','City:lat','#','Next','Edit','Reset',\n        'System message:','Country','post','Street:bg','Add Location','Add New Street'\n        ],\n      es: ['Calle:lat','Ciudad:bg','City:lat','#','Seguir','Editar',\n        'Cancelar','Mensaje del sistema:','Pais','postal','Calle:bg','Add Location','Add New Street'\n        ],\n      bg: ['Улица:лат','Град:бг','Град:лат','#','Запази','Редактирай',\n        'Изчисти','Системно съобщение:','Държава','код','Улица:бг','Прибави Адрес','Прибави Нова Улица'\n        ]\n    },\n    message: '',\n    msgClosed: true,\n    locate: false\n  }\n\n  onReset = e => {\n    if(e) {e.preventDefault()}\n    this.setState({\n      data:{},\n      bg:'',\n      lat:'',\n      code:''\n    })\n  }\n\n  closeMessage = e => {\n    e.preventDefault()\n    this.setState({\n      message: {}\n    })\n  }\n\n  onChange = (e, {name,value}) => {\n    value = (name === 'number')? Number(value) : value\n    this.setState({\n      data: { ...this.state.data, [name]: value},\n      [name]: value\n    })\n  }\n\n  onCity = (e, {name,value}) => {\n    const {city} = this.state\n    const {loc} = this.props\n    const ind = city[loc].findIndex( e => {\n      return e.c === value\n    })\n    const { code } = city[loc][ind]\n    this.setState({data: { ...this.state.data, ...{[name]: value, post: code}}})\n  }\n\n  onStreet = data => {\n    this.setState({data: { ...this.state.data, ...data}})\n// add new street\n  }\n\n  onSubmit = () => {\n    console.log('Post these: ', this.state.data)\n    let tp = !this.props.city? 'city' : this.state.locate? 'location' : 'street'\n    const { data } = this.state\n    if(this.props.city){ data.city = this.props.city }\n    this.props.addLocation(data,tp)\n    .then(res => {\n      this.setState({...this.state, ...res})\n    })\n    this.onReset()\n  }\n\n  render() {\n    const { lan,city,cities,streets } = this.props\n    const { data,message,msgClosed,locate } = this.state\n    const ui = this.state.ui[lan]\n    const str = 'street_bg'\n    const cty = 'city_bg'\n    let _options= [],\n        opts = []\n    if(cities && !streets){\n      opts = cities['bg'].map( e => {\n        return e.c\n      })\n      opts = opts.sort()\n      _options = opts.map( (entr,ind) => ({\n        key:ind+1,\n        value:entr.id,\n        text:entr.ttl\n      }))\n    } else if(streets) {\n      _options = streets.map( (entr,ind) => ({\n        key:ind+1,\n        value:entr.id,\n        text:entr.ttl\n      }))\n    }\n    return (\n      <Form onSubmit={this.onSubmit}>\n        <Form.Group>\n          <div className='ui grid' style={{width: '100vw'}}>\n\n{/* ====== MESSAGE: =====================================*/}\n            {Object.keys(message).length>0 &&\n              <div className='margined full-width'>\n                <Message as='div' positive={true} size='tiny'\n                onDismiss={this.closeMessage}\n                header={ui[6]}\n                content={message}\n              />\n            </div>}\n{/* ==== ADD CITY: =====================================*/}\n            {!city &&\n              <div className='row centered'>\n                <div className='twelve wide column' style={{marginBottom: '10px'}}>\n                  <Form.Input fluid name='bg' onChange={this.onChange} value={this.state.bg} placeholder={ui[1]} />\n                </div>\n                <div className='twelve wide column' style={{marginBottom: '10px'}}>\n                  <Form.Input fluid name='lat' onChange={this.onChange} value={this.state.lat} placeholder={ui[2]} />\n                </div>\n                <div className='twelve wide column'>\n                  <Form.Input fluid name='code' onChange={this.onChange} value={this.state.code} placeholder={ui[3]} />\n                </div>\n              </div>\n            }\n{/* ==== ADD STREET: =====================================*/}\n            {!locate && city &&\n              <div className='row centered'>\n                <div className='twelve wide column' style={{marginBottom: '10px'}}>\n                  <Form.Input fluid name='bg' onChange={this.onChange} value={this.state.bg} placeholder={ui[10]} />\n                </div>\n                <div className='twelve wide column' style={{marginBottom: '10px'}}>\n                  <Form.Input fluid name='lat' onChange={this.onChange} value={this.state.lat} placeholder={ui[0]} />\n                </div>\n                <div className='twelve wide column'>\n                  <Button name='locate' onClick={()=>{this.setState({locate: true})}} content={ui[12]} />\n                </div>\n              </div>\n            }\n{streets.length > 0 && <SearchSetupForm appsetup={true} name='street' list={streets} lan={lan}/>}\n\n{/* ==== ADD LOCATION: =====================================*/}\n            {locate &&\n              <div className='row centered'>\n                <div className='twelve wide column' style={{marginBottom: '10px'}}>\n                  <SearchSetupForm appsetup={false} name='street_id' onStreet={this.onStreet} list={streets} lan={lan}/>\n                </div>\n                <div className='six wide column' style={{marginBottom: '10px'}}>\n                  <Form.Input fluid name='number'\n                    onChange={this.onChange}\n                    value={this.state.number} placeholder={ui[3]}\n                  />\n                </div>\n              </div>\n            }\n\n{/* ==== IF NOTHING: =====================================*/}\n\n              <div className='row centered menu-bar'>\n                <Button.Group widths='2'>\n                  <Button color='grey' onClick={this.onReset} content={ui[6]} />\n                  <Button color='blue' type='submit' content={ui[4]} />\n                </Button.Group>\n              </div>\n\n            </div>\n        </Form.Group>\n      </Form>\n    )\n  }\n}\n\n/*\n<div className='row'>\n  <div className='twelve wide column'>\n    <Form.Input onChange={this.onChange} value={data[street] || ''} name={street} placeholder={ui[0]} />\n  </div>\n  <div className=\"four wide column\">\n    <Form.Input onChange={this.onChange} value={data.number || ''} name='number' type='number' placeholder={ui[2]} />\n  </div>\n</div>\n*/\n","import React from 'react'\nimport Validator from 'validator'\nimport { Icon,Message,Button,Form } from 'semantic-ui-react'\n\nexport default class GetUser extends React.Component {\n  state = {\n    data: {},\n    logging: false,\n    errors: {},\n    ui: {\n      en: ['Check','example@mail.com','my-secret-password','Save'],\n      es: ['Consulta','ejemplo@mail.com','mi-contrasena-secreta','Guardar'],\n      bg: ['Провери','example@mail.com','секретната-ми-парола','Запази']\n    }\n  }\n\n  onSubmit = () => {\n    const {data, errors} = this.state\n    const { submit,login,init,pass } = this.props\n    const err = this.validate(data)\n    this.setState({ errors: err })\n    if(!pass && Object.keys(err).length === 0) {\n      submit(data,false)\n    } else if(Object.keys(err).length === 0) {\n      login(data,true)\n      init()\n      //console.log(err.password, data)\n    }\n  }\n\n  validate = data => {\n    const errors = {}\n    if ( this.props.pass ) {\n      if (data.password.length < 8) {\n        errors.password = 'Minimum password length must be 8 digits!'\n      }\n    } else {\n      if(!Validator.isEmail(data.email)) {\n        errors.email = 'Invalid email address! Try again...'\n      }\n    }\n    return errors\n  }\n\n  onInput = (e,{name}) => {\n    this.setState({\n      data: {...this.state.data, [name]: e.target.value}\n    })\n  }\n\n  render(){\n    const lan = this.state.ui[this.props.lan]\n    const {pass} = this.props\n    const {errors} = this.state\n    return(\n      <div className={pass? 'custom-form oval-but alert' : 'custom-form oval-but'}>\n        <Form onSubmit={this.onSubmit}>\n          <Form.Input fluid required inline centered focus\n            onChange={this.onInput}\n            name={pass ? 'password' : 'email'}\n            type={pass ? 'password' : 'email'}\n            placeholder={pass ? lan[2] : lan[1]}\n          />\n          {Object.keys(errors).length>0 && <Message negative>\n              <Message.Header>{pass? 'Incomplete password:' : 'Incorrect email:'}</Message.Header>\n              <p>{pass? errors.password : errors.email}</p>\n            </Message>\n          }\n          <Button type='submit' color='grey' fluid={pass}>{pass? lan[3] : lan[0]}</Button>\n        </Form>\n      </div>\n    )\n  }\n}\n","import React from 'react'\nimport GetUser from '../../forms/getUser'\n\nconst AddRep = ({admin,lan}) => {\n  return (\n    <GetUser submit={()=>{}} init={()=>{}} lan={lan} pass={false} />\n  )\n}\n\nexport default AddRep\n","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport { Button } from 'semantic-ui-react'\n\nconst MainMenu = ({disabled,lan,onMenu}) => {\n  const ui = {\n    en: ['USER','LOC','PRO','FAC','LAB'],\n    es: ['USER','LOC','PRO','FAC','LAB'],\n    bg: ['USER','LOC','PRO','FAC','LAB']\n  }\n\n  return (\n    <Button.Group color='blue' widths='5'>\n      <Button disabled={disabled} onClick={onMenu} name='USER' content={ui[lan][0]} />\n      <Button disabled={disabled} onClick={onMenu} name='LOC' content={ui[lan][1]} />\n      <Button disabled={disabled} onClick={onMenu} name='PRO' content={ui[lan][2]} />\n      <Button disabled={disabled} onClick={onMenu} name='FAC' content={ui[lan][3]} />\n      <Button disabled={disabled} onClick={onMenu} name='LAB' content={ui[lan][4]} />\n    </Button.Group>\n  )\n}\n\nexport default MainMenu\n","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport { Button,Icon } from 'semantic-ui-react'\n\nconst SubMenu = ({lan,onMenu,subset}) => {\n  const ui = {\n    en: {\n      user: ['home','email','list','order'],\n      pro: ['home','add','edit','rep'],\n      loc: ['home','add','edit','rep'],\n      fac: ['home','add','edit','rep'],\n      lab: ['home','add','edit','rep']\n    },\n    es: {\n      user: ['home','email','list','order'],\n      pro: ['home','add','edit','rep'],\n      loc: ['home','add','edit','rep'],\n      fac: ['home','add','edit','rep'],\n      lab: ['home','add','edit','rep']\n    },\n    bg: {\n      user: ['home','email','list','order'],\n      pro: ['home','add','edit','rep'],\n      loc: ['home','add','edit','rep'],\n      fac: ['home','add','edit','rep'],\n      lab: ['home','add','edit','rep']\n    }\n  }\n  return (\n    <Button.Group color='blue' widths='5'>\n      <Button onClick={onMenu} name={ui[lan][subset][0]} icon='home' />\n      <Button onClick={onMenu} name={ui[lan][subset][1]} content={ui[lan][subset][1]} />\n      <Button onClick={onMenu} name={ui[lan][subset][2]} content={ui[lan][subset][2]} />\n      <Button onClick={onMenu} name={ui[lan][subset][3]} content={ui[lan][subset][3]} />\n    </Button.Group>\n  )\n}\n\nexport default SubMenu\n","import axios from 'axios'\n\nexport default {\n  locations: {\n    addLocation: (data,type) => axios.post('/admin/location/'+type, {data}).then( res => res.data),\n    getList: data => axios.get('/admin/location/city', {data}).then( res => console.log((res)))\n  }\n}\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport { Divider,Button } from 'semantic-ui-react'\n\nimport AddLocationForm from '../../forms/admin/addLocation'\nimport AddRep from './addRep'\nimport AdminMenu from './ui/menu'\nimport { addLocation } from '../../../actions/admin/'\n\nclass Locations extends React.Component {\n  state = {\n    view: '',\n    ui: {\n      en:['Location in:'],\n      es:['Localidad en:'],\n      bg:['Адрес в:']\n    }\n  }\n\n  render() {\n    const { addLocation,lan,city,cities,streets,isAdmin,view } = this.props\n    const ui = this.state.ui[lan]\n    return (\n      <div className='topped padded'>\n        <h3>{ui[0].concat(city? cities[Number(city)-1].title : 'Add City')}</h3>\n        <Divider horizontal />\n        {view === 'add' &&\n          <div className='custom-form'>\n            <AddLocationForm lan={lan} city={city} streets={streets} addLocation={addLocation}/>\n          </div>\n        }\n        <Divider horizontal />\n        {view === 'rep' && <AddRep admin={true} lan={lan} loc='bg' addLocation={addLocation}/>}\n      </div>\n    )\n  }\n}\nconst mapStateToProps = state => ({\n  cities: state.settings.cities,\n  streets: state.settings.streets,\n  isAdmin: state.user.membership === 1\n})\nexport default connect(mapStateToProps,{ addLocation })(Locations)\n","import { ADD_LOCATION } from '../../types'\nimport api from '../../api/admin'\n\nexport const addLocation = (data,type) => dispatch => {\n  return api.locations.addLocation(data,type).then( res => res )\n}\n\nexport const getList = type => dispatch => {\n  api.getList(type).then()\n}\n","import React from 'react'\nimport { Form,Divider,Button,Icon} from 'semantic-ui-react'\n\nexport default class UserForm extends React.Component {\n  render() {\n    return (\n\n        <Form>\n          {this.props.view==='email' &&\n            <Form.Group inline>\n              <Form.Input width={10} label='email: ' placeholder='user@mail.com' />\n            </Form.Group>\n          }\n          <Button content='Submit' />\n        </Form>\n\n    )\n  }\n}\n","import React from 'react'\nimport UserForm from '../../../forms/user/userForm'\n\nconst User = ({view,lan}) => {\n  return (\n    <div className='topped padded'>\n      {view==='email' && <UserForm view={view} />}\n      {view==='list' && <div>List Users</div>}\n    </div>\n  )\n}\n\nexport default User\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport { Divider } from 'semantic-ui-react'\nimport Locations from './Locations'\nimport User from './user/views'\nimport MainMenu from './ui/mainMenu'\nimport SubMenu from './ui/subMenu'\n\nimport { getLocations } from '../../../actions/settup'\n\nclass AdminHome extends React.Component {\n  state = {\n    main: true,\n    mView: '',\n    sView: '',\n    ui: {\n      en: ['Wellcome to Admin Home'],\n      es: ['Administrar'],\n      bg: ['Администрация'],\n    }\n  }\n\n  onSubMenu = (e,{name}) => {\n    this.setState({\n      main: name==='home',\n      sView: name\n    })\n  }\n\n  onMainMenu = (e,{name}) => {\n    console.log('MainMenu: ',name)\n    this.setState({\n      main: false,\n      mView: name.toLowerCase()\n    })\n  }\n\n  componentDidMount() {\n    if(this.props.city){ this.props.getLocations('street',this.props.city) }\n  }\n\n  render() {\n    const {lan,city} = this.props\n    const { main,sView,mView } = this.state\n    const ui = this.state.ui[lan]\n    return (\n      <div className='App-content padded Admin-Page'>\n        <h2>{ui[0]}</h2>\n        <div className='menu-bar'>\n          <MainMenu disabled={!main} lan={lan} onMenu={this.onMainMenu} />\n          <Divider horizontal />\n          {!main && <SubMenu subset={mView} lan={lan} onMenu={this.onSubMenu} />}\n        </div>\n        {sView === 'email' && <User view={sView} lan={lan} />}\n        {sView === 'list' && <User view={sView} lan={lan} />}\n        {sView === 'add' && <Locations city={city? city : false} view={sView} lan={lan} />}\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  city: state.settings.city,\n  cities: state.settings.cities\n})\n\nexport default connect(mapStateToProps,{ getLocations })(AdminHome)\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport { Route } from 'react-router-dom'\nimport PropTypes from 'prop-types'\n\nimport HomePage from './components/pages/HomePage'\nimport Top from './components/pages/Top'\nimport OrdersPage from './components/pages/OrdersPage'\nimport CatalogPage from './components/pages/CatalogPage'\nimport UserRoute from './components/routes/user'\nimport AdminRoute from './components/routes/admin'\nimport RepeatPage from './components/pages/RepeatPage'\nimport AdminLogin from './components/pages/admin/AdminLogin'\nimport PlayPage from './components/pages/PlayPage'\nimport CartPage from './components/pages/CartPage'\nimport UserPage from './components/pages/UserPage'\nimport UserLocationsPage from './components/pages/UserLocationsPage'\nimport UserLocationEdit from './components/pages/UserLocationEdit'\n//import MicroFront from './Microfront'\n// Admin Routes:\nimport Locations from './components/pages/admin/Locations'\nimport AdminHome from './components/pages/admin/'\n\n// MicroFrontEnds: -----------------------------------------\n//const {\n//  REACT_APP_CART_HOST: cartHost\n//} = process.env\n// console.log(process.env)\n// expose window global ------------------------------------\n\n//const Cart = ({history}) => (\n//  <MicroFront history={history} host={cartHost} name='Cart'/>\n//)\n// ---------------------------------------------------------\n\nconst App = ({location,lan}) => {\n  return (\n    <div className='App'>\n      <Route location={location} path='/' exact component={HomePage}/>\n      <Route location={location} path='/' component={Top}/>\n{/* ========= ADMIN ================== */}\n      <AdminRoute location={location} path='/admin/location' exact lan={lan} component={Locations}/>\n{/* !!!! MAKE THIS ADMIN ROUTE !!!!! -------------------------------------------------------------------*/}\n      {/*<AdminRoute location={location} path='/admin/home' exact lan={lan} component={AdminHome}/>*/}\n      <UserRoute location={location} path='/admin/home' exact lan={lan} component={AdminHome}/>\n{/* ------------ ----------- ---------- ---------- ---------- ---------- ----------- ----------- -------*/}\n      <UserRoute location={location} path='/admin' exact lan={lan} component={AdminLogin}/>\n{/* ========= USER ================== */}\n      <UserRoute location={location} path='/order' exact lan={lan} component={OrdersPage}/>\n      <UserRoute location={location} path='/catalog' exact lan={lan} component={CatalogPage}/>\n      <UserRoute location={location} path='/repeat' exact lan={lan} component={RepeatPage}/>\n      <UserRoute location={location} path='/play' exact lan={lan} component={PlayPage}/>\n{/* Switch this for mmicrofrontend CART-route */}\n{/*<Route location={location} path='/cart' exact component={Cart} />*/}\n      <UserRoute location={location} path='/cart' exact lan={lan} component={CartPage}/>\n      <UserRoute location={location} path='/user' exact lan={lan} component={UserPage}/>\n      <UserRoute location={location} path='/user/locations' exact lan={lan} component={UserLocationsPage}/>\n      <UserRoute location={location} path='/user/location/:id' exact lan={lan} component={UserLocationEdit}/>\n    </div>\n  )\n}\n\nApp.propTypes = {\n  lan: PropTypes.string.isRequired,\n  location: PropTypes.shape({\n    pathname: PropTypes.string.isRequired\n  }).isRequired\n}\n\nconst mapStateToProps = state => ({\n  lan: state.settings.lan\n})\n\nexport default connect(mapStateToProps)(App)\n","import React from 'react'\nimport { BrowserRouter as Router, Route } from 'react-router-dom'\nimport ReactDOM from 'react-dom'\nimport { Provider } from 'react-redux'\nimport { createStore, compose, applyMiddleware } from 'redux'\nimport thunk from 'redux-thunk'\nimport 'semantic-ui-css/semantic.min.css'\nimport './App.css'\nimport RootReducer from './RootReducer'\nimport { setUI,getProductList } from './actions/settup'\nimport { userSignedIn } from './actions/auth'\nimport { userInit,getLocalFacs } from './actions/user'\nimport setAuthHeader from './utils/setAuthHeader'\nimport setLanHeader from './utils/setLanHeader'\nimport App from './App'\n//import * as serviceWorker from './serviceWorker'\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose\nconst initState = {\n  user: {},\n  settings: {\n    lan: 'bg'\n  },\n  products: [],\n  order: {},\n  cart: []\n}\n\nconst store = createStore(\n  RootReducer,\n  initState,\n  composeEnhancers(applyMiddleware(thunk))\n)\n\nwindow.GS = store\n\nif(localStorage.valePizzaJWT){\n  let user = {}\n  user.new_user = false\n  user.token = localStorage.valePizzaJWT\n  setAuthHeader(user.token)\n// Check if User Exist:\n  //store.dispatch(checkUserToken(localStorage.valePizzaJWT))\n// If Credentials OK:\n  store.dispatch(userSignedIn(user))\n// If Credentials OK:\n  store.dispatch(userInit())\n    .then( locations => {\n      if(!locations) return\n//   get all user saved locations\n      let loc = locations.map( l => {\n        return l.city\n      })\n      let l = [...new Set(loc)]\n//   get all facs for each unique user.location.city\n      store.dispatch(getLocalFacs(l))\n    })\n    .catch( err => {\n      setAuthHeader()\n      user.token = ''\n      user.new_user = true\n      store.dispatch(userSignedIn(user))\n      console.log('initialUser: ', err.response.data.error)\n    })\n}\n\nsetLanHeader('bg')\nstore.dispatch(setUI())\n// get full Global Products List from products\nstore.dispatch(getProductList('bg'))\n\nconst Root = (\n  <Provider store={store}>\n    <Router>\n      <Route component={App} />\n    </Router>\n  </Provider>\n)\n\nReactDOM.render(\n  Root,\n  document.getElementById('root'))\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\n//serviceWorker.unregister()\n"],"sourceRoot":""}
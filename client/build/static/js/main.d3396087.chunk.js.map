{"version":3,"sources":["pi_pie.svg","pi_pi.svg","RootReducer.js","reducers/settings.js","types.js","reducers/user.js","reducers/products.js","reducers/order.js","reducers/cart.js","reducers/facs.js","api.js","actions/settup.js","utils/setAuthHeader.js","actions/auth.js","actions/user.js","utils/setLanHeader.js","components/forms/credentials.js","components/brand/sign.js","components/pages/MainMenu.js","components/forms/SearchSetupForm.js","websocket.js","components/ui/AppSetup.js","actions/cart.js","components/pages/HomePage.js","components/ui/user/admin.js","components/pages/Top.js","components/forms/OrderInput.js","components/ui/order/OrderRow.js","components/ui/order/OrderList.js","components/ui/order/Order.js","components/pages/product/orderBar.js","components/pages/product/index.js","components/pages/product/ProductsList.js","components/ui/menus/categories.js","components/pages/OrdersPage.js","components/ui/cart/Cart.js","components/pages/CatalogPage.js","components/routes/user.js","components/routes/admin.js","components/ui/order/OrderLine.js","components/ui/order/OrderDetail.js","components/ui/order/CollectionTable.js","components/pages/admin/fac/BakerAdmin.js","actions/order.js","components/pages/admin/TesterPage.js","components/pages/admin/fac/BakerHome.js","components/pages/admin/AdminDashboard.js","components/pages/admin/AllHome.js","components/pages/admin/RoleHome.js","components/pages/RepeatPage.js","components/pages/admin/AdminLogin.js","components/pages/PlayPage.js","components/ui/user/LocRow.js","components/ui/user/UserLocationsList.js","components/pages/CartPage.js","components/ui/user/UserPerksList.js","components/pages/UserPage.js","components/forms/ulocation.js","components/forms/LocationNumbersList.js","components/forms/userDoor.js","components/forms/RefInput.js","components/pages/UserLocationsPage.js","components/pages/UserLocationEdit.js","components/forms/admin/addLocation.js","components/forms/getUser.js","components/pages/admin/addRep.js","api/admin.js","components/pages/admin/Locations.js","actions/admin/index.js","components/forms/user/userForm.js","components/pages/admin/user/views.js","components/pages/admin/ui/mainMenu.js","components/pages/admin/ui/subMenu.js","components/pages/admin/index.js","App.js","index.js"],"names":["module","exports","__webpack_require__","p","combineReducers","settings","state","arguments","length","undefined","action","type","Object","objectSpread","data","order_counter","user","locations","map","item","ind","concat","toConsumableArray","products","order","cart","facs","console","log","fac","api","setUI","axios","get","then","res","getLocationList","id","getProductList","lan","getLocation","ref","getLocationFac","loc","post","setupFac","_ref","rest","objectWithoutProperties","signup","credentials","checkOne","initUser","addLocation","updateLocation","pushOrder","collection","setInterface","facSetup","setLocationFactory","ui","dispatch","getLocations","itm","setProductsList","socketCounter","hasOwnProperty","open","bsocket","countCustomers","checkReference","catch","err","error","setAuthHeader","token","defaults","headers","common","userSignedIn","initialUser","addUserLocation","updateUserLocation","userInit","Promise","resolve","reject","getLocationData","response","setLanHeader","Credentials","logging","errors","en","es","bg","onSubmit","_this","_this$props","props","pass","submit","login","validate","setState","keys","password","Validator","isEmail","email","onInput","e","name","defineProperty","target","value","this","react_default","a","createElement","className","Form","Input","fluid","required","inline","centered","focus","onChange","placeholder","Message","negative","Header","Button","color","React","Component","Sign","size","Label","circular","basic","MainMenu","Group","as","Link","to","icon","content","SearchSetupForm","results","isLoading","resetComponent","handleResultSelect","result","title","message","appsetup","onStreet","handleSearchChange","_ref2","setTimeout","re","RegExp","_","escapeRegExp","filter","list","test","preventDefault","_this$state","_this$props2","Search","assign","loading","onResultSelect","onSearchChange","debounce","leading","disabled","userSocket","role","AppSetup","header","confirm","onLanguage","find","c","city","status","_this2","_this$props3","setup","forms_SearchSetupForm","Divider","horizontal","onClick","Confirm","onCancel","е","onConfirm","connect","addCart","cancelCart","clearCart","roles","initSocket","membership","cb","ID","member","lab","getID","adm","toString","split","reverse","_roles","m","i","Number","getRole","URL","WebSocket","onerror","onopen","socket","onclose","subscribeSocket","onmessage","JSON","parse","fireSocket","payload","send","closeSocket","close","HomePage","history","isAuthorized","cities","one_city","signUp","getLocalFacs","getFacStore","addToCart","new_user","username","uid","orders","newUser","mbr","_mbr","forEach","push","join","init","Date","day_open","pause","day_close","reinit","noon_open","noon_close","first_free","product","quant","price","promo","src","LogoPie","alt","LogoPi","sign","pages_MainMenu","credentials_Credentials","getFacs","ui_AppSetup","getHours","getMinutes","propType","PropType","number","isRequired","localStorage","valePizzaJWT","UserAdmin","Icon","inverted","react_router_dom","Top","_useState","useState","_useState2","slicedToArray","openConfirmation","setConfirmationOpen","cty","location","checkin","pathname","user_admin","shape","OrderInput","units","isNumeric","code","onItemSelect","Math","abs","onAdd","onAddItem","shouldComponentUpdate","nextProps","category","items","_invalid","_empty","Select","key","options","OrderRow","stat","empty","row","onDelete","parseFloat","price_pos","toFixed","OrderList","order_OrderRow","Order","onDeleteItem","slice","findIndex","o","inx","ent","onOrder","total","itemSelected","text","sum","reduce","acc","cv","ttl","forms_OrderInput","order_OrderList","width","mode","countItem","setCounter","style","backgroundColor","active","Product","entry","view","confirmOpen","_useState3","_useState4","_useState5","_useState6","position","backgroundImage","backgroundSize","dscr","orderBar","q","ProductsList","addItem","l","minWidth","left","pages_product","minHeight","MenuList","onCategory","cats","includes","cl","OrdersPage","cat","onItemSelected","cat_list","product_ProductsList","categories","order_Order","TransitionablePortal","onShow","closeOnDocumentClick","transition","animation","duration","Segment","Catalog","_this$state2","prod","cart_Cart","array","isAuth","component","react_router","render","OrderLine","oh","om","ph","pm","ordered","pickup","Grid","Row","Column","d","opt","CollectionTable","tabs","detail","detailID","celled","details","_entry$","ordered_at","pick_up_time","order_OrderLine","order_OrderDetail","getOrders","setData","setList","order_CollectionTable","Array","from","Set","TesterPage","BakerHome","dlvr","pod","prevState","setFac","stringify","closeShop","_ref3","switchPod","componentDidMount","_this$props$fac","delivery","columns","Checkbox","checked","label","toggle","customers","customer_counter","log2","TesterHome","auth","fowner","baker","fac_BakerHome","AllHome_TesterHome","admin_AdminDashboard","clear","url","match","path","exact","AllHome","AllAdminHome","BakerAdmin","admin_TesterPage","RepeatPage","AdminLogin","LocationRow","prime","edit","locClick","current","addstyle","street","UserLocations","onLocation","LocRow","CartPage","currentLocation","onLocationSlected","defLoc","makeCart","user_location","fac_id","msg","mem","UserLocationsList","positive","order_estimated","string","statusText","has_perks","perks","UserPage","getLocData","logout","prevProps","listLocations","widths","user_UserPerksList","free_pizza","bool","UserLocation","getInput","getNumbers","onNewData","UserLocationList","UserDoor","valid","addData","v","onCheckBox","onClear","bell","mobile","floor","door","ReferenceInput","onRef","labelPosition","actionPosition","UserLocationsPage","input","locate","loc_id","rep","nm","verified","omit","noRef","saveLocation","submitLocation","userAddLocation","streets","RefInput","ulocation_UserLocation","LocationNumbersList_UserLocationList","userDoor_UserDoor","UserLocationEdit","params","userUpdateLocation","AddLocationForm","lat","msgClosed","onReset","closeMessage","onCity","_objectSpread3","tp","sort","entr","onDismiss","marginBottom","stopPropagation","GetUser","AddRep","admin","getUser_GetUser","api_admin","getList","Locations","element","addLocation_AddLocationForm","addRep","UserForm","User","userForm_UserForm","onMenu","el","SubMenu","subset","pro","indx","AdminHome","main","mView","sView","logged","onSubMenu","onMainMenu","toLowerCase","onCheck","closeSession","logedin","trans","window","screen","mainMenu","subMenu","views","admin_Locations","App","routes_admin","RoleHome","routes_user","CatalogPage","PlayPage","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","RootReducer","banner","applyMiddleware","thunk","GS","Root","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.d3396087.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/pi_pie.90b4f22b.svg\";","module.exports = __webpack_public_path__ + \"static/media/pi_pi.27d4ed5a.svg\";","import { combineReducers } from 'redux'\n\nimport { settings } from './reducers/settings'\nimport { user } from './reducers/user'\nimport { products } from './reducers/products'\nimport { order } from './reducers/order'\nimport { cart } from './reducers/cart'\nimport { facs } from './reducers/facs'\n\nexport default combineReducers({\n  settings,\n  user,\n  products,\n  order,\n  cart,\n  facs\n})\n","import { SETUP_CHANGED,ORDER_COUNTER,CUSTOMER_COUNTER } from '../types'\n\nexport const settings = (state={},action) => {\n  switch (action.type) {\n    case SETUP_CHANGED:\n      return {...state, ...action.data}\n    case ORDER_COUNTER:\n      return {...state, order_counter: state.order_counter + 1}\n    case CUSTOMER_COUNTER:\n      return {...state, ...action.data}\n    default:\n      return state\n\n  }\n}\n","export const USER_SIGNED = 'USER_SIGNED'\nexport const USER_LOGGED = 'USER_LOGGED'\nexport const USER_INIT = 'USER_INIT'\nexport const USER_LOCATION = 'USER_LOCATION'\nexport const USER_ADD_LOCATION = 'USER_ADD_LOCATION'\nexport const USER_UPDATE_LOCATION = 'USER_UPDATE_LOCATION'\n\nexport const SETUP_CHANGED = 'SETUP_CHANGED'\nexport const SET_FAC = 'SET_FAC'\nexport const FAC_STATE = 'FAC_STATE'\nexport const ORDER_COUNTER = 'ORDER_COUNTER'\nexport const CUSTOMER_COUNTER = 'CUSTOMER_COUNTER'\n\nexport const ORDER_LIST = 'ORDER_LIST'\nexport const ORDER_CLEAR = 'ORDER_CLEAR'\n\nexport const CART_LIST = 'CART_LIST'\nexport const CART_CLEAR = 'CART_CLEAR'\n\nexport const PRODUCT_LIST = 'PRODUCT_LIST'\n\n// === ADMIN ACTIONS: ===========================\n\nexport const ADD_LOCATION = 'ADD_LOCATION'\n","import { USER_SIGNED,USER_INIT,USER_LOCATION,USER_UPDATE_LOCATION,USER_ADD_LOCATION } from '../types'\nexport const user = (state={},action) => {\n  switch (action.type) {\n    case USER_SIGNED:\n      //window.Store.notify(action.type)\n      return action.user\n    case USER_LOCATION:\n      return {...state, ...action.user}\n    case USER_UPDATE_LOCATION:\n      return {\n        ...state,\n        locations: state.locations.map( (item,ind) => {\n          if(ind === action.ind) {\n            return {...item, ...action.data}\n          } else {\n            return item\n          }\n        })\n      }\n    case USER_ADD_LOCATION:\n      return {\n        ...state,\n        locations: state.locations? [...state.locations, action.data] : [action.data]\n      }\n    case USER_INIT:\n      return {...state, ...action.user}\n    default:\n      return state\n\n  }\n}\n","import { PRODUCT_LIST } from '../types'\n\nexport const products = (state=[],action) => {\n  switch (action.type) {\n    case PRODUCT_LIST:\n      return action.data\n    default:\n      return state\n\n  }\n}\n","import { ORDER_LIST,ORDER_CLEAR } from '../types'\n\nexport const order = (state=[],action) => {\n  switch (action.type) {\n    case ORDER_LIST:\n      return action.order\n    case ORDER_CLEAR:\n      return []\n    default:\n      return state\n\n  }\n}\n","import { CART_LIST,CART_CLEAR } from '../types'\n\nexport const cart = (state=[],action) => {\n  switch (action.type) {\n    case CART_LIST:\n      return action.order\n    case CART_CLEAR:\n      return []\n    default:\n      return state\n\n  }\n}\n","import { SET_FAC,FAC_STATE } from '../types'\n\nexport const facs = (state={},action) => {\n\n  switch (action.type) {\n    case SET_FAC:\n    console.log('New fac?: ',action.facs)\n      return action.fac\n    case FAC_STATE:\n      return {...state, ...action.data}\n    default:\n      return state\n  }\n}\n","import axios from 'axios'\n\nexport default {\n  settup: {\n    setUI: () => axios.get('/ui').then( res => res.data ),\n    getLocationList: (item,id) => axios.get('/admin/location/'+item+'/'+id).then( res => res.data ),\n    getProductList: lan => axios.get('/products/'+lan).then( res => res.data ),\n    getLocation: ref => axios.get('/admin/location/ref/'+ref).then( res => res.data ),\n    getLocationFac: loc => axios.post('/user/facs', {id:loc}).then( res => res.data ),\n    setupFac: ({id,...rest}) => axios.post('/user/fac/'+id, rest).then( res => {})\n  },\n  user: {\n    signup: credentials => axios.post('/auth', { credentials }).then( res => res.data.user ),\n    checkOne: () => axios.get('/auth/check').then( res => res.data),\n    initUser: () => axios.get('/user').then( res => res.data.user ),\n    addLocation: data => axios.post('/user/location', { data }).then( res => {\n      console.log(res)\n      return res.data.id\n    } ),\n    updateLocation: (data,id) => axios.post('/user/location/'+id, { data }).then( res => res.data ),\n    //locationFac: loc => axios.post('/user/facs', {ids:loc}).then( res => res.data )\n  },\n  order: {\n    pushOrder: data => axios.post('/orders', { data }).then( res => res.data ),\n    collection: id => axios.get(`/admin/fac/${id}/orders`)\n  }\n}\n","import { SETUP_CHANGED,PRODUCT_LIST,\n  SET_FAC,ORDER_COUNTER,CUSTOMER_COUNTER,FAC_STATE\n} from '../types.js'\nimport api from '../api'\n\nexport const setInterface = data => ({type: SETUP_CHANGED, data})\n\nexport const countOrders = () => ({type: ORDER_COUNTER})\nexport const countCustomers = data => ({type: CUSTOMER_COUNTER, data})\n\nexport const facSetup = data => ({type: FAC_STATE, data})\n\nexport const setLocationFactory = fac => ({type: SET_FAC, fac})\n\nexport const setUI = ui => dispatch =>\napi.settup.setUI(ui).then( data => {\n  dispatch(setInterface(data))\n})\n\nexport const setProductsList = data => ({type: PRODUCT_LIST, data})\n\nexport const getLocations = (itm,id) => dispatch =>\napi.settup.getLocationList(itm,id).then( data => {\n  console.log('getLocationsList: ', data);\n  dispatch(setInterface(data))\n})\n\nexport const getProductList = lan => dispatch =>\napi.settup.getProductList(lan).then( data => {\n  dispatch(setProductsList(data))\n})\n\nexport const getFacStore = ({city}) => dispatch =>\napi.settup.getLocationFac(city).then( fac => {\n  dispatch(setLocationFactory(fac))\n})\n\nexport const setFac = settings => dispatch =>\napi.settup.setupFac(settings).then( () => {\n  const { data } = settings\n  dispatch(facSetup(data))\n})\n\nexport const socketCounter = data => dispatch => {\n  console.log('Socket Action: ',data)\n// Baker has new order:\n  if(data.order) {\n    return dispatch(countOrders())\n  }\n// Bakery just Opened:\n  else if (data.hasOwnProperty('open')) {\n    return dispatch(facSetup({open: data.open}))\n  }\n// Bakery socket closed:\n  else if(data.hasOwnProperty('bsocket')) {\n    // Reinit Socket if Working: initSocket(uid,membership,fac.id,setInterface)\n    console.log(`Backer socket ${!data.bsocket? 'closed' : 'open'}`)\n  }\n  else {\n    return dispatch(countCustomers(data))\n  }\n}\n\nexport const checkReference = ref => dispatch =>\napi.settup.getLocation(ref).then( data => {\n  if(data){\n    return data\n  }\n})\n.catch(err => ({error:8}))\n","import axios from 'axios'\n\nexport default ( token = null ) => {\n  if(token) {\n    axios.defaults.headers.common['Authorization'] = token\n  } else {\n    delete axios.defaults.headers.common['Authorization']\n  }\n}\n","import { USER_SIGNED, USER_INIT } from '../types'\nimport api from '../api'\nimport setAuthHeader from '../utils/setAuthHeader'\n\nexport const userSignedIn = user => ({\n  type: USER_SIGNED,\n  user\n})\nexport const initialUser = user => ({\n  type: USER_INIT,\n  user\n})\n\n// ===== Action Creators: =========================================\n// SignUp/LogIn User with email/pass\nexport const signUp = (credentials,pass) => dispatch => {\n  if(pass){\n    // credentials.password = pass\n    // api.login(credentials).then(...)\n  } else {\n    return new Promise( (resolve,reject) => {\n      api.user.signup(credentials).then( user => {\n        localStorage.valePizzaJWT = user.token\n        setAuthHeader(user.token)\n        dispatch(userSignedIn(user))\n        //if(user.new_user) {\n        //console.log('Call userInit()')\n        //api.user.initUser().then( user => {\n          dispatch(initialUser(user))\n          resolve(user)\n        //})\n        //}\n      })\n    })\n  }\n}\n\n// Check User Token/Credentials\nexport const checkUserToken = user => dispatch => {\n  console.log('Check this one:',user)\n  return new Promise( (resolve,reject) => {\n    api.user.checkOne().then( (result,user) => {\n      if(!result) reject({ err: { message: 'User doesn\\'t exist' }})\n      //dispatch(userSignedIn(user))\n      resolve()\n    })\n  })\n}\n","import {\n  USER_INIT, USER_UPDATE_LOCATION, USER_ADD_LOCATION,\n  SET_FAC\n} from '../types'\nimport api from '../api'\n\nexport const initialUser = user => ({\n  type: USER_INIT,\n  user\n})\n\nexport const addUserLocation = data => ({\n  type: USER_ADD_LOCATION,\n  data\n})\n\nexport const setLocationFactories = facs => ({\n  type: SET_FAC,\n  facs\n})\n\nexport const updateUserLocation = (ind,data) => ({\n  type: USER_UPDATE_LOCATION,\n  ind: ind,\n  data\n})\n\nexport const userInit = () => dispatch => {\n  return new Promise( (resolve,reject) => {\n    api.user.initUser().then( user => {\n      dispatch(initialUser(user))\n// Get all FACs for user.locations list\n      resolve(user) // or user.locations\n    })\n    .catch(error => {\n      reject(error)\n    })\n  })\n}\n\n// Get List of all FACs for each user.city\nexport const getLocalFacs = loc => dispatch => {\n  //api.user.locationFac(loc).then( facs => {\n  //  let FACs = Object.keys(facs).map( k => ({[k]: facs[k]}))\n  //  dispatch(setLocationFactories(FACs))\n  //})\n}\n\nexport const userAddLocation = data => dispatch => {\n  api.user.addLocation(data).then( id => {\n    data.id = id\n    dispatch(addUserLocation(data))\n  })\n}\n\nexport const userUpdateLocation = (ind,id,data) => dispatch => {\n  api.user.updateLocation(data,id).then( res => {\n    console.log(res)\n    dispatch(updateUserLocation(ind,data))\n  })\n}\n\nexport const getLocationData = (ref,ind) => dispatch => {\n  api.settup.getLocation(ref).then( response => {\n    dispatch(updateUserLocation(ind,response))\n  })\n}\n","import axios from 'axios'\n\nexport default ( lan ) => {\n  if(lan) {\n    axios.defaults.headers.common['Accepted-Language'] = lan\n  } else {\n    delete axios.defaults.headers.common['Accepted-Language']\n  }\n}\n","import React from 'react'\nimport Validator from 'validator'\nimport { Message,Button,Form } from 'semantic-ui-react'\n\nexport default class Credentials extends React.Component {\n  state = {\n    data: {},\n    logging: false,\n    errors: {},\n    ui: {\n      en: ['register','example@mail.com','my-secret-password','Save'],\n      es: ['registro','micorreo@mail.com','mi-contrasena-secreta','Gurdar'],\n      bg: ['влез','example@mail.com','парола','Влез']\n    }\n  }\n\n  onSubmit = () => {\n    const { data } = this.state\n    const { pass,submit,login } = this.props\n    const err = this.validate(data)\n    this.setState({ errors: err })\n    if(Object.keys(err).length !== 0) return\n    if(!pass) {\n      submit(data,false).then( user => {\n        //const { locations } = user\n\n// get all user saved locations:\n        //if(!locations) return\n        //let loc = locations.map( l => {\n        //  return l.location\n        //})\n        //getFacs(loc)\n      })\n      //init()\n    } else {\n      login(data,true)\n      //console.log(err.password, data)\n    }\n  }\n\n  validate = data => {\n    const errors = {}\n    if ( this.props.pass ) {\n      if (data.password.length < 8) {\n        errors.password = 'Minimum password length must be 8 digits!'\n      }\n    } else {\n      if(!Validator.isEmail(data.email)) {\n        errors.email = 'Invalid email address! Try again...'\n      }\n    }\n    return errors\n  }\n\n  onInput = (e,{name}) => {\n    this.setState({\n      data: {...this.state.data, [name]: e.target.value}\n    })\n  }\n\n  render(){\n    const lan = this.state.ui[this.props.lan]\n    const {pass} = this.props\n    const {errors} = this.state\n    return(\n      <div className={pass? 'custom-form oval-but alert' : 'custom-form oval-but'}>\n        <Form onSubmit={this.onSubmit}>\n          <Form.Input fluid required inline centered focus\n            onChange={this.onInput}\n            name={pass ? 'password' : 'email'}\n            type={pass ? 'password' : 'email'}\n            placeholder={pass ? lan[2] : lan[1]}\n          />\n          {Object.keys(errors).length>0 && <Message negative>\n              <Message.Header>{pass? 'Incomplete password:' : 'Incorrect email:'}</Message.Header>\n              <p>{pass? errors.password : errors.email}</p>\n            </Message>\n          }\n          <Button type='submit' fluid={pass} color={pass ? 'red' : 'black'}>{pass? lan[3] : lan[0]}</Button>\n        </Form>\n      </div>\n    )\n  }\n}\n","import React from 'react'\nimport { Label } from 'semantic-ui-react'\n\nconst Sign = ({size}) => {\n  return (\n    <Label size={size} circular basic>\n      &pi;\n    </Label>\n  )\n}\n\nexport default Sign\n\n/*\n<Label size={size} circular basic>\n  &pi;\n</Label>\n*/\n","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport { Button } from 'semantic-ui-react'\n\nconst MainMenu = ({ lan,open }) => {\n\n  const state = {\n    ui: {\n      en: ['Play','Eat','Repeat','See'],\n      es: ['Jugar','Comer','Repetir','Ver'],\n      bg: ['Играй','Яж','Повтори','Виж']\n    }\n  }\n\n    const ui = state.ui[lan]\n    return (\n      <div className='menu-bar'>\n        <Button.Group color='grey'>\n          <Button as={Link} to='/play' icon='play circle' content={ui[0]}/>\n          <Button as={Link}\n            to={open? '/catalog' : '/catalog'}\n            icon={open? 'food' : 'eye'}\n            content={open? ui[1]:ui[3]}\n          />\n          <Button as={Link} to='/repeat' icon='undo' content={ui[2]} />\n        </Button.Group>\n      </div>\n    )\n\n}\n\nexport default MainMenu\n","import React from 'react'\nimport _ from 'lodash'\nimport { Form,Button,Search,Message } from 'semantic-ui-react'\n\nclass SearchSetupForm extends React.Component {\n  state = {\n    value: '',\n    results: [],\n    isLoading: false,\n    data: {},\n    ui: {\n      en: ['Cancel','Submit','No service in that City', 'Sorry:'],\n      es: ['Cancelar','Confirmar','Sin servicio en esta Ciudad', 'Perdona, pero:'],\n      bg: ['Изтрий','Потвърди','Не обслужваме този град все още...', 'Съжаляваме, но:']\n    }\n  }\n\n  componentWillMount() {\n    this.resetComponent()\n  }\n\n  resetComponent = () => this.setState({ isLoading: false, results: [], value: '' })\n\n  handleResultSelect = (e, { result,name }) => {\n    this.setState({\n      ...this.state,\n      value: result.title,\n      data: {...this.state.data, [name]: result.id},\n      message: null\n    })\n    if(!this.props.appsetup){this.props.onStreet({[name]: result.id})}\n  }\n\n  handleSearchChange = (e, { value }) => {\n    this.setState({ isLoading: true, value })\n\n    setTimeout(() => {\n      if (this.state.value.length < 1) return this.resetComponent()\n\n      const re = new RegExp(_.escapeRegExp(this.state.value), 'i')\n      const isMatch = result => re.test(result.title)\n\n      this.setState({\n        isLoading: false,\n        results: _.filter(this.props.list, isMatch),\n      })\n    }, 300)\n  }\n\n  onSubmit = e => {\n    e.preventDefault()\n    const { appsetup,onSubmit } = this.props\n    const { data } = this.state\n    if(appsetup){onSubmit(data)}\n  }\n\n  render() {\n    const {value,results,isLoading,data,message} = this.state\n    const ui = this.state.ui[this.props.lan]\n    const { name,appsetup } = this.props\n    return (\n      <div className='custom-form padded'>\n        <Form.Group onSubmit={this.onSubmit}>\n          <Form>\n            <div className='ui grid'>\n              <div className='grid column sixteen wide'>\n                <Search\n                  fluid\n                  name={name}\n                  loading={isLoading}\n                  onResultSelect={this.handleResultSelect}\n                  onSearchChange={_.debounce(this.handleSearchChange, 500, { leading: true })}\n                  results={results}\n                  value={value}\n                  {...this.props}\n                />\n              </div>\n              {message && message !== '0' && <Message negative size='mini'>\n                <Message.Header>{ui[3]}</Message.Header>\n                  <p>{ui[2]}</p>\n                </Message>\n              }\n              {appsetup &&\n                <div className='grid column sixteen wide oval-but extra-padded'>\n                  <Button type='submit'\n                    basic={Object.keys(data).length===0}\n                    disabled={Object.keys(data).length===0}\n                    name={name}\n                    color='grey'\n                    content={ui[1]}\n                  />\n                </div>\n              }\n            </div>\n\n          </Form>\n        </Form.Group>\n      </div>\n    )\n  }\n}\n\nexport default SearchSetupForm\n","var userSocket,\n// ------------ 1 --- 2 ---- 4 ---- 8 --- 16 -- 32 -- 64 --- 128 --- 256\n    roles = ['root','lab','fac','baker','pos','dlv','test','rep','customer'],\n    role\n\n// Check User Role:\nconst getID = (member,id,fac,lab) => {\n  switch (member) {\n    case 2 : return lab\n    case 4 : return fac\n    case 8 : return fac\n    case 64 : return fac\n    default : return id\n  }\n}\n\nconst getRole = member => {\n  let adm = member ? (member).toString(2).split('').reverse() : 0\n  console.log('memberships: ',adm)\n  let _roles=[], r\n  _roles = roles.filter( (m,i) => Number(adm[i]) === 1 )\n  if(_roles.length === 0) return 'home'\n  return r = _roles.length > 1 ? _roles[_roles.length - 1] : _roles[0]\n}\n\n// Inititate Socket Connection:\nexport const initSocket = (id,membership,fac,cb) => {\n  let ID = getID(membership,id,fac,null)\n  role = getRole(membership)\n  if(role === 'rep') role = 'customer'\n\n  let URL = process.env.NODE_ENV==='production'?\n  `wss://pizzapi.co/?id=${ID}&fac=${fac}` :\n  `ws://localhost:8080/?id=${ID}&fac=${fac}`\n\n  console.log('Role/ID: ', role, ID)\n  console.log('WS on: ', URL)\n\n  userSocket = new WebSocket(URL,`${role}-protocol`)\n// listening for any userSocket error\n  userSocket.onerror = error => console.log('WebSocket error: ' + error)\n\n  userSocket.onopen = () => {\n    console.log(`Open ${role}-Socket on Client`)\n    cb({socket: true})\n  }\n  userSocket.onclose = () => {\n    console.log(`${role}-Socket Closed`)\n    cb({socket: false})\n  }\n// api.settup.userSocket.member = membership\n}\n\nexport const subscribeSocket = cb => {\n// callback: socketCounter\n  console.log(`${role} Suscribed: ${cb}`)\n  userSocket.onmessage = message => {\n  console.log('WS: ',message.data)\n    const data = JSON.parse(message.data)\n    if(!cb) return console.log(message.data)\n    cb(data)\n  }\n}\n\nexport const fireSocket = (action,payload) => {\n// todo: check action type\n  userSocket.send(payload)\n}\n\nexport const closeSocket = id => {\n  //api.settup.setupFac({ data: {open: false}, id:id })\n  userSocket.close()\n}\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport { Button,Divider,Confirm } from 'semantic-ui-react'\n\nimport setLanHeader from '../../utils/setLanHeader'\nimport SearchSetupForm from '../forms/SearchSetupForm'\nimport { initialUser } from '../../actions/user'\nimport { setInterface,setUI,getProductList } from '../../actions/settup'\n\n// First: Set USER: Reg/Log\n// Second: Set CITY/Zone\n// Then: Load Store for CITY/Zone\n\nclass AppSetup extends React.Component {\n  state = {\n    ui: {\n      en: ['Your City/Zone:','ENG','ESP','БГ'],\n      es: ['Tu Ciudad/Zona:','ENG','ESP','БГ'],\n      bg: ['Избери Град/Зона:','ENG','ESP','БГ']\n    },\n    errors: {\n      en: {\n        header: ['Not your City/Zone'],\n        message:['Pick a Zone/City closer to you']\n      },\n      es: {\n        header: ['No es tu Zona o Ciudad'],\n        message:['Seleccione una Zona/Ciudad mas cercana']\n      },\n      bg: {\n        header: ['Не е твоят Град/Зона'],\n        message:['Избери зона или град, близки до теб']\n      }\n    },\n    confirm: false,\n    error: 0\n  }\n\n  onLanguage = (e, {name}) => {\n    const { setInterface,setUI,getProductList } = this.props\n// Set Client Language:\n    setInterface({lan: name})\n    setLanHeader(name)\n// API GET for Language/City\n    setUI(name)\n// API GET all Products List by Language\n    getProductList(name)\n  }\n\n// FORM SUBMIT:\n  onSubmit = data => {\n    const { appsetup,setInterface,initialUser } = this.props\n    console.log(data)\n// If App Setup:\n    if(appsetup){\n// Set CITY:\n      let c = this.props.list.find( c => c.id === data.city )\n      if(c.status !== 1) return this.setState({error: 1, confirm: true})\n      setInterface(data)\n// API POST FAC Store: get factory+store for location ID\n  //  getFacStore('AppSetup',data)\n    } else {\n// If User Setup:\n      initialUser(data)\n    }\n  }\n\n  render() {\n    const { lan,appsetup,name,list,setup } = this.props\n    const ui = this.state.ui[lan]\n    return (\n      <div className='vintage left'>\n        {name==='city' && <p>{ui[0]}</p>}\n        <SearchSetupForm\n          lan={lan}\n          appsetup={appsetup}\n          onSubmit={this.onSubmit}\n          setup={setup}\n          name={name}\n          list={list}\n        />\n        <Divider horizontal />\n        <div className='menu-bar'>\n          <Button.Group color='grey' size='mini'>\n            <Button onClick={this.onLanguage} disabled={lan==='en'} name='en' content={ui[1]}/>\n            <Button onClick={this.onLanguage} disabled={lan==='es'} name='es' content={ui[2]} />\n            <Button onClick={this.onLanguage} disabled={lan==='bg'} name='bg' content={ui[3]} />\n          </Button.Group>\n        </div>\n{/* === MESSAGES: ===================================== */}\n        <div className='eight wide column'>\n          <Confirm\n            header={this.state.errors[lan].header[this.state.error - 1]}\n            content={this.state.errors[lan].message[this.state.error - 1]}\n            open={this.state.confirm}\n            onCancel={е => this.setState({confirm: false, error: 0})}\n            onConfirm={ e => this.setState({confirm: false, error: 0})}\n          />\n        </div>\n      </div>\n    )\n  }\n}\nconst mapStateToProps = state => ({\n  lan: state.settings.lan\n})\nexport default connect(mapStateToProps,{initialUser,setInterface,setUI,getProductList})(AppSetup)\n","import { CART_LIST, CART_CLEAR } from '../types'\nimport api from '../api'\n\nexport const addCart = order => ({\n  type: CART_LIST,\n  order\n})\n\nexport const cancelCart = () => ({\n  type: CART_CLEAR\n})\n\nexport const clearCart = () => ({\n  type: CART_CLEAR\n})\n\nexport const addToCart = (data) => (dispatch) => {\n  return new Promise( (resolve,reject) => {\n    dispatch(addCart(data))\n    resolve()\n  })\n}\n\nexport const makeCart = (data) => (dispatch) => {\n  return new Promise( (resolve, reject) => {\n    api.order.pushOrder(data).then( res => {\n      dispatch(clearCart())\n      resolve(res.message)\n    })\n    .catch( err => {\n      reject(err.response.statusText)\n    })\n  })\n}\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport PropType from 'prop-types'\nimport { Link } from 'react-router-dom'\nimport { Button,Divider,Confirm } from 'semantic-ui-react'\nimport LogoPie from '../../pi_pie.svg'\nimport LogoPi from '../../pi_pi.svg'\n\nimport Credentials from '../forms/credentials'\nimport Sign from '../brand/sign'\nimport MainMenu from './MainMenu'\nimport AppSetup from '../ui/AppSetup'\n\nimport { signUp } from '../../actions/auth'\nimport { userInit,getLocalFacs } from '../../actions/user'\nimport { addToCart } from '../../actions/cart'\nimport { setInterface,getFacStore,socketCounter } from '../../actions/settup'\nimport { initSocket,subscribeSocket } from '../../websocket'\n\nconst HomePage = ({\n  history,\n  isAuthorized,user,\n  lab,\n  fac,\n  lan,\n  city,one_city,cities,socket,\n  signUp,userInit,getLocalFacs,getFacStore,setInterface,\n  socketCounter,addToCart\n}) => {\n  const state = {\n    ui: {\n      es: ['Bienvenido, ','Hola, ','Estas en:','Admin','LAB',\n      'FAC','PoS','Courier','REP','CERRADO',\n      'La #1 es GRATIS !!!','Margherita'],\n      en: ['Hello, ','Welcome back, ','You\\'re in:','Admin','LAB',\n      'FAC','PoS','Courier','REP','CLOSED',\n      'TAKE #1 FREE !!!','Margherita'],\n      bg: ['Добре дошъл, ','Здравей, ','Намираш се във:','Admin','LAB',\n      'FAC','PoS','Куриер','REP','ЗАТВОРЕНО',\n      '#1 e ГРАТИС !!!','Маргерита']\n    },\n    error: {\n      header: 'Not Your Bakery!',\n      message: 'Change Zone/City?'\n    }\n  }\n\n  const { membership,new_user,username,uid,orders } = user\n\n//  const [openConfirm,setConfirm] = useState(false)\n\n  let newUser = new_user === undefined || new_user\n//  let cty = !!one_city? one_city : city\n\n// Check User Role:\n  const mbr = ['boss','lab','fac','baker','pos','dlv', 'tester','rep','customer']\n  let adm = membership ? (membership).toString(2).split('').reverse() : 0\n  let _mbr=[], member\n  mbr.forEach( (m,i) => {\n    if (Number(adm[i])) { _mbr.push(mbr[i]) }\n  })\n  if(_mbr.length === 0) {\n    member = 'home'\n  } else {\n    member = _mbr.length > 1 ? _mbr.join('/') : _mbr[0]\n  }\n\n// Get FAC's Store when City's set\n  if(!!city && !Object.keys(fac).length>0){\n    let data = {}\n    data.city = city\n// Set CITY:\n      //setInterface(data)\n// API:POST FAC Store: get factory+store for location ID\n    getFacStore(data)\n  }\n\n  if(isAuthorized && Object.keys(fac).length>0 && !socket) {\n  // Init Socket:\n    initSocket(uid,membership,fac.id,setInterface)\n  // Socket Listener:\n    switch(membership) {\n      case 1 :\n        //subscribeSocket(socketCounter)\n        break\n      case 2 :\n        //subscribeSocket(socketCounter)\n        break\n      case 4 :\n        //subscribeSocket(socketCounter)\n        break\n      case 8 :\n        subscribeSocket(socketCounter)\n        break\n      case 12 :\n        subscribeSocket(socketCounter)\n        break\n      default :\n        subscribeSocket(socketCounter)\n    }\n  }\n  const init = new Date(`Januar 1, 00 ${fac.day_open}`)\n  const pause = new Date(`Januar 1, 00 ${fac.day_close}`)\n  const reinit = new Date(`Januar 1, 00 ${fac.noon_open}`)\n  const close = new Date(`Januar 1, 00 ${fac.noon_close}`)\n  let first_free = orders === 0\n  let free_pizza = orders%5 === 0\n\n  return (\n    <div className='App-content topped padded'>\n      <div className='init central padded'>\n        {fac.open && first_free && membership>127 ?\n          <div className='promo oval-but'>\n            <Button color='green'\n              content={state.ui[lan][10]}\n              onClick={() => addToCart(\n                [{\n                  product: 1,\n                  quant: 1,\n                  name: state.ui[lan][11],\n                  price: 0,\n                  promo: 1\n                }]\n              ).then( ()=>{ history.push('/catalog') } )}\n            />\n          </div> :\n          <div className='logo-still'>\n            <img src={LogoPie} className='logo' alt='logo' />\n            <img src={LogoPi} className='logo-top' alt='logo' />\n          </div>\n        }\n\n{/* LOG or Register: */}\n        {city !== undefined &&\n          <p className='vintage no-border'>\n            {lan? ( !newUser? state.ui[lan][1]: state.ui[lan][0]) : 'Добре дошъл'}\n            {username? username : <Sign size='huge'/>}\n          </p>\n        }\n{/* ===== NO CITY ====================================== */}\n{/* Find available CITY: !(!!cty) */}\n        { !city ?\n          <AppSetup lan={lan} list={cities} appsetup='true' name='city' /> :\n          !isAuthorized ? <Credentials\n            submit={signUp}\n            getFacs={getLocalFacs}\n            init={userInit}\n            lan={lan} pass={false}\n          /> :\n          membership>31? <MainMenu lan={lan} open={fac.open} /> : null\n        }\n\n{/* For ADMIN/LAB/FAC/DELIVERY only Interface: */}\n        <Divider horizontal />\n        {isAuthorized && membership && membership < 128 &&\n            <Button basic color='blue'\n              as={Link}\n              to={\n                (membership !== 1 && Object.keys(fac).length>0) ?\n                '/admin/home' : '/admin/boss'\n              }\n              disabled={!city}\n              //onClick={ e => setConfirm(fac.uid!==user.uid) }\n            >\n              Hello, {_mbr[_mbr.length-1]}!\n            </Button>\n        }\n  {/* === Closed FAC */}\n        {!!city && !fac.open && user.membership>63 &&\n          <div className='fac-info'>\n            <div className='fac-lable'>\n              <div className='fac-closed'>\n                <h3>{state.ui[lan][9]}</h3>\n              </div>\n            </div>\n            <p>{`${init.getHours()}:${init.getMinutes()>0? init.getMinutes(): '00'} -\n            ${pause.getHours()}:${pause.getMinutes()>0? init.getMinutes(): '00'}`}</p>\n          <p>{`${reinit.getHours()}:${reinit.getMinutes()>0? init.getMinutes(): '00'} -\n            ${close.getHours()}:${close.getMinutes()>0? init.getMinutes(): '00'}`}</p>\n          </div>\n        }\n      </div>\n\n    </div>\n  )\n}\n\nHomePage.propType = {\n  lan: PropType.number.isRequired\n}\n\nconst mapStateToProps = state => ({\n  lan: state.settings.lan,\n  socket: state.settings.socket,\n  cities: state.settings.cities,\n  city: state.settings.city,\n  one_city: state.settings.one_city,\n  isAuthorized: !!state.user.token,\n  fac: state.facs,\n  user: state.user\n})\n\nexport default connect(mapStateToProps, {\n  signUp,userInit,\n  getLocalFacs,\n  setInterface,\n  getFacStore,\n  addToCart,\n  socketCounter\n} )(HomePage)\n","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport { Icon } from 'semantic-ui-react'\n\nconst UserAdmin = ({disabled,cart}) => {\n  return (\n    <div>\n      {!disabled?\n        <div className='user'>\n          <Link to='/user'><Icon name='user' /></Link>\n          <span>|</span>\n        <Link to='/cart'><Icon color={cart>0? 'red' : ''} name='shopping cart' /></Link>\n        </div> :\n        <div className='user disabled'>\n          <Icon inverted={disabled} name='user' />\n          <span>|</span>\n          <Icon inverted={disabled} name='shopping cart' />\n        </div>\n      }\n    </div>\n  )\n}\n\nexport default UserAdmin\n","import React, {useState} from 'react'\nimport { connect } from 'react-redux'\nimport { Link } from 'react-router-dom'\nimport { Icon,Confirm } from 'semantic-ui-react'\nimport PropType from 'prop-types'\n\nimport { setInterface,setLocationFactory } from '../../actions/settup'\nimport { closeSocket } from '../../websocket'\nimport { clearCart } from '../../actions/cart'\nimport UserAdmin from '../ui/user/admin'\n\nconst Top = ({\n    city,fac,cities,lan,isAuthorized,socket,\n    user, cart,\n    setInterface,setLocationFactory,clearCart\n  }) => {\n  const state = {\n    ui: {\n      en: ['No City','? Change City','You are about to change city/zone'],\n      es: ['Ciudad','? Cambiar Ciudad','Estas por cambiar la zona/ciuda de tu orden'],\n      bg: ['Град','? Смени Зона/Град','При потвърждение ще смениш града/зоната']\n    }\n  }\n  const [openConfirmation,setConfirmationOpen] = useState(false)\n\n  let cty = state.ui[lan][0]\n  if(cities){\n    cities.forEach( c => {\n      if( c.id === city ) {\n        cty = c.alt? c.alt : c.title\n      }\n    })\n  }\n\n  return (\n    <div className='ui grid Top'>\n      <div className='four wide column'>\n        <Link to={ location => {\n          if((!fac.checkin && user.membership < 63) || user.membership > 63) {\n            return {...location, pathname: '/'}\n          }\n        }}>\n          <Icon name='home' color = {(!fac.checkin || user.membership > 63) ? 'black' : 'grey'} />\n        </Link>\n          {city &&\n            <Icon.Group>\n              <Icon color={fac.open ? 'blue' : 'grey'} name='clock' />\n            </Icon.Group>\n          }\n      </div>\n      <div className='eight wide column'>\n        <Confirm\n          header={state.ui[lan][1]}\n          content={state.ui[lan][2]}\n          open={openConfirmation}\n          onCancel={е => setConfirmationOpen(false)}\n          onConfirm={ e => {\n            setConfirmationOpen(false)\n            setLocationFactory({})\n            clearCart()\n            if (socket) closeSocket()\n            setInterface({city: null, socket: false})\n          }}\n        />\n        <Link to='/'  onClick={ e => setConfirmationOpen(true) }>\n          <Icon color={city? 'blue' : 'grey'} name='map marker' />{cty}\n        </Link>\n      </div>\n      <div className='four wide column'>\n        <UserAdmin lan={lan}\n          cart={cart.length}\n          disabled={( isAuthorized && city && user.membership>64 && user.membership!==1 )? false : true}\n        />\n      </div>\n    </div>\n  )\n}\n\nTop.propType = {\n  fac: PropType.shape({\n    id: PropType.number.isRequired\n  }).isRequired\n}\nconst mapStateToProps = state => ({\n  lan: state.settings.lan,\n  socket: state.settings.socket,\n  city: state.settings.city,\n  fac: state.facs,\n  cities: state.settings.cities,\n  isAuthorized: !!state.user.token,\n  user: state.user,\n  cart: state.cart\n})\nexport default connect(mapStateToProps, { setInterface,setLocationFactory,clearCart })(Top)\n","import React from 'react'\nimport { Form,Button,Message } from 'semantic-ui-react'\nimport Validator from 'validator'\n\nclass OrderInput extends React.Component {\n\n  state = {\n    item: {\n      id: null,\n      units: null\n    },\n    ui: {\n      en: ['Choose a ','+','Order','Invalid data','Qauntity should be a number','pizza','pi2','drink','beer','sauce'],\n      es: ['Selecione ','+','Pedir','Datos invalidos','La Cantidad es numero','pizza','pi2','gaseosa','cerveza','salsa'],\n      bg: ['Избери ','+','Поръчай','Невалидни данни','Броят пици трябва да е число','пица','п2','безалкохолно','бира','сос']\n    },\n    errors: {}\n  }\n\n  onChange = (e,{name,value}) => {\n    if(name !== 'id' && value !== '' && !Validator.isNumeric(value)) {\n      this.setState({\n        errors: {code: 4}\n      })\n    } else (\n      //value = Number(value)\n      this.setState({\n        errors: {}\n      })\n    )\n    if(name==='units' && value>5) { value = 5 }\n    if(name==='id'){\n      this.props.onItemSelect(value)\n    }\n    this.setState({\n      item: {\n        ...this.state.item, [name]: Math.abs(value)\n      }\n    })\n  }\n\n  onAdd = () => {\n    const { item } = this.state\n    this.props.onAddItem(item.id,item.units)\n    this.setState({\n      item: { id:null, units:null }\n    })\n  }\n\n  shouldComponentUpdate = nextProps => {\n    if(this.props.category !== nextProps.category) this.setState({item: { id:null, units:null}})\n    return true\n  }\n\n  render() {\n    const { lan,items,category } = this.props\n    const { errors,item } = this.state\n    const ui = this.state.ui[lan]\n    //const _items = items.map( (itm,indx) => ({\n    //  key:itm,\n    //  name:itm,\n    //  value:indx+1,\n    //  text:itm,\n    //  price:indx+2.5\n    //}))\n    const _invalid = Object.keys(errors).length > 0\n    const _empty = (item.id === null || item.units === null)\n    return(\n      <Form onSubmit={this.onAdd}>\n        <Form.Group>\n          <div className='ui grid'>\n            <div className='ten wide column'>\n              <Form.Select onChange={this.onChange} key={213}\n                name='id' placeholder={ui[0].concat(ui[4+category])} options={items}\n                value={item.id}\n              />\n            </div>\n            <div className='three wide column'>\n              <Form.Input onChange={this.onChange} type='number'\n                required name='units' placeholder={0}\n                value={item.units || ''}\n              />\n            </div>\n            <div className='three wide column'>\n              <Button disabled={_invalid || _empty}\n                color='blue'\n                className='add-but'\n                type='submit' content={ui[1]}\n              />\n            </div>\n          </div>\n\n            { _invalid &&\n              <div className='margined full-width'>\n                <Message negative>\n                  <Message.Header>{ui[3]}</Message.Header>\n                  <p>{ui[errors.code]}</p>\n                </Message>\n              </div>\n            }\n\n        </Form.Group>\n      </Form>\n    )\n  }\n\n}\n\nexport default OrderInput\n","import React from 'react'\nimport { Icon } from 'semantic-ui-react'\n\nconst OrderRow = ({stat,empty,row,onDelete,ind,lan,member}) => {\n  const state = {\n    list: [],\n    ui: {\n      en: ['Nothing to order yet....'],\n      es: ['Nada de ordenar....'],\n      bg: ['Нищо за поръчване за сега...']\n    }\n  }\n\n  return (\n    <div>\n      {empty? state.ui[lan][0] :\n        (\n          <div className='ui grid item'>\n            <div className='two wide column nopad items'>\n              {!stat && <Icon name='eye' />}\n            </div>\n            <div className='six wide column nopad'>{row.name}</div>\n            <div className='three wide column nopad items'><Icon name='x' size='tiny' />{row.quant}</div>\n            <div className='three wide column nopad'>{(parseFloat(member===32? row.price_pos : row.price)*parseFloat(row.quant)).toFixed(2)}</div>\n            <div className='two wide column nopad'>\n              {!stat && <span className='' basic onClick={() => onDelete(ind)}><Icon name='minus circle' /></span>}\n            </div>\n          </div>\n        )\n      }\n    </div>\n  )\n\n}\n\nexport default OrderRow\n","import React from 'react'\n\nimport OrderRow from './OrderRow'\n\nconst OrderList = ({stat,cart,lan,member,onDelete}) => {\n\n  return (\n    <div className={cart.length===0? 'order-list empty' : 'order-list'}>\n      {cart.map( (item,ind) => {\n        return(<OrderRow stat={stat} lan={lan} key={ind} member={member} onDelete={onDelete} row={item} ind={ind} />)\n      })}\n      {cart.length === 0 && <OrderRow empty={true} lan={lan} />}\n    </div>\n  )\n}\n\nexport default OrderList\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport { Link } from 'react-router-dom'\nimport { Button,Divider } from 'semantic-ui-react'\nimport PropType from 'prop-types'\n\nimport OrderInput from '../../forms/OrderInput'\nimport OrderList from './OrderList'\n\nimport { addCart } from '../../../actions/cart'\n\nclass Order extends React.Component {\n  state = {\n    ui: {\n      en: ['pizza order', 'Order', 'Pizza', 'P2', 'Drink', 'Beer', 'Sauce'],\n      es: ['pedido', 'Pedido', 'Pizza', 'P2', 'Gaseosa', 'Serveza', 'Salsa'],\n      bg: ['поръчка','Поръчай', 'Пица', 'П2', 'Напитка', 'Бира', 'Сос']\n    },\n    order: []\n  }\n\n  onDeleteItem = ind => {\n    this.setState({\n      order: [\n        ...this.state.order.slice(0,ind),\n        ...this.state.order.slice(ind+1)\n      ]\n    })\n  }\n\n  onAddItem = (item,units) => {\n    console.log(this.state.order)\n    const { order } = this.state\n    const { products } = this.props\n    let ind = order.findIndex( o => (o.product === item && !o.hasOwnProperty('promo')) )\n    let inx = products.findIndex( ent => ent.id === item )\n    if( ind > -1 ) {\n      this.setState({\n        order: [...order.slice(0,ind),\n          {...order[ind], quant: order[ind].quant + Number(units)},\n          ...order.slice(ind+1)\n        ]\n      })\n    } else {\n      this.setState({\n        order: order.concat({\n          product: item,\n          quant: Number(units),\n          name: products[inx].name,\n          price: products[inx].price\n        })\n      })\n    }\n  }\n\n  onOrder = e => {\n    this.props.addCart(this.state.order)\n  }\n\n  componentDidMount() {\n    const { cart } = this.props\n    console.log('OrderComponent Mount: ', cart.length)\n    if(cart.length > 0){\n      this.setState({\n        order: cart\n      })\n    }\n  }\n\n  render() {\n    let total = 0, items\n    const { lan,products,facs,user,category,itemSelected } = this.props\n\n    //if(primary_loc_id>0 && primary_loc_fac_open) {\n      items = products.map( (item,ind) => {\n        return {\n          value: item.product,\n          text: item.name,\n          key: ind\n        }\n      })\n\n    const ui = this.state.ui[lan]\n    const { order } = this.state\n\n    let sum = order.map( o => {\n      return (parseFloat(o.price)*parseFloat(o.quant)).toFixed(2)\n    })\n\n    if(sum.length > 0) {\n      total = sum.reduce((acc, cv) => (parseFloat(acc) + parseFloat(cv)).toFixed(2))\n    }\n\n    let ttl = ui[1].concat(' ',ui[category+1])\n\n    return (\n      <div className='custom-form'>\n        <Divider horizontal>{ttl}</Divider>\n        <OrderInput lan={lan} category={category} items={items} onAddItem={this.onAddItem} onItemSelect={itemSelected} />\n        <OrderList stat={false} lan={lan} cart={order} member={user.membership} onDelete={this.onDeleteItem} />\n        <Divider horizontal>&#9675;</Divider>\n        <Button\n          as={Link} to='/cart'\n          width={8}\n          disabled={this.state.order.length === 0}\n          color='orange'\n          className='submit-but'\n          content={ui[1].concat(': ', total.toString())}\n          onClick={this.onOrder}\n        />\n      </div>\n    )\n  }\n}\n\nOrder.propTypes = {\n  cart: PropType.array.isRequired\n}\n\nconst mapStateToProps = state => ({\n  facs: state.facs,\n  cart: state.cart,\n  order: state.order,\n  user: state.user\n})\nexport default connect(mapStateToProps, {addCart})(Order)\n","import React, { useState } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Link } from 'react-router-dom'\r\nimport { Icon,Button } from 'semantic-ui-react'\r\n\r\nconst OrderBar = ({ open,mode,lan,onAddItem }) => {\r\n  const initState = {\r\n    ui: {\r\n      en:['Add','Cart','See','','',''],\r\n      es:['Añadir','Orden','Ver','','',''],\r\n      bg:['Прибави','Поръчка','Виж','','','']\r\n    }\r\n  }\r\n\r\n  const [countItem,setCounter] = useState(0)\r\n//<input type='text' name='counter' maxLength='1' size='2' />\r\n  return (\r\n    <div className='bottom-div'>\r\n      { mode==='ver' && open &&\r\n        <div className='counter-bar'>\r\n          <Button.Group size='mini' color='grey' inverted>\r\n            <Button\r\n              disabled={!open}\r\n              onClick={ e=> setCounter(countItem<1? 0 : countItem-1) }\r\n              icon='minus'/>\r\n            <Button style={{backgroundColor: 'white', color: 'black'}} content={countItem} />\r\n            <Button\r\n              disabled={!open}\r\n              onClick={ e=> setCounter(countItem>4? 5 : countItem+1) }\r\n              icon='plus' />\r\n          </Button.Group>\r\n        </div>\r\n      }\r\n      {/*<Button size='small' color='black' basic\r\n        disabled={!open}\r\n        content={mode==='ver'? initState.ui[lan][0] : initState.ui[lan][2]}\r\n        as={Link} to={mode==='ver'? '/order' : '/catalog'}\r\n        onClick={ e => console.log(e.target) }\r\n      />*/}\r\n      <div className='counter-right'>\r\n\r\n        <Button size='mini' color='orange' active\r\n          as={mode==='hor'? Link : Button}\r\n          to={mode==='hor'? '/catalog' : null}\r\n          disabled={countItem===0}\r\n          onClick={ e => {\r\n            if(mode==='hor') return\r\n            onAddItem(countItem)\r\n          } }\r\n          icon={mode==='ver'? 'cart arrow down' : 'eye'}\r\n          content={mode='ver'? initState.ui[lan][0] : initState.ui[lan][2]}\r\n        />\r\n\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default connect(null)(OrderBar)\r\n\r\n/*\r\n<Button size='mini' color='orange'\r\n  disabled={!open&&!countItem}\r\n  onClick={ e => console.log(countItem) }\r\n  icon='minus circle'\r\n/>\r\n*/\r\n","import React, { useState } from 'react'\nimport { Link } from 'react-router-dom'\nimport { Button, Confirm } from 'semantic-ui-react'\nimport OrderBar from './orderBar'\n\nconst Product = ({ entry,mode,lan,open,view,onAddItem }) => {\n  const ui = {\n    en: ['Orders','MENU >','CLOSED','This Bakery is closed. Try again later...'],\n    es: ['Pedidos','CARTA >','CERRADO','La panaderia esta cerrada. Checkea mas tarde...'],\n    bg: ['Поръчки','МЕНЮ >','ЗАТВОРЕНО','Пекарната е затворена! Опитай по-късно...'],\n  }\n  const [confirm, confirmOpen] = useState(false)\n  const [count, countItem] = useState(0)\n  const [item, setItem] = useState(0)\n\n  let IMAGE_FOLDER = ['pizza','pi2','drinks','pivo','sauce']\n  const style = {\n    position: 'relative',\n    backgroundImage: `url(img/${IMAGE_FOLDER[entry.category-1]}/${entry.list}.png)`,\n    backgroundSize: 'cover'\n  }\n\n  let dscr = entry.dscr.split(',').join(', ')\n  const { product,name,price } = entry\n\n  const addItem = q => {\n    if(q>0) {\n      onAddItem({product: product, quant: q, price:price, name:name})\n  }}\n\n  return (\n      <div className={mode==='ver'? 'item' : 'product'} style={style}>\n        <span className='ttl'>{entry.name}</span>\n        <span className={mode==='ver'? 'dscr' : ''}>{dscr}</span>\n        {entry.category<3 && <OrderBar open={!!open} mode={mode} lan={lan} onAddItem={addItem} />}\n        <Confirm\n          header={open? ui[lan][4] : ui[lan][2]}\n          content={open? ui[lan][4] : ui[lan][3]}\n          open={confirm}\n          onConfirm={ e => confirmOpen(false) }\n          onCancel={ e => confirmOpen(false) }\n        />\n      </div>\n  )\n}\n\nexport default Product\n","import React from 'react'\nimport { Divider } from 'semantic-ui-react'\n\nimport Product from './'\n\nconst ProductsList = ({orders,products,lan,category,view,onOrder,item,facs,open,addItem}) => {\n  let ui = {\n    en: ['MENU PIZZA'],\n    es: ['MENU PIZZA'],\n    bg: ['МЕНЮ ПИЦИ']\n  }\n  let l = view==='hor'? (products.length + 1)*100 : 100\n  let i = products.findIndex( p => p.id === item)\n  let style = view==='hor'?\n    {\n      minWidth: `${l}vw`,\n      left: `-${(i+1)*97.5}vw`\n    } :\n    {}\n\n  let icons = ['pi','pi2','soft','pivo','sauce','premium']\n\n    return (\n      <div className={view==='hor'? 'product-wraper' : null}>\n        <div className={view==='hor'? 'product-list' : 'catalog'} style={style}>\n          <ul>\n            { view==='hor'? <li>\n                <div className={('product').concat(' ', icons[category-1])}></div>\n              </li> : <li>\n                <Divider horizontal>{ui[lan][0]}</Divider>\n              </li>\n            }\n            { products.map(\n              entry => {\n                return <li>\n                        <Product lan={lan}\n                          open={facs? facs.open : open}\n                          mode={view}\n                          entry={entry}\n                          onOrder={onOrder}\n                          onAddItem={addItem}\n                        />\n                      </li>\n              })\n            }\n            <li className='empty' style={{minHeight: (orders*28+74).toString().concat('px')}}></li>\n          </ul>\n        </div>\n      </div>\n    )\n\n}\n\nexport default ProductsList\n","import React from 'react'\r\nimport {Icon} from 'semantic-ui-react'\r\n\r\nconst MenuList = ({lan,category,onCategory,cats}) => {\r\n  const ui = {\r\n    bg: ['пица','π²','напитка','бира','сос'],\r\n    en:['pizza','π²','drinks','beer','sauce'],\r\n    es:['pizza','π²','drinks','beer','salsa'],\r\n    icon:['π','π²','tint','beer','fire']\r\n  }\r\n\r\n  let c = []\r\n\r\n  for(let i=1; i<6; i++) {\r\n    if(cats.includes( i )){ c.push(i) }\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <ul className=\"menu-prod\">\r\n        {\r\n          c.map( itm => {\r\n            let cl = ( itm === category )? 'active' : ''\r\n            return (\r\n              <li className={ (itm < 3)? cl.concat(' ','pee') : cl }\r\n                onClick={ e => {\r\n                    if(itm !== category){\r\n                      onCategory(itm)\r\n                    }\r\n                  }}>\r\n                {(itm < 3)? ui.icon[itm-1] :\r\n                  <Icon name={ui.icon[itm-1]} size='large' />\r\n                }\r\n              </li>\r\n            )\r\n          })\r\n        }\r\n      </ul>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default MenuList\r\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport Order from '../ui/order/Order'\nimport ProductsList from './product/ProductsList'\nimport MenuList from '../ui/menus/categories'\n\n//import { fireSocket } from '../../websocket'\n\n\nclass OrdersPage extends React.Component {\n  state = {\n    category: 1,\n    item: 0\n  }\n\n  onCategory = cat => {\n    this.setState({\n      category: cat,\n      item: 0\n    })\n  }\n\n  onItemSelected = value => {\n    this.setState({\n      item: value\n    })\n    //this.fire()\n  }\n\n  //componentDidMount = () => {\n  //  const { uid,membership } = this.props.user\n  //  const { facs } = this.props\n  //}\n  //componentWillUnmount() {\n  //  closeSocket()\n  //}\n\n  //fire = () => {\n  //  const { uid,membership } = this.props.user\n  //  const { facs } = this.props\n  //  console.log('UTF8: ',uid,membership,facs.id)\n    //fireSocket(null,JSON.stringify({ user: uid, role: membership, fac: facs.id, order: true }))\n  //}\n\n  render(){\n    const { lan,products,facs } = this.props\n    const { category,item } = this.state\n\n    let l = facs.products\n    .map( entry => {\n      let p = products.find( i => i.id === entry.product )\n      return Object.assign(entry,p)\n    })\n\n    let cat_list = l.map( i => i.category)\n\n    let list = l.filter( p => p.category === category )\n\n// ProductList.view - hor, ver\n    return(\n      <div className='App-content topped padded'>\n        <ProductsList view='hor' lan={lan}\n          products={list} category={category} \n          item={item} facs={facs}\n        />\n        <MenuList lan={lan} cats={cat_list} category={category} onCategory={this.onCategory} />\n        <Order products={list} category={category} stat={false} itemSelected={this.onItemSelected} lan={lan} />\n      </div>\n    )\n  }\n}\n\n\n\nconst mapStateToProps = state => ({\n  lan: state.settings.lan,\n  facs: state.facs,\n  user: state.user,\n  products: state.products\n})\n\nexport default connect(mapStateToProps)(OrdersPage)\n","import React, { useState } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Link } from 'react-router-dom'\r\nimport { TransitionablePortal,Segment,Icon,Button } from 'semantic-ui-react'\r\n\r\nconst Cart = ({cart,lan}) => {\r\n  const iState = {\r\n    ui: {\r\n      en:['Order',''],\r\n      es:['Ordenar',''],\r\n      bg:['Поръчай',''],\r\n    }\r\n  }\r\n\r\n  //const [cartOpen,openCart] = useState(!!cart.length)\r\n  const s = { height: (cart.length*7).toString().concat('vh') }\r\n  let total = cart.length===0? 0 : cart.map( i=>i.price*i.quant ).reduce( (a,c)=>(parseFloat(a)+parseFloat(c)) ).toFixed(2)\r\n\r\n  return (\r\n\r\n      <TransitionablePortal\r\n        onShow={()=>null}\r\n        open={cart.length>0}\r\n        closeOnDocumentClick={false}\r\n        transition={{animation:'fly up', duration: 800}}\r\n      >\r\n      <Segment basic className='cart-bottom'>\r\n        <ul>\r\n          {cart.map( (i,ind) =>{\r\n            return (<li>\r\n              <div className='ui grid item'>\r\n                <div className='six wide column nopad'>{i.name}</div>\r\n                <div className='three wide column nopad items'><Icon name='x' size='tiny' />{i.quant}</div>\r\n                <div className='three wide column nopad'>{(i.price*parseFloat(i.quant)).toFixed(2)}</div>\r\n                <div className='two wide column nopad'>\r\n                  <span><Icon name='minus circle' /></span>\r\n                </div>\r\n              </div>\r\n            </li>)\r\n          })}\r\n        </ul>\r\n        <Button\r\n          fluid\r\n          as={Link} to='/cart'\r\n          width={8}\r\n          disabled={cart.length === 0 || total<1 }\r\n          color='orange'\r\n          className='submit-but'\r\n          content={ iState.ui[lan][0].concat(': ', total.toString())}\r\n          onClick={() => {}/*addToCart(cart).then( ()=>{ history.push('/order') } )*/}\r\n        />\r\n      </Segment>\r\n      </TransitionablePortal>\r\n\r\n  )\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  cart: state.cart\r\n})\r\n\r\nexport default connect(mapStateToProps)(Cart)\r\n","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport PropType from 'prop-types'\r\n\r\nimport ProductsList from './product/ProductsList'\r\nimport Cart from '../ui/cart/Cart'\r\nimport { addCart } from '../../actions/cart'\r\n\r\nclass Catalog extends React.Component {\r\n  state = {\r\n    category: 1,\r\n    order:[]\r\n  }\r\n\r\n  onOrder = item => {\r\n    console.log(item)\r\n  }\r\n\r\n  addItem = (i) => {\r\n    const { order,q } = this.state\r\n    const { products,addCart } = this.props\r\n    let ind = order.findIndex( o => (o.product === i.product && !o.hasOwnProperty('promo')) )\r\n    //let inx = products.findIndex( ent => ent.id === i.product )\r\n    //console.log(i);\r\n    if( ind > -1 ) {\r\n      this.setState({\r\n        order: [...order.slice(0,ind),\r\n          {...order[ind], quant: i.quant},\r\n          ...order.slice(ind+1)\r\n        ]\r\n      }, ()=>addCart(this.state.order))\r\n    } else {\r\n      this.setState({\r\n        order: [...order, i]\r\n      }, ()=>addCart(this.state.order))\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { cart } = this.props\r\n    console.log('OrderComponent Mount: ', cart.length)\r\n    if(cart.length > 0){\r\n      this.setState({\r\n        order: cart\r\n      })\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { lan,products,facs,addCart } = this.props\r\n    const { category,order } = this.state\r\n\r\n    let l = facs.products.map( p => {\r\n        let prod = products.find( i => i.id === p.product )\r\n        return Object.assign(p,prod)\r\n      })\r\n    let list = l.filter( p => p.category === category )\r\n\r\n\r\n    return (\r\n      <div className='App-content topped padded'>\r\n        <ProductsList view='ver' lan={lan}\r\n          open={facs.open}\r\n          onOrder={this.onOrder}\r\n          addItem={this.addItem}\r\n          products={list}\r\n          orders={order.length}\r\n        />\r\n      <Cart lan={lan} />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nCatalog.propType = {\r\n  products: PropType.array.isRequired,\r\n  facs: PropType.array.isRequired,\r\n  cart: PropType.array.isRequired\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  products: state.products,\r\n  facs: state.facs,\r\n  lan: state.settings.lan,\r\n  cart: state.cart\r\n})\r\n\r\nexport default connect(mapStateToProps, { addCart })(Catalog)\r\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport { Route,Redirect } from 'react-router-dom'\nimport PropTypes from 'prop-types'\n\nconst UserRoute = ({ isAuth, lan, component: Component, ...rest }) => {\n  console.log(isAuth)\n  return (\n    <Route {...rest} render={props => isAuth? <Component lan={lan} {...props} /> : <Redirect to='/' />} />\n  )\n}\n\nUserRoute.propTypes = {\n  component: PropTypes.func.isRequired\n}\n\nconst mapStateToProps = state => ({\n  lan: state.settings.lan,\n  isAuth: !!state.user.token\n})\n\nexport default connect(mapStateToProps)(UserRoute)\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport { Route,Redirect } from 'react-router-dom'\nimport PropTypes from 'prop-types'\n\nconst AdminRoute = ({membership,city,lan,component: Component, ...rest}) => {\n  console.log('Log Admin as: ', membership)\n\n  return (\n    <Route {...rest} render={ props => ((membership<128) && city) ?\n        <Component lan={lan} {...props} /> :\n        city? <Redirect to='/admin' /> : <Redirect to='/' />\n  }/>)\n}\n\nAdminRoute.propTypes = {\n  component: PropTypes.func.isRequired,\n  membership: PropTypes.number.isRequired,\n  //user: PropTypes.shape({\n  //  membership: PropTypes.number.isRequired\n  //}).isRequired\n}\n\nconst mapStateToProps = state => ({\n  lan: state.settings.lan,\n  city: state.settings.city,\n  membership: state.user.membership\n})\n\nexport default connect(mapStateToProps)(AdminRoute)\n","import React from 'react'\r\nimport { Grid } from 'semantic-ui-react'\r\n\r\nconst OrderLine = ({ ordered,pickup,id,data,products,onClick }) => {\r\n  let oh,om,ph,pm\r\n  if(ordered) {\r\n    oh = ordered.getHours()\r\n    om = ordered.getMinutes()>9? ordered.getMinutes() :\r\n      `0${ordered.getMinutes()}`\r\n  }\r\n\r\n  if(pickup) {\r\n    ph = pickup.getHours()\r\n    pm = pickup.getMinutes()>9? pickup.getMinutes() :\r\n    `0${pickup.getMinutes()}`\r\n  }\r\n\r\n  return (\r\n      <Grid.Row onClick={ e => onClick(id)}>\r\n        <Grid.Column width={8}>{id}</Grid.Column>\r\n        <Grid.Column width={4}>{ordered? `${oh}:${om}`: '--'}</Grid.Column>\r\n        <Grid.Column width={4}>{pickup? `${ph}:${pm}`: '--'}</Grid.Column>\r\n      </Grid.Row>\r\n  )\r\n}\r\n\r\nexport default OrderLine\r\n","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Grid,Button,Icon } from 'semantic-ui-react'\r\n\r\nconst OrderDetail = ({data,products}) => {\r\n\r\n  const items = data.length>1 ? data.map( d => {\r\n    return { p: products.find( p => p.id===d.item ), q: d.quant, opt: d.options }\r\n  } ) : { p: products.find( p => p.id===data.item ), q: data.quant, opt: data.options }\r\n\r\n  return (\r\n    items.length > 1 ?\r\n    items.map( i => {\r\n      return (\r\n        <Grid.Row className='detail nopadd'>\r\n          <Grid.Column width={8}>{i.p.name}</Grid.Column>\r\n          <Grid.Column width={4}>{i.q}</Grid.Column>\r\n          <Grid.Column width={4}><Button size='small' icon='eye' /></Grid.Column>\r\n        </Grid.Row>\r\n      )\r\n    }) :\r\n    <Grid.Row className='detail nopadd'>\r\n      <Grid.Column width={8}>{items.p.name}</Grid.Column>\r\n      <Grid.Column width={4}>{items.q}</Grid.Column>\r\n      <Grid.Column width={4}><Button size='small' icon='eye' /></Grid.Column>\r\n    </Grid.Row>\r\n  )\r\n}\r\n\r\n\r\nconst mapStateToProps = state => ({\r\n  products: state.products\r\n})\r\n\r\nexport default connect(mapStateToProps)(OrderDetail)\r\n","import React, { useState } from 'react'\r\nimport { Grid,Icon } from 'semantic-ui-react'\r\nimport OrderLine from './OrderLine'\r\nimport OrderDetail from './OrderDetail'\r\n\r\nconst CollectionTable =\r\n({lan,list,data,membership}) => {\r\n\r\n  const state = {\r\n    table: {\r\n      en: ['order #','at','door','for'],\r\n      es: ['order #','de','domic.','para'],\r\n      bg: ['поръчка #','от','дост.','за']\r\n    },\r\n    ui: {\r\n      en: ['no','yes'],\r\n      es: ['no','si'],\r\n      bg: ['не','да']\r\n    }\r\n  }\r\n\r\n  let tabs = state.table[lan]\r\n\r\n  const [ detail, detailID ] = useState(null)\r\n// let ui = state.ui[lan]\r\n  return (\r\n        <Grid celled className='nopadd'>\r\n          <Grid.Row>\r\n            <Grid.Column width={8}>{tabs[0]}</Grid.Column>\r\n            <Grid.Column width={4}><Icon name='clock' /></Grid.Column>\r\n            <Grid.Column width={4}><Icon name='clock outline' /></Grid.Column>\r\n          </Grid.Row>\r\n          {list.map( l => {\r\n            let entry = data.filter( e => e.id===l)\r\n            let details = entry.length>1 ? entry.map( d=>d.rest) : entry[0].rest\r\n            const { id,ordered_at,pick_up_time} = entry[0]\r\n\r\n            return (\r\n              <Grid celled className='order nopadd'>\r\n                <OrderLine key={id}\r\n                  id={id}\r\n                  onClick={ e => detailID(id)}\r\n                  ordered={ordered_at? new Date(ordered_at) : null}\r\n                  pickup={pick_up_time? new Date(pick_up_time) : null}\r\n                />\r\n              {detail===id && <OrderDetail data={details} />}\r\n              </Grid>\r\n\r\n            )\r\n          })}\r\n\r\n        </Grid>\r\n  )\r\n}\r\n\r\nexport default CollectionTable\r\n","import React, { useState } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Button,Divider,Icon } from 'semantic-ui-react'\r\n\r\nimport { setInterface } from '../../../../actions/settup'\r\nimport { getOrders } from '../../../../actions/order'\r\n\r\nimport CollectionTable from '../../../ui/order/CollectionTable'\r\n\r\nconst BakerAdmin = ({uid,lan,fac,membership,order_counter,socket,getOrders,setInterface}) => {\r\n\r\n  const state={\r\n    ui: {\r\n      en:['Bakery: ','Open Session','New Orders: '],\r\n      es:['Panadería: ','Iniciar sesión','Nueva Orden: '],\r\n      bg:['Пекарна: ','Отвори Сесия','Нови поръчки: ']\r\n    }\r\n  }\r\n\r\n  const [ data, setData ] = useState([])\r\n  const [ list, setList ] = useState([])\r\n\r\n\r\n  const fetchOrders = () => {\r\n    if(fac.uid === uid) {\r\n      getOrders(fac.id)\r\n      .then( data => {\r\n        let l = data.map( d => d.id )\r\n          setData(data)\r\n          setList(Array.from(new Set(l)))\r\n          setInterface({order_counter: 0})\r\n        } )\r\n      .catch( err => console.log(err.message) )\r\n    }\r\n  }\r\n\r\n  return (\r\n      <div className='init padded oval-but'>\r\n        <Divider horizontal>{`${state.ui[lan][0]}${fac.name}`}</Divider>\r\n      {/* Incoming Orders Table */}\r\n        <CollectionTable data={data} list={list} member={membership} lan={lan} />\r\n      {/* =============================================================== */}\r\n        <br/>\r\n        <Button fluid\r\n          color='blue'\r\n          content={`${state.ui[lan][2]}: ${order_counter}`}\r\n          onClick={e => {\r\n            fetchOrders()\r\n          }} />\r\n      </div>\r\n\r\n  )\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  uid: state.user.uid,\r\n  socket: state.settings.socket,\r\n  order_counter: state.settings.order_counter,\r\n  lan: state.settings.lan,\r\n  membership: state.user.membership,\r\n  fac: state.facs\r\n})\r\n\r\nexport default connect(mapStateToProps,{ getOrders,setInterface })(BakerAdmin)\r\n","import { ORDER_LIST, ORDER_CLEAR } from '../types'\nimport api from '../api'\n\nexport const addOrder = order => ({\n  type: ORDER_LIST,\n  order\n})\n\nexport const cancelOrder = () => ({\n  type: ORDER_CLEAR\n})\n\nexport const clearOrderList = () => ({\n  type: ORDER_CLEAR\n})\n\nexport const getOrders = id => dispatch => {\n  return new Promise ( (resolve,reject) => {\n    api.order.collection(id)\n    .then( ({data}) => {\n      resolve(data)\n    } )\n    .catch( err => reject(err) )\n  })\n}\n\n//export const makeOrder = data => dispatch => {\n//  api.order.addOrder(data).then(res => dispatch( clearOrderList()))\n//}\n","import React from 'react'\r\n\r\nconst TesterPage = ({member,lan}) => {\r\n  return (\r\n    <div className='oval-but'>\r\n      <p>Test.Table here</p>\r\n    </div>\r\n  )\r\n}\r\nexport default TesterPage\r\n","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Button,Divider,Checkbox,Grid } from 'semantic-ui-react'\r\nimport { subscribeSocket,closeSocket,fireSocket } from '../../../../websocket'\r\nimport { socketCounter,setFac } from '../../../../actions/settup'\r\n\r\nclass BakerHome extends React.Component {\r\n  state = {\r\n    checkin: false,\r\n    open: false,\r\n    dlvr: false,\r\n    pod: false,\r\n    ui: {\r\n      en:['SHUTDOWN','Rest','Controls:','ON','OFF','PoD','Delivery'],\r\n      es:['CERRAR','Descanzo','Controles:','ON','OFF','PoD','Domicilio'],\r\n      bg:['ЗАТВОРИ','Почивка','Контроли:','ON','OFF','PoD','Доставка']\r\n    }\r\n  }\r\n\r\n// SOCKET ON!: Listen to baker-protocol channel:\r\n// customers on-line and/or incoming orders\r\n  onChange = (e,{name}) => {\r\n    this.setState(prevState => ({[name]: !prevState[name]}))\r\n    const { setFac,socketCounter,id } = this.props\r\n    setFac({ data: {[name]: !this.state[name]}, id: id })\r\n    switch(name) {\r\n      case 'checkin' :\r\n        if( !this.state.checkin ) {\r\n          subscribeSocket(socketCounter)\r\n        } else {\r\n          closeSocket(id)\r\n        }\r\n      break\r\n      case 'open' :\r\n        fireSocket(null,JSON.stringify({fac: this.props.fac.id, open: !this.state.open}))\r\n        //if ( this.state.open ) closeSocket(id)\r\n      break\r\n    }\r\n  }\r\n\r\n// Close everything:\r\n  closeShop = (e,{ name }) => {\r\n    this.props.setFac({\r\n      id: this.props.id,\r\n      data: {\r\n        open: false,\r\n        checkin: false\r\n      }\r\n    })\r\n    fireSocket(null,JSON.stringify({fac: this.props.fac.id, open: false}))\r\n\r\n    //this.props.socketCounter({ customer_counter: 0 })\r\n\r\n    this.setState(prevState => ({\r\n      open: false,\r\n      checkin: name==='close'? false : prevState.checkin\r\n    }))\r\n  }\r\n\r\n  switchPod = () => {\r\n    this.setState(prevState => ({pod: !prevState.pod}))\r\n    //this.props.setFac({\r\n    //  id: this.props.id,\r\n    //  pod: this.state.pod\r\n    //})\r\n  }\r\n\r\n  componentDidMount = () => {\r\n    console.log('Baker Home: ',this.props.fac)\r\n    const { checkin,open,delivery } = this.props.fac\r\n    this.setState({\r\n      checkin: !!checkin,\r\n      open: !!open,\r\n      dlvr: delivery===4? false : true\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const ui = this.state.ui[this.props.lan]\r\n    const { open,checkin,dlvr,pod } = this.state\r\n    return (\r\n    <div className='oval-but'>\r\n      <Divider horizontal>{ui[2]}</Divider>\r\n      <Grid columns={2}>\r\n        <Grid.Row>\r\n          <Grid.Column>\r\n            <Checkbox name='checkin'\r\n              checked={checkin}\r\n              disabled={open}\r\n              label={<label>{checkin? 'Check-out' : 'Check-in'}</label>}\r\n              onChange={this.onChange} toggle\r\n            />\r\n          </Grid.Column>\r\n          <Grid.Column>\r\n            <Checkbox name='open'\r\n              checked={open}\r\n              disabled={!checkin}\r\n              label={<label>{open? 'Close' : 'Open'}</label>}\r\n              onChange={this.onChange} toggle\r\n            />\r\n          </Grid.Column>\r\n        </Grid.Row>\r\n      </Grid>\r\n      <br/>\r\n{/* ===== FAC CONTROLS ============================= */}\r\n      <Grid>\r\n        <Grid.Row columns={2}>\r\n          <Grid.Column>\r\n            <Button fluid color='blue'\r\n              icon='motorcycle'\r\n              disabled={!checkin || this.props.fac.delivery === 4}\r\n              content={dlvr? `${ui[6]}: ${ui[4]}` : `${ui[6]}: ${ui[3]}`}\r\n              onClick={this.closeShop}\r\n            />\r\n          </Grid.Column>\r\n          <Grid.Column>\r\n            <Button fluid color='grey'\r\n              icon='sign-out'\r\n              disabled={true}\r\n              content={pod? `${ui[5]}: ${ui[4]}` : `${ui[5]}: ${ui[3]}`}\r\n              onClick={this.switchPod}\r\n            />\r\n        </Grid.Column>\r\n        </Grid.Row>\r\n      </Grid>\r\n      <br/>\r\n      <Button fluid color='grey'\r\n        name='pause'\r\n        icon='pause'\r\n        content={ui[1]}\r\n        disabled={true}//!open\r\n        onClick={this.closeShop}\r\n      />\r\n      <br/>\r\n      <Button fluid color='red'\r\n        name='close'\r\n        icon='attention'\r\n        disabled={!open || !checkin}\r\n        content={ui[0]}\r\n        onClick={this.closeShop}\r\n      />\r\n    </div>\r\n  )}\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  lan: state.settings.lan,\r\n  fac: state.facs\r\n})\r\n\r\nexport default connect(mapStateToProps,{ socketCounter,setFac })(BakerHome)\r\n","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Divider,Grid,Icon } from 'semantic-ui-react'\r\n\r\nconst AdminDashboard = ({member,fac,lan,customers,orders}) => {\r\n  const state = {\r\n    ui: {\r\n      en:['Boss','Lab','Fac','Baker','Courier','Tester'],\r\n      es:['Boss','Lab','Fac','Baker','Courier','Tester'],\r\n      bg:['Boss','Lab','Fac','Baker','Courier','Tester']\r\n    }\r\n  }\r\n  const ui = state.ui[lan]\r\n  let role = Math.log2(member)\r\n  return (\r\n    <div>\r\n    <Divider horizontal>{ui[role]} Dashboard</Divider>\r\n    <Grid className='nopadd'>\r\n      <Grid.Row columns={2}>\r\n        <Grid.Column>\r\n          <Icon name='user' />\r\n        </Grid.Column>\r\n        <Grid.Column>\r\n          <Icon name='clipboard list' />\r\n        </Grid.Column>\r\n      </Grid.Row>\r\n      <Grid.Row columns={2}>\r\n        <Grid.Column>\r\n          <div className='circle-div'>\r\n            <h2>{customers.filter( c=>c===fac ).length || 0}</h2>\r\n          </div>\r\n        </Grid.Column>\r\n        <Grid.Column>\r\n          <div className='circle-div'>\r\n            <h2>{orders || 64}</h2>\r\n          </div>\r\n        </Grid.Column>\r\n      </Grid.Row>\r\n    </Grid>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  customers: state.settings.customer_counter,\r\n  orders: state.settings.order_counter,\r\n  fac: state.facs.id\r\n})\r\nexport default connect(mapStateToProps)(AdminDashboard)\r\n","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Button,Divider,Confirm } from 'semantic-ui-react'\r\n\r\nimport { setInterface } from '../../../actions/settup'\r\nimport { userSignedIn } from '../../../actions/auth'\r\nimport setAuthHeader from '../../../utils/setAuthHeader'\r\nimport { closeSocket } from '../../../websocket'\r\n\r\nimport BakerHome from './fac/BakerHome'\r\nimport AdminDashboard from './AdminDashboard'\r\n\r\nconst TesterHome = () => {\r\n\r\n  return (\r\n    <div className='oval-but'>\r\n      <Divider horizontal>Tester Demo</Divider>\r\n      <p>As a potential partner you can find your-self as a LAB-owner (BOSS),\r\n        a FAC-owner (Baker) or Delivery-courier.<br/>\r\n        Choose a Role to test:\r\n      </p>\r\n      <Button fluid color='black' content='Role: BOSS' /><br/>\r\n      <Button fluid color='orange' content='Role: Baker' /><br/>\r\n      <Button fluid color='grey' content='Role: Courier' /><br/>\r\n      <Divider horizontal> --- </Divider>\r\n    <p>To learn more about business Partner-options:</p>\r\n      <Button color='blue' content='Business Plans'/>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst AllAdminHome = props => {\r\n  const state = {\r\n    ui: {\r\n      en: ['Unauthorized User!','Not your ','Please, change ','Zone/City','Bakery','LAB','FAC'],\r\n      es: ['Usuario no otorizado!','No es tu ','Porfavor, cambie ','Zone/City','Bakery','LAB','FAC'],\r\n      bg: ['Неуторизиран достъп!','Не си в твоята ','Смени ','Зона/Град','Пекарна','ЛАБ','ФАК']\r\n    }\r\n  }\r\n\r\n  const { lan,member,id,fowner,baker,uid,setInterface,userSignedIn } = props\r\n  const { ui } = state\r\n\r\n// Check if User UID is Authorized for Zone-Admin:\r\n  let auth\r\n  switch (member) {\r\n    case 1:\r\n      auth = uid===1\r\n      break\r\n    //case 2:\r\n    //  auth = lowner===uid\r\n    //  break\r\n    case 4:\r\n      auth = fowner===uid\r\n      break\r\n    case 8:\r\n    case 12:\r\n      auth = baker===uid\r\n      break\r\n    default:\r\n      auth = true\r\n  }\r\n\r\n  return (\r\n    <div className='init top-15 padded oval-but'>\r\n      {member===8 && <BakerHome {...props} />}\r\n      {member===64 && <TesterHome {...props} />}\r\n      <AdminDashboard {...props} />\r\n      <Confirm\r\n        header={`${ui[lan][0]}`}\r\n        content={member === 8?\r\n          `${ui[lan][1]} ${ui[lan][4]}. ${ui[lan][2]} ${ui[lan][4]}` :\r\n          `${ui[lan][1]} ${ui[lan][3]}. ${ui[lan][2]} ${ui[lan][3]}`\r\n        }\r\n        open={!auth}\r\n        onCancel={ e => {\r\n          localStorage.clear()\r\n          setAuthHeader()\r\n          userSignedIn({})\r\n          closeSocket()\r\n          setInterface({socket: false})\r\n        }}\r\n        onConfirm={ e => setInterface({city: null}) }\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default connect(null,{ setInterface,userSignedIn })(AllAdminHome)\r\n","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Button } from 'semantic-ui-react'\r\nimport { Route,Switch,Link } from 'react-router-dom'\r\n\r\nimport { userSignedIn } from '../../../actions/auth'\r\nimport { setInterface } from '../../../actions/settup'\r\nimport setAuthHeader from '../../../utils/setAuthHeader'\r\n\r\nimport BakerAdmin from './fac/BakerAdmin'\r\nimport TesterPage from './TesterPage'\r\nimport AllAdminHome from './AllHome'\r\n\r\nimport { closeSocket } from '../../../websocket'\r\n\r\nconst RoleHome = ({uid,lan,membership,userSignedIn,setInterface,dispatch,...rest}) => {\r\n\r\n  const state = {\r\n    ui: {\r\n      en:['Bakery: ','Open Session','boss','lab','fac','baker','delivery','tester','logout'],\r\n      es:['Panadería: ','Iniciar sesión','boss','lab','fac','baker','delivery','tester','logout'],\r\n      bg:['Пекарна: ','Отвори Сесия','boss','lab','fac','baker','delivery','tester','logout']\r\n    }\r\n  }\r\n\r\n  const logout = () => {\r\n    localStorage.clear()\r\n    setAuthHeader()\r\n    userSignedIn({})\r\n    closeSocket()\r\n    setInterface({socket: false})\r\n  }\r\n\r\n  const { url } = rest.match\r\n  //let id = Number(locations[match.params.id].id)\r\n  //let _path = path.split('/').reverse()[0]\r\n\r\n  return (\r\n    <div className='App-content topped padded'>\r\n      <div className='menu-bar dobletopped'>\r\n        <Button.Group color='grey'>\r\n          <Button name='home' as={Link} to={url} icon='home'/>\r\n          {membership === 1 &&\r\n            <Button name={state.ui[lan][2]} as={Link} to={`${url}/${state.ui[lan][2]}`} content={state.ui[lan][3]}/>}\r\n          {membership === 2 &&\r\n            <Button name={state.ui[lan][3]} as={Link} to={`${url}/${state.ui[lan][3]}`} content={state.ui[lan][3]}/>}\r\n          {membership === (4 || 12) &&\r\n            <Button name={state.ui[lan][4]} as={Link} to={`${url}/${state.ui[lan][4]}`} content={state.ui[lan][4]} />}\r\n          {membership === (8 || 12) &&\r\n            <Button name={state.ui[lan][5]} as={Link}\r\n              to={`${url}/${state.ui[lan][5]}`}\r\n              content={state.ui[lan][5]}\r\n              onClick={ e => {\r\n                if(!rest.fac.open) return e.preventDefault()\r\n              }}\r\n            />}\r\n          {membership === 32 &&\r\n            <Button name={state.ui[lan][6]} as={Link} to={`${url}/${state.ui[lan][6]}`} content={state.ui[lan][6]} />}\r\n          {membership === 64 &&\r\n            <Button name={state.ui[lan][7]} as={Link} to={`${url}/${state.ui[lan][7]}`} icon='eye' content={state.ui[lan][7]} />}\r\n            <Button name={state.ui[lan][8]} as={Link} to={url}\r\n              icon='stop circle outline'\r\n              color='blue'\r\n              content={state.ui[lan][8]}\r\n              onClick={e => logout()}\r\n            />\r\n        </Button.Group>\r\n      </div>\r\n      <Switch>\r\n        <Route path={rest.match.url} exact\r\n          render={ () => <AllAdminHome\r\n            lan={lan}\r\n            id={rest.fac.id}\r\n            fowner={rest.fac.uid}\r\n            baker={rest.fac.baker}\r\n            uid={uid}\r\n            member={membership}\r\n          />\r\n        }/>\r\n        <Route path={`${rest.match.url}/${state.ui[lan][2]}`} component={AllAdminHome} />\r\n        <Route path={`${rest.match.url}/${state.ui[lan][3]}`} component={AllAdminHome} />\r\n        <Route path={`${rest.match.url}/${state.ui[lan][4]}`} component={AllAdminHome} />\r\n        <Route path={`${rest.match.url}/${state.ui[lan][5]}`} component={BakerAdmin} />\r\n        <Route path={`${rest.match.url}/${state.ui[lan][6]}`} component={AllAdminHome} />\r\n        <Route path={`${rest.match.url}/${state.ui[lan][7]}`}\r\n          render={ () => <TesterPage lan={lan} member={membership} />} />\r\n      </Switch>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  uid: state.user.uid,\r\n  membership: state.user.membership,\r\n  fac: state.facs\r\n})\r\n\r\nexport default connect(mapStateToProps, { userSignedIn,setInterface })(RoleHome)\r\n","import React from 'react'\nimport { Message,Divider } from 'semantic-ui-react'\n\nexport default class RepeatPage extends React.Component {\n\n  state = {\n    ui: {\n      es: ['Su Pedido','No haz jugado hoy!','No haz comido hoy!','Coma mas...'],\n      en: ['Repeat this:','You\\'ve played 0 Games today!','You haven\\'t eaten today!','Start now...'],\n      bg: [ 'Повтори: ','Не си играл днес!','Не си ял днес!','Започни сега...']\n    }\n  }\n\n  render(){\n    const { lan } = this.props\n    const ui = this.state.ui[lan]\n    return(\n      <div className='App-content central padded'>\n        <div className='margined full-width'>\n          <Divider horizontal>{ui[0]}</Divider>\n          <Message negative>\n            <Message.Header>{ui[2]}</Message.Header>\n            <p>{ui[3]}</p>\n          </Message>\n        </div>\n\n      </div>\n    )\n  }\n}\n","import React from 'react'\nimport { Button,Icon } from 'semantic-ui-react'\n\nimport Credentials from '../../forms/credentials'\n\nconst AdminLogin = ({lan,pass,login}) => {\n  return (\n    <div className='App-content padded Admin-Page'>\n      {<Credentials submit={login} lan={lan} pass={true} />}\n    </div>\n  )\n}\n\nexport default AdminLogin\n","import React from 'react'\nimport { Message,Divider } from 'semantic-ui-react'\n\nexport default class RepeatPage extends React.Component {\n\n  state = {\n    ui: {\n      es: ['Su Pedido','Por ahora no hay juegos','Vuelva pronto...'],\n      en: ['Play Home','No Games to play yet','Come back soon...'],\n      bg: ['Игри','Няма игри за сега','Провери отново скоро...']\n    }\n  }\n\n  render(){\n    const { lan } = this.props\n    const ui = this.state.ui[lan]\n    return(\n      <div className='App-content central padded'>\n        <div className='margined full-width'>\n          <Divider horizontal>{ui[0]}</Divider>\n          <Message negative>\n            <Message.Header>{ui[1]}</Message.Header>\n            <p>{ui[2]}</p>\n          </Message>\n        </div>\n\n      </div>\n    )\n  }\n}\n","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport { Icon,Checkbox } from 'semantic-ui-react'\n\nconst LocationRow = ({ind,prime,lan,view,row,stat,edit,locClick,current}) => {\n  console.log('ULocation row: ',current,row.location,row.prime)\n  const addstyle = row.prime? ' selected-row' : ''\n  return (\n    <div className={'ui grid item'+addstyle}>\n      <div className='two wide column nopad items'>\n        {!stat && prime? <Icon name='pin' /> : ''}\n        {stat && view==='select' &&\n          <Checkbox\n            checked={current===row.location || (!!row.prime && current===0)}\n            onChange={()=>locClick(row.location)}\n          />}\n      </div>\n      <div className='eight wide column nopad'>{row.street}</div>\n      <div className='two wide column nopad'>{row.number || row.location}</div>\n      <div className='two wide column nopad'>\n        {!stat && <span basic onClick={null}><Icon color='red' name='minus circle' /></span>}\n      </div>\n      <div className='two wide column nopad'>\n        {edit && <Link to={'/user/location/'+ind}><Icon color='blue' name='pencil' /></Link>}\n      </div>\n    </div>\n  )\n}\n\nexport default LocationRow\n","import React from 'react'\nimport { Button,Message } from 'semantic-ui-react'\nimport { Link } from 'react-router-dom'\nimport LocationRow from './LocRow'\n\nconst UserLocations = ({stat,view,lan,list,city,onLocation,current,disabled,fac}) => {\n  const ui = {\n    en: ['No Locations','Address','Без доставка!'],\n    es: ['No tienes Dirección','Dirección','Без доставка!'],\n    bg: ['Нямаш Адрес!','Адрес','Без доставка!'],\n    error: {\n      en: ['No Delivery Service!','Your Location has no Delivery Service! Take your pedido from: '],\n      es: ['Sin Domcilio!','Esta localidad no tiene servicio a Domicilio. Recibe su pedido a la dirección: '],\n      bg: ['Без доставка!','Този район е без доставки. Вземи своята поръчка от адрес: ']\n    }\n  }\n  return (\n    <div className={(!list || list.length === 0)? 'order-list empty' : 'order-list'}>\n  {/* No Delivery Message:*/}\n      {disabled && <Message negative>\n        <Message.Header>{ui.error[lan][0]}</Message.Header>\n      <p>{ui.error[lan][1]}</p>\n        <b>{`'${fac.street}', ${fac.number}`}</b>\n      </Message>}\n  {/*Check if User has Locations:*/}\n      {(!disabled && (!list || list.length === 0)) ?\n        <div>\n          <div>{ui[lan][0]}</div><br/>\n          <div className='oval-but'><Button as={Link} to='../user/locations' color='red' icon='warning sign' content={ui[lan][1]} /></div>\n        </div> :\n        <div>\n          {list.forEach( (entry,ind) => {\n            if(entry.city === city) {\n              return <LocationRow\n                  key={ind}\n                  ind={ind}\n                  prime={entry.prime}\n                  current={current}\n                  locClick={onLocation}\n                  lan={lan}\n                  row={entry}\n                  view={view}\n                  edit={true}\n                  stat={stat}\n                />\n            }\n            })\n          }\n        </div>\n      }\n    </div>\n  )\n}\n\nexport default UserLocations\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport { Link } from 'react-router-dom'\nimport { Button,Divider,Message } from 'semantic-ui-react'\nimport PropType from 'prop-types'\nimport OrderList from '../ui/order/OrderList'\nimport UserLocationsList from '../ui/user/UserLocationsList'\nimport { getLocationData } from '../../actions/user'\nimport { cancelCart,makeCart } from '../../actions/cart'\nimport { fireSocket } from '../../websocket'\n// import socket from '../../websocket'\n\nclass CartPage extends React.Component {\n  state = {\n    ui: {\n      en:['Order','Where to:','Order:','Cancel','Add','You must give us a location!',\n      'Oreder recieved','Tu Pick up', 'Or', 'Success', 'Error','CLOSED','Pick up in: ','min.'],\n      es:['Orden','Para donde:','Pedir','Cancelar','Más','Necesitamos dirección de entrega!',\n      'Pedido recibido','Para recojer', 'O', 'Exitoso', 'Error','CERRADO','Recoger en: ','min.'],\n      bg:['Поръчка','За къде:','Поръчай','Откажи','Още','Трябва ни адрес на доставка!',\n      'Поръчката е приета','За Вземане', 'Или', 'Честито!', '!Грешка!','ЗАТВОРЕНО','Вземи след: ','мин.']\n    },\n    currentLocation: 0,\n    delivery: 1,\n    message: {}\n  }\n\n  onLocationSlected = l => {\n    console.log(l)\n    this.setState({\n      currentLocation: l,\n      message: {}\n    })\n  }\n\n  componentDidMount() {\n    const { locations } = this.props.user\n    const { fac,getLocationData } = this.props\n    if(fac.delivery === 4) {this.setState({delivery: 0})}\n    if(!locations || locations.length === 0) return\n    locations.forEach( (entry,ind) => {\n      getLocationData(entry.location,ind)\n    })\n// socket.send('Cart Component did mount')\n  }\n\n  onOrder = e => {\n    let prime = 0, defLoc\n    const {user,cart,lan,fac} = this.props\n    const {currentLocation,delivery} = this.state\n// Sum Total to Pay:\n    let sum = cart.map( o => {\n      return (parseFloat(o.price)*parseFloat(o.quant)).toFixed(2)\n    })\n    let total = sum.reduce((acc, cv) => (parseFloat(acc) + parseFloat(cv)).toFixed(2))\n\n    if(!delivery){\n      this.props.makeCart({\n          user_location: null, cart: cart,\n          delivery: delivery, fac_id:fac.id, total: total\n        })\n        .then( msg => {\n          this.setState({ message: {stat: msg} })\n// socket message Object: {sction-type, payload}\n          fireSocket(null,JSON.stringify({\n                user: user.uid, mem: user.membership,\n                fac: fac.id, ordered: true\n              }))\n        } )\n        .catch( err => this.setState({ message: {err} }) )\n    } else {\n      user.locations.forEach( l => {\n        if(l.prime && l.prime !== 0){\n          prime = l.id\n          console.log('Deliver ',prime)\n        }\n      })\n      if(!prime&&!currentLocation){\n        this.setState({\n          message: {stat: this.state.ui[lan][5]}\n        })\n        return\n      }\n      defLoc = currentLocation!==0? currentLocation : prime\n      this.props.makeCart({user_location: defLoc, cart: cart, delivery: delivery, fac_id: fac.id, total: total})\n        .then( msg => {\n          this.setState({ message: {stat: msg} })\n          fireSocket(null,JSON.stringify({\n                user: user.uid, mem: user.membership,\n                fac: fac.id, ordered: true\n              }))\n        } )\n        .catch( err => this.setState({ message: {err} }) )\n    }\n\n\n// .catch(err => console.log(err))\n// console.log('Deliver this: ' + order.length + ', there:' + delLoc)\n  }\n\n  render() {\n    //let prime = 0\n    let total = 0\n    const { user,cart,lan,city,fac } = this.props\n    const { currentLocation,message,delivery } = this.state\n    const ui = this.state.ui[lan]\n\n    if(user.locations){\n      user.locations.forEach( l => {\n        if(l.prime !== 0){\n          //prime = l.id\n        }\n      })\n    }\n\n    let sum = cart.map( o => {\n      return (parseFloat(o.price)*parseFloat(o.quant)).toFixed(2)\n    })\n\n    if(sum.length > 0) {\n      total = sum.reduce((acc, cv) => (parseFloat(acc) + parseFloat(cv)).toFixed(2))\n    }\n\n    console.log(sum,cart)\n\n    return (\n      <div className='App-content topped padded'>\n        <Divider horizontal>{ui[1]}</Divider>\n    {/*Check if No Delivery of User has Locations:*/}\n        {(user.locations || fac.delivery === 4 )?\n          <UserLocationsList\n            view='select'\n            stat={true}\n            disabled={fac.delivery === 4}\n            current={currentLocation}\n            onLocation={this.onLocationSlected}\n            list={user.locations? user.locations.filter( l => l.city === city) : []}\n            city={city}\n            lan={lan}\n            fac={fac}\n          /> :\n          <div><Button as={Link} to='../user/locations' color='red' icon='warning sign' content={ui[1]} /></div>\n        }\n        {Object.keys(message).length>0 && !!delivery && <Message negative content={message.stat} />}\n        {fac.delivery !== 4 && <Divider horizontal>{ui[8]}</Divider>}\n        {fac.delivery !== 4 && <div className='oval-but'>\n          <Button fluid content={ui[7]} icon='hand paper' color='blue'/>\n        </div>}\n        <Divider horizontal>{ui[0]}</Divider>\n        {Object.keys(message).length>0?\n          <Message positive={message.stat} negative={message.error}>\n            <Message.Header>{message.stat? ui[9] : ui[10]}</Message.Header>\n              <p>{message.stat? message.stat : message.err}</p>\n              {message.stat && <p>{`${ui[12]}${fac.order_estimated}${ui[13]}`}</p>}\n          </Message> :\n          <OrderList stat={true} cart={cart} lan={lan} />\n        }\n        <Divider horizontal>&#9675;</Divider>\n        {<div className='menu-bar'>\n          <Button.Group>\n            <Button color='grey' onClick={this.props.cancelCart} as={Link} to='/' content={ui[3]}/>\n            <Button\n              name='submit'\n              disabled={total<1 || (!user.locations && fac.delivery !== 4 || !fac.open)}\n              color='orange'\n              onClick={this.onOrder}\n              content={ui[2].concat(' ',total.toString())}\n            />\n            <Button color='grey' as={Link} to='/order' icon='plus' content={ui[4]} />\n          </Button.Group>\n        </div>}\n{/* ===== Closed FAC ============================================ */}\n        {!fac.open &&\n          <div className='fac-lable'>\n            <div className='fac-closed'>\n              <h3>{ui[11]}</h3>\n            </div>\n          </div>\n        }\n      </div>\n    )\n  }\n}\n\nCartPage.propType = {\n  lan: PropType.string.isRequired,\n  user: PropType.shape({\n    uid: PropType.number.isRequired\n  }),\n  cart: PropType.array.isRequired,\n  city: PropType.number.isRequired\n}\n\nconst mapStateToProps = state => ({\n  lan: state.settings.lan,\n  user: state.user,\n  fac: state.facs,\n  cart: state.cart,\n  city: state.settings.city\n})\nexport default connect(mapStateToProps,{ getLocationData,cancelCart,makeCart })(CartPage)\n","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Button } from 'semantic-ui-react'\r\nimport { addCart } from '../../../actions/cart'\r\n\r\nconst UserPerksList = ({ lan,open,has_perks,new_user,perks,addCart }) => {\r\n  const state = {\r\n    ui: {\r\n      bg:['Имаш','Нямаш','бонуси!...','1 \"Маргарита\" Гратис!','Маргерита'],\r\n      en:['You have', 'You have No', 'perks!...','Free \"Margherita\"!','Margherita'],\r\n      es:['Tienes', 'No tienes', 'obsequios!','\"Margherita\" Gratis!','Margherita']\r\n    }\r\n  }\r\n  return (\r\n    <div>\r\n      {has_perks ? (\r\n        <div className='oval-but'>\r\n          <Button color='orange'\r\n            disabled={!open}\r\n            content={state.ui[lan][3]}\r\n            onClick={ () => addCart(\r\n              [{\r\n                product: 1,\r\n                quant: 1,\r\n                name: state.ui[lan][4],\r\n                price: 0,\r\n                promo: 1\r\n              }]\r\n            )}\r\n          />\r\n        </div>\r\n      ) :\r\n      `${state.ui[lan][1]} ${state.ui[lan][2]}`}\r\n    </div>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  open: state.facs.open\r\n})\r\n\r\nexport default connect(mapStateToProps, { addCart })(UserPerksList)\r\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport { Link } from 'react-router-dom'\nimport PropType from 'prop-types'\nimport { Divider,Button } from 'semantic-ui-react'\nimport UserLocationsList from '../ui/user/UserLocationsList'\nimport UserPerksList from '../ui/user/UserPerksList'\n\nimport { userSignedIn } from '../../actions/auth'\nimport setAuthHeader from '../../utils/setAuthHeader'\nimport { getLocationData } from '../../actions/user'\nimport { cancelCart } from '../../actions/cart'\nimport { setInterface } from '../../actions/settup'\nimport { closeSocket } from '../../websocket'\n\nclass UserPage extends React.Component {\n\n  state = {\n    ui: {\n      en: ['Your Locations:','New','Edit','Dashboard:','Your Perks:'],\n      es: ['Tus direciones:','Nueva','Editar','Controles:','Tus obsequios:'],\n      bg: ['Твоите Адреси:','Адрес','Промени','Контроли:','Твоите награди:']\n    }\n  }\n\n  componentDidMount() {\n    const { locations } = this.props\n    if(!locations || locations.length === 0) return\n    //this.props.getLocationData(3)\n    this.getLocData(locations)\n  }\n\n  componentDidUpdate(prevProps) {\n    const { locations } = this.props\n    if(!locations) return\n    //this.props.getLocationData(3)\n    if(!prevProps.locations || prevProps.locations.length !== locations.length){\n      this.getLocData(locations)\n    }\n  }\n\n  getLocData = l => {\n    l.forEach( (entry,ind) => {\n      this.props.getLocationData(entry.location,ind)\n    })\n  }\n\n  logout = () => {\n    const { cancelCart,userSignedIn,setInterface } = this.props\n    console.log('Logout this User')\n    localStorage.clear()\n    setAuthHeader()\n    cancelCart()\n    closeSocket()\n    setInterface({socket: false,city:null})\n    userSignedIn({})\n  }\n\n  render() {\n    const {lan,user,city,fac} = this.props\n    const ui = this.state.ui[lan]\n    let listLocations = user.locations ? user.locations.filter( l => l.city===city ) : []\n    return (\n      <div className='App-content topped padded oval-but'>\n        <Divider horizontal>{ui[0]}</Divider>\n      <UserLocationsList disabled={fac.delivery === 4} view='list' stat={false} fac={fac} list={listLocations} lan={lan} />\n        {(fac.delivery !== 4 || listLocations.length !== 0) && <Divider horizontal>&#9675;</Divider>}\n        {(fac.delivery !== 4 || listLocations.length !== 0) && <div className='row centered menu-bar'>\n          <Button.Group color='grey' widths='2'>\n            <Button as={Link} to='/' icon='home' />\n            <Button disabled={fac.delivery === 4} as={Link} to='/user/locations' icon='plus' content={ui[1]} />\n          </Button.Group>\n        </div>}\n        <Divider horizontal>{ui[3]}</Divider>\n        <Divider horizontal>{ui[4]}</Divider>\n        <UserPerksList lan={lan}\n          has_perks={user.orders%5 === 0}\n        />\n        <Divider horizontal />\n        <Button fluid color='red'\n          content='LOGOUT'\n          as={Link} to={'/'}\n          onClick={e => {\n            this.logout()\n          }}\n        />\n      </div>\n    )\n  }\n}\n\nUserPage.propType = {\n  lan: PropType.number.isRequired,\n  city: PropType.number.isRequired,\n  facs: PropType.shape({\n    delivery: PropType.number.isRequired\n  }).isRequired,\n  user: PropType.shape({\n    locations: PropType.array.isRequired,\n    free_pizza: PropType.bool.isRequired\n  }).isRequired\n}\n\nconst mapStateToProps = state => ({\n  city: state.settings.city,\n  fac: state.facs,\n  user: state.user\n})\n\nexport default connect(mapStateToProps,\n  {\n    getLocationData,userSignedIn,\n    setInterface,cancelCart\n  })(UserPage)\n","import React from 'react'\nimport _ from 'lodash'\nimport { Search } from 'semantic-ui-react'\n\nexport default class UserLocation extends React.Component {\n  state = {\n    isLoading: false,\n    data: {},\n    value: null\n  }\n  componentWillMount() {\n    this.resetComponent()\n  }\n\n  resetComponent = () => this.setState({ isLoading: false, results: [], value: '' })\n\n  handleResultSelect = (e, { result,name }) => {\n    const {title,id} = result\n    const { getInput,getNumbers,onNewData } = this.props\n    if(name==='street') {getNumbers('location',id)}\n    this.setState({\n      ...this.state,\n      value: title,\n      data: {...this.state.data, [name]: id}\n    })\n    if(name==='location'){onNewData({[name]: id})}\n    getInput(title,name)\n  }\n\n  handleSearchChange = (e, { value,name }) => {\n    this.setState({ isLoading: true, value })\n    const { list,getInput } = this.props\n\n    setTimeout(() => {\n      if (this.state.value.toString().length < 1) return this.resetComponent()\n\n      const re = new RegExp(_.escapeRegExp(this.state.value), 'i')\n      const isMatch = result => re.test(result.title.toString())\n\n      this.setState({\n        isLoading: false,\n        results: _.filter(list, isMatch)\n      })\n    }, 300)\n\n    getInput(value,name)\n  }\n\n  render() {\n    const { isLoading,value,results } = this.state\n    const { name } = this.props\n    return (\n      <div>\n        <div className={name==='street'? 'full-width' : 'short'}>\n          <Search\n            name={name}\n            loading={isLoading}\n            onResultSelect={this.handleResultSelect}\n            onSearchChange={_.debounce(this.handleSearchChange, 500, { leading: true })}\n            results={results}\n            value={value}\n            {...this.props}\n          />\n        </div>\n      </div>\n    )\n  }\n}\n","import React from 'react'\nimport { Form } from 'semantic-ui-react'\n\nexport default class UserLocationList extends React.Component {\n  state = {\n    data: {},\n    ui: {\n      en: ['number'],\n      es: ['numero'],\n      bg: ['номер']\n    }\n  }\n\n  onChange = (e, {name,value,key}) => {\n   this.setState({\n     data: {...this.state.data, [name]: Number(value)}\n   })\n   const {list} = this.props\n   this.props.onNewData({[name]: Number(value)})\n   const ind = list.findIndex( e => {\n     return e.id === value\n   })\n   this.props.getInput(list[ind].title,name)\n  }\n\n  render() {\n    const { ui } = this.state\n    const { name,list } = this.props\n    let options\n    if(list){\n      options = list.map( (entry,ind) => ({\n          key: ind+1,\n          value: entry.id,\n          text: entry.title\n        })\n      )\n    }\n\n    return (\n      <div className='short'>\n        <Form.Select onChange={this.onChange}\n          name={name} placeholder={ui[0]} options={options}\n          value={this.state.data[name] || ''}\n        />\n      </div>\n    )\n  }\n}\n","import React from 'react'\nimport { Form,Button,Message,Checkbox } from 'semantic-ui-react'\n\nexport default class UserDoor extends React.Component {\n  state = {\n    ui: {\n      en: ['floor','door','entry','bell','mobile','myHome, theOffice,...','Name it like:','Primary'],\n      es: ['piso','puerta','entrada','timbre','mobile','miCasa, LaOficina,...','Ponle nombre:','Principal'],\n      bg: ['етаж','врата','вход','звънец','мобилен','уНас, офиса, приМама,...','Именувай Адреса:','Основен']\n    },\n    valid: true,\n    empty: true,\n    data: {},\n  }\n\n  componentDidMount() {\n    if(this.props.edit){\n      this.setState({\n      data: {...this.state.data, prime: this.props.loc.prime}\n    })}\n  }\n\n  onChange = (e,{name,value}) => {\n    const { edit,onInput,addData } = this.props\n    let v = name === 'floor'? Number(value) : value\n    this.setState({\n      data: {...this.state.data, [name]: v}\n    })\n    if(edit){\n      onInput(name, v)\n    } else {\n      addData({[name]: v})\n    }\n  }\n\n  onCheckBox = (e, {name}) => {\n    const { data } = this.state\n    this.props.onInput(name, data[name]? Number(!data[name]) : 1)\n    this.setState({\n      data: {...data, [name]: data[name]? !data[name] : true}\n    })\n  }\n\n  onClear = e => {\n    e.preventDefault()\n    this.setState({\n      data: {}\n    })\n  }\n\n  render() {\n    const {lan,edit,loc} = this.props\n    const ui = this.state.ui[lan]\n    const { valid,data } = this.state\n    return (\n        <Form>\n          <Form.Group>\n            <div className='ui grid'>\n\n              <div className=\"row\">\n                <div className='eight wide column rect'>\n                  <Form.Input onChange={this.onChange}\n                    required\n                    name='bell'\n                    placeholder={edit && loc.bell? ui[3].concat(': ',loc.bell) : ui[3]}\n                    value={data.bell || ''}\n                  />\n                </div>\n                <div className='seven wide column rect'>\n                  <Form.Input onChange={this.onChange}\n                    required\n                    name='mobile'\n                    placeholder={edit && loc.mobile? loc.mobile : ui[4]}\n                    value={data.mobile || ''}\n                  />\n                </div>\n              </div>\n\n              <div className=\"row\">\n                <div className='four wide column rect'>\n                  <Form.Input onChange={this.onChange}\n                    required\n                    name='floor'\n                    placeholder={edit && loc.floor? loc.floor.toString().concat(' ',ui[0]) : ui[0]}\n                    value={data.floor || ''}\n                  />\n                </div>\n                <div className='four wide column rect'>\n                  <Form.Input onChange={this.onChange}\n                    required\n                    name='door'\n                    placeholder={edit && loc.door? loc.door.toString().concat(' ',ui[1]) : ui[1]}\n                    value={data.door || ''}\n                  />\n                </div>\n                <div className='four wide column rect'>\n                  <Form.Input onChange={this.onChange}\n                    name='entry'\n                    placeholder={edit && loc.entry? loc.entry.toString().concat(' ', ui[2]) : ui[2]}\n                    value={data.entry || ''}\n                  />\n                </div>\n                {!edit && <div className='tree wide column'>\n                  <Button\n                    className='add-but'\n                    icon='ban'\n                    onClick={this.onClear}\n                  />\n                </div>}\n              </div>\n\n              {edit &&\n                  <div className='row'>\n                    <div className='eight wide column rect'>\n                      <Form.Input onChange={this.onChange}\n                        label={ui[6]}\n                        name='name' placeholder={loc.name? loc.name : ui[5]}\n                        value={data.name || ''}\n                      />\n                    </div>\n                    <div className='seven wide column rect'>\n                      <Checkbox\n                        label={ui[7]}\n                        name='prime'\n                        checked={data.prime||loc.prime}\n                        onClick={this.onCheckBox}\n                      />\n                    </div>\n                  </div>\n              }\n\n            </div>\n\n              { !valid &&\n                <div className='margined full-width'>\n                  <Message negative>\n                    <Message.Header>{ui[3]}</Message.Header>\n                    <p>{1}</p>\n                  </Message>\n                </div>\n              }\n\n          </Form.Group>\n        </Form>\n    )\n  }\n}\n","import React from 'react'\nimport { Input } from 'semantic-ui-react'\n\nclass ReferenceInput extends React.Component {\n  state = {\n    ui: {\n      en: ['8 string reference...','Reference:'],\n      es: ['8 signos...','Referencia:'],\n      bg: ['8 знака код...','Референция:']\n    },\n    uid: ''\n  }\n\n  onChange = e => {\n    this.setState({\n      uid: e.target.value\n    })\n  }\n\n  onClick = () => {\n    if(this.state.uid !== ''){ this.props.onRef(this.state.uid) }\n  }\n\n  render() {\n    let ui = this.state.ui[this.props.lan]\n    return (\n      <Input\n        action={{\n          color: 'teal',\n          labelPosition: 'left',\n          icon: 'key',\n          content: `${ui[1]}`,\n          onClick: this.onClick\n        }}\n        name='uid'\n        onChange={this.onChange}\n        actionPosition='left'\n        placeholder={ui[0]}\n      />\n    )\n  }\n}\n\nexport default ReferenceInput\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport { Link } from 'react-router-dom'\nimport _ from 'lodash'\nimport { Divider,Button,Message } from 'semantic-ui-react'\nimport PropType from 'prop-types'\n\nimport { getLocations,checkReference } from '../../actions/settup'\nimport { addUserLocation,userAddLocation } from '../../actions/user'\n\nimport UserLocation from '../forms/ulocation'\nimport UserLocationNumber from '../forms/LocationNumbersList'\nimport UserDoor from '../forms/userDoor'\nimport LocationRow from '../ui/user/LocRow'\nimport ReferenceInput from '../forms/RefInput'\n\nclass UserLocationsPage extends React.Component {\n  state = {\n    ui: {\nen: ['Delivery Location','Your Street in, ','Your Number:','Save','No service on that location',\n    'We\\'ve got you! Just open the... which door:','Have a reference..?','No ref','No such reference'\n    ],\nes: ['Direccion de entrega','Calle-о-Carrera en, ','Tu Numero:','Guardar','No hay servicio en esta direccion',\n    'Lo ubicamos! Solo abrenos la... que puerta:','Tienes referencia..?','No tengo','No such reference'\n    ],\nbg: ['Адрес за доставка','Твоята улица във, ','Номер:', 'Запази','Не обслужваме този адрес',\n    'Тук сме! Само отвори вратата... коя врата? :','Имаш референция..?','Нямам','Няма такава референция'\n    ]\n    },\n    data: {},\n    input: {},\n    errors: {},\n    message: false,\n    location: false,\n    locate: false,\n    loc_id: '',\n    rep: true\n  }\n  componentDidMount() {\n    if(this.props.city){ this.props.getLocations('street',this.props.city) }\n  }\n\n  addData = data => {\n    console.log('Add in Locations: ',data)\n    this.setState({\n      ...this.state,\n      data: {...this.state.data, ...data}\n    })\n  }\n\n  getInput = (value,name) => {\n    this.setState({\n      input: {...this.state.input, [name]: value}\n    })\n    let nm = name.concat('s')\n    let verified = _.filter(this.props[nm], entry => {\n      if(name==='street'){\n        return entry.title === value\n      } else {\n        return Number(entry.title) === value\n      }\n    })\n    if(name!=='location' && verified.length === 0){\n      this.setState({\n        errors: {[name]: name},\n        [name]: false\n      })\n    } else {\n      this.setState({\n        errors: _.omit(this.state.errors, [name]),\n        [name]: true\n      })\n    }\n\n  }\n\n// on Reference: CHECK REFERENCE in DB ==============================\n  checkReference = ref => {\n    this.props.checkReference(ref).then( res => {\n      if(res.error){\n        this.setState({\n          message: true,\n          errors: res.error\n        })\n      } else {\n        console.log(res)\n        this.setState({\n          input: {...this.state.input, ...res},\n          data: {...this.state.data, location: res.id, ref: 1},\n          loc_id: res.id,\n          message: false,\n          errors: ''\n        })\n      }\n    })\n    .catch( err => {} )\n  }\n\n// Don't have a Reference: input Location manualy - street,number =====\n  noRef = e => {\n    this.setState({\n      rep: false,\n      loc_id: '',\n      message: false,\n      errors: ''\n    })\n  }\n\n// =====================================================================\n// =====================================================================\n// ======= SUBMIT BUTTONS ==============================================\n  onSubmit = e => {\n    if(!this.state.locate || this.state.rep ){\n      e.preventDefault()\n// update local state\n      this.saveLocation()\n    } else {\n// API:POST\n      this.submitLocation()\n      // navigate to /user\n    }\n  }\n\n// Save Street-Number in Local State\n  saveLocation = () => {\n    if(Object.keys(this.state.errors).length === 0){\n      const {rep,loc_id,data} = this.state\n      //this.props.addUserLocation({location: rep? loc_id : data.location})\n      this.setState({\n        rep: false,\n        locate: true,\n        errors: {},\n        message: false\n      })\n    } else {\n      this.setState({\n        message: true,\n        errors: 4\n      })\n    }\n  }\n\n// Save Full Location into user_location and Global Store\n  submitLocation = () => {\n    this.props.userAddLocation(this.state.data)\n  }\n\n// =====================================================================\n// =====================================================================\n  render() {\n    const { streets,lan,city,cities,locations } = this.props\n    const ui = this.state.ui[lan]\n    const { street,location,locate,message,input,rep,loc_id } = this.state\n    let cty = ''\n    if(cities){\n      cities.forEach( entry => {\n        if(entry.id === city) cty=entry.title\n      })\n    }\n    return (\n      <div className='App-content topped padded'>\n        <Divider horizontal>{ui[0]}</Divider>\n        {!locate?\n          <p className={street !== undefined && !street? 'left warent' : 'left'}>\n            {rep? ui[6] : ui[1] + cty +':'}\n          </p> :\n          <LocationRow onClick={checkReference} row={input} stat={true} lan={lan} />\n        }\n        {rep && <ReferenceInput lan={lan} onRef={this.checkReference} />}\n{/* =====  Street First  ===============*/}\n        {!locate && !rep &&\n          <UserLocation lan={lan}\n            name='street'\n            getInput={this.getInput}\n            onNewData={this.addData}\n            list={streets}\n            getNumbers={this.props.getLocations}\n        />}\n{/* =====  User is Locate: get Address details and phone  ===============*/}\n        {locations && locations.length > 0 && street && !locate && !rep &&\n          <p className={location !== undefined && !location? 'left short warent' : 'left short'}>{ui[2]}\n            <UserLocationNumber\n              name='location'\n              getInput={this.getInput}\n              onNewData={this.addData}\n              list={locations}\n            />\n          </p>\n        }\n{/* =====  User is Locate: display form from Location details  ===============*/}\n        {locate &&\n          <div className='custom-form'>\n            <Divider horizontal></Divider>\n            <p className='vintage left'>{ui[5]}</p>\n            <UserDoor lan={lan} addData={this.addData}/>\n          </div>\n        }\n        <Divider horizontal></Divider>\n        {message && <Message positive={this.state.errors<3} negative={this.state.errors>2} content={ui[this.state.errors]} />}\n        <div className='column sixteen wide oval-but extra-padded'>\n{/* =====  Check if User has Reference  =================================*/}\n          {rep &&\n            <div className='row centered menu-bar'>\n              <Button.Group widths='2'>\n                <Button color='grey' disabled={!loc_id || loc_id===''}\n                  icon='thumbs up'\n                  content='OK'\n                  onClick={this.onSubmit}\n                />\n                <Button\n                  disabled={loc_id || loc_id!==''}\n                  icon='exclamation circle' color='blue' content={ui[7]}\n                  onClick={this.noRef}\n                />\n              </Button.Group>\n            </div>\n          }\n          {!rep &&\n            <div className='row centered menu-bar'>\n              <Button.Group widths='2'>\n                <Button color='grey' content='Clear' />\n                <Button\n                  as={Link} to='/user'\n                  disabled={!location}\n                  basic={!location}\n                  color='black'\n                  content={ui[3]}\n                  onClick={this.onSubmit}\n                />\n              </Button.Group>\n            </div>\n          }\n        </div>\n      </div>\n    )\n  }\n}\n\nUserLocationsPage.propType = {\n  lan: PropType.string.isRequired,\n  city: PropType.number.isRequired\n}\n\nconst mapStateToProps = state => ({\n  city: state.settings.city,\n  street: state.settings.street,\n  cities: state.settings.cities,\n  streets: state.settings.streets,\n  locations: state.user.locations,\n  lan: state.settings.lan\n})\n\nexport default connect( mapStateToProps,\n  {\n    getLocations,\n    addUserLocation,\n    userAddLocation,\n    checkReference\n  }\n)(UserLocationsPage)\n\n//<AppSetup lan={lan} list={streets} setup='user_loc' usersetup={true} name='street' />\n\n/* ------- Locations Search List -------------\n<UserLocation lan={lan}\n  name='location'\n  getInput={this.getInput}\n  onNewData={this.addData}\n  list={locations}\n/>\n*/\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport { Link } from 'react-router-dom'\nimport { Button,Divider } from 'semantic-ui-react'\n\nimport { userUpdateLocation } from '../../actions/user'\nimport UserDoor from '../forms/userDoor'\n\nclass UserLocationEdit extends React.Component {\n  state = {\n    ui: {\n      en: ['Edit this Location:','Save','Cancel','Reset'],\n      es: ['Editar Direccion:','Guardar','Cancelar','Omitir'],\n      bg: ['Редактирай Адрес:','Запази','Назад','Откажи']\n    },\n    input: {}\n  }\n\n  onInput = (name,value) => {\n    console.log(name,value)\n    this.setState({\n      input: {...this.state.input, [name]:value}\n    })\n  }\n\n  onSubmit = e => {\n    const { locations,match } = this.props\n    let id = Number(locations[match.params.id].id)\n    e.preventDefault()\n    this.props.userUpdateLocation(match.params.id, id, this.state.input)\n  }\n\n  render() {\n    const ui = this.state.ui[this.props.lan]\n    return (\n      <div className='App-content topped padded'>\n        <Divider horizontal>{ui[0]}</Divider>\n        <div className='custom-form'>\n          <UserDoor\n            edit={true}\n            lan={this.props.lan}\n            loc={this.props.locations[this.props.match.params.id]}\n            onInput={this.onInput}\n          />\n        </div>\n        <Divider horizontal />\n        <div className='row centered menu-bar'>\n          <Button.Group widths='3'>\n            <Button as={Link} to='/user' content={ui[2]} />\n            <Button color='grey' content={ui[3]} />\n            <Button color='blue' icon='thumbs up' content={ui[1]} onClick={this.onSubmit} />\n          </Button.Group>\n        </div>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  locations: state.user.locations\n})\nexport default connect(mapStateToProps, {userUpdateLocation})(UserLocationEdit)\n","import React from 'react'\nimport { Form,Button,Message,Divider } from 'semantic-ui-react'\nimport SearchSetupForm from '../SearchSetupForm'\n\n/*\n# CHECK SETTINGS: ?: if City, ?: if Street\n# Then: Add City or Street or Location\n*/\n\nexport default class AddLocationForm extends React.Component {\n  state = {\n    data: {},\n    bg: '',\n    lat: '',\n    code: '',\n    number: '',\n    ui: {\n      en: ['Street:lat','City:bg','City:lat','#','Next','Edit','Reset',\n        'System message:','Country','post','Street:bg','Add Location','Add Street'\n        ],\n      es: ['Calle:lat','Ciudad:bg','City:lat','#','Seguir','Editar',\n        'Cancelar','Mensaje del sistema:','Pais','postal','Calle:bg','Nueva Locacion',\n        'Nueva Calle'\n        ],\n      bg: ['Улица:лат','Град:бг','Град:лат','#','Запази','Редактирай',\n        'Изчисти','Системно съобщение:','Държава','код','Улица:бг','Нов Адрес',\n        'Нова Улица'\n        ]\n    },\n    message: '',\n    msgClosed: true,\n    locate: false\n  }\n\n  onReset = e => {\n    if(e) {e.preventDefault()}\n    this.setState({\n      data:{},\n      bg:'',\n      lat:'',\n      code:'',\n      locate: false,\n      msgClosed: true,\n      message:'',\n      number: ''\n    })\n  }\n\n  closeMessage = e => {\n    e.preventDefault()\n    this.setState({\n      message: {}\n    })\n  }\n\n  onChange = (e, {name,value}) => {\n    value = (name === 'number')? Number(value) : value\n    this.setState({\n      data: { ...this.state.data, [name]: value},\n      [name]: value\n    })\n  }\n\n  onCity = (e, {name,value}) => {\n    const {city} = this.state\n    const {loc} = this.props\n    const ind = city[loc].findIndex( e => {\n      return e.c === value\n    })\n    const { code } = city[loc][ind]\n    this.setState({data: { ...this.state.data, ...{[name]: value, post: code}}})\n  }\n\n  onStreet = data => {\n    this.setState({data: { ...this.state.data, ...data}})\n// add new street\n  }\n\n  onSubmit = () => {\n    const { data,locate } = this.state\n    const { city,addLocation } = this.props\n    let tp = !city? 'city' : locate? 'location' : 'street'\n    if(city){ data.city = city }\n    console.log('POST Location: ', data)\n    addLocation(data,tp)\n    .then(res => {\n      this.setState({...this.state, ...res})\n    })\n    this.onReset()\n  }\n\n  render() {\n    const { lan,city,cities,streets } = this.props\n    const { message,locate } = this.state\n    const ui = this.state.ui[lan]\n    //const str = 'street_bg'\n    //const cty = 'city_bg'\n    let _options, opts = []\n    if(cities && !streets){\n      opts = cities['bg'].map( e => {\n        return e.c\n      })\n      opts = opts.sort()\n      _options = opts.map( (entr,ind) => ({\n        key:ind+1,\n        value:entr.id,\n        text:entr.title\n      }))\n    } else if(streets) {\n      _options = streets.map( (entr,ind) => ({\n        key:ind+1,\n        value:entr.id,\n        text:entr.title\n      }))\n    }\n    return (\n      <Form onSubmit={this.onSubmit}>\n        <Form.Group>\n          <div className='ui grid' style={{width: '100vw'}}>\n\n{/* ====== MESSAGE: =====================================*/}\n            {Object.keys(message).length>0 &&\n              <div className='margined full-width'>\n                <Message as='div' positive={true} size='tiny'\n                onDismiss={this.closeMessage}\n                header={ui[7]}\n                content={message}\n              />\n            </div>}\n{/* ==== ADD CITY: =====================================*/}\n            {!city &&\n              <div className='row centered'>\n                <div className='twelve wide column' style={{marginBottom: '10px'}}>\n                  <Form.Input fluid name='bg'\n                     onChange={this.onChange}\n                     value={this.state.bg}\n                     placeholder={ui[1]}\n                   />\n                </div>\n                <div className='twelve wide column' style={{marginBottom: '10px'}}>\n                  <Form.Input fluid name='lat'\n                     onChange={this.onChange}\n                     value={this.state.lat}\n                     placeholder={ui[2]}\n                   />\n                </div>\n                <div className='twelve wide column'>\n                  <Form.Input fluid name='code'\n                     onChange={this.onChange}\n                     value={this.state.code}\n                     placeholder={ui[3]}\n                   />\n                </div>\n              </div>\n            }\n\n{/* ==== ADD STREET: =====================================*/}\n            {!locate && city &&\n              <div className='row centered'>\n                <div className='twelve wide column' style={{marginBottom: '10px'}}>\n                  <Form.Input fluid name='bg'\n                    onChange={this.onChange}\n                    value={this.state.bg}\n                    placeholder={ui[10]}\n                  />\n                </div>\n                <div className='twelve wide column' style={{marginBottom: '10px'}}>\n                  <Form.Input fluid name='lat'\n                    onChange={this.onChange}\n                    value={this.state.lat}\n                    placeholder={ui[0]}\n                  />\n                </div>\n                <div className='twelve wide column oval-but'>\n                  <Button fluid\n                    disabled={!this.state.data.bg || !this.state.data.lat}\n                    type='submit'\n                    content={ui[12]}\n                  />\n{/* Or add new location number: */}\n                  <Divider horizontal content='or' />\n                  <Button fluid\n                    content={ui[11]}\n                    disabled={this.state.data.bg || this.state.data.lat}\n                    onClick={e => {\n                      e.preventDefault()\n                      e.stopPropagation()\n                      this.setState({data: {}, locate: true})\n                    }}\n                  />\n                </div>\n              </div>\n            }\n\n            {//!!streets.length &&\n            //  <SearchSetupForm\n            //    appsetup={true}\n            //    name='street' lan={lan}\n            //    list={streets}\n            //    onSubmit={ data => {\n            //      this.setState({data: { ...this.state.data, ...data}, locate: true})\n            //    }}\n            //  />\n            }\n\n{/* ==== ADD BUILDING Number: =====================================*/}\n            {locate &&\n              <div className='row centered'>\n                <div style={{marginBottom: '10px'}}>\n                  {!!streets.length &&\n                    <SearchSetupForm\n                      appsetup={false}\n                      name='street_id'\n                      list={streets} lan={lan}\n                      onStreet={this.onStreet}\n                    />}\n                </div>\n                <div className='six wide column' style={{marginBottom: '10px'}}>\n                  <Form.Input fluid name='number'\n                    onChange={this.onChange}\n                    value={this.state.number} placeholder={ui[3]}\n                  />\n                </div>\n              </div>\n            }\n\n{/* ==== IF NOTHING: =====================================*/}\n\n              {/*<div className='row centered menu-bar'>\n                <Button.Group widths='2' className='padded'>\n                  <Button color='grey' onClick={this.onReset} content={ui[6]} />\n                  <Button color='blue' type='submit' content={ui[4]} />\n                </Button.Group>\n              </div>\n              */}\n\n            </div>\n        </Form.Group>\n      </Form>\n    )\n  }\n}\n\n/*\n<div className='row'>\n  <div className='twelve wide column'>\n    <Form.Input onChange={this.onChange} value={data[street] || ''} name={street} placeholder={ui[0]} />\n  </div>\n  <div className=\"four wide column\">\n    <Form.Input onChange={this.onChange} value={data.number || ''} name='number' type='number' placeholder={ui[2]} />\n  </div>\n</div>\n*/\n","import React from 'react'\nimport Validator from 'validator'\nimport { Message,Button,Form } from 'semantic-ui-react'\n\nexport default class GetUser extends React.Component {\n  state = {\n    data: {},\n    logging: false,\n    errors: {},\n    ui: {\n      en: ['Check','example@mail.com','my-secret-password','Save'],\n      es: ['Consulta','ejemplo@mail.com','mi-contrasena-secreta','Guardar'],\n      bg: ['Провери','example@mail.com','секретната-ми-парола','Запази']\n    }\n  }\n\n  onSubmit = () => {\n    const { data } = this.state\n    const { submit,login,init,pass } = this.props\n    const err = this.validate(data)\n    this.setState({ errors: err })\n    if(!pass && Object.keys(err).length === 0) {\n      submit(data,false)\n    } else if(Object.keys(err).length === 0) {\n      login(data,true)\n      init()\n      //console.log(err.password, data)\n    }\n  }\n\n  validate = data => {\n    const errors = {}\n    if ( this.props.pass ) {\n      if (data.password.length < 8) {\n        errors.password = 'Minimum password length must be 8 digits!'\n      }\n    } else {\n      if(!Validator.isEmail(data.email)) {\n        errors.email = 'Invalid email address! Try again...'\n      }\n    }\n    return errors\n  }\n\n  onInput = (e,{name}) => {\n    this.setState({\n      data: {...this.state.data, [name]: e.target.value}\n    })\n  }\n\n  render(){\n    const lan = this.state.ui[this.props.lan]\n    const {pass} = this.props\n    const {errors} = this.state\n    return(\n      <div className={pass? 'custom-form oval-but alert' : 'custom-form oval-but'}>\n        <Form onSubmit={this.onSubmit}>\n          <Form.Input fluid required inline centered focus\n            onChange={this.onInput}\n            name={pass ? 'password' : 'email'}\n            type={pass ? 'password' : 'email'}\n            placeholder={pass ? lan[2] : lan[1]}\n          />\n          {Object.keys(errors).length>0 && <Message negative>\n              <Message.Header>{pass? 'Incomplete password:' : 'Incorrect email:'}</Message.Header>\n              <p>{pass? errors.password : errors.email}</p>\n            </Message>\n          }\n          <Button type='submit' color='grey' fluid={pass}>{pass? lan[3] : lan[0]}</Button>\n        </Form>\n      </div>\n    )\n  }\n}\n","import React from 'react'\nimport GetUser from '../../forms/getUser'\n\nconst AddRep = ({admin,lan}) => {\n  return (\n    <GetUser submit={()=>{}} init={()=>{}} lan={lan} pass={false} />\n  )\n}\n\nexport default AddRep\n","import axios from 'axios'\n\nexport default {\n  locations: {\n    addLocation: (data,type) => axios.post('/admin/location/'+type, {data}).then( res => res.data),\n    getList: data => axios.get('/admin/location/city', {data}).then( res => console.log((res)))\n  }\n}\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport { Divider } from 'semantic-ui-react'\n\nimport AddLocationForm from '../../forms/admin/addLocation'\nimport AddRep from './addRep'\nimport { addLocation } from '../../../actions/admin/'\n\nclass Locations extends React.Component {\n  state = {\n    view: '',\n    ui: {\n      en:['Location in:'],\n      es:['Localidad en:'],\n      bg:['Адрес в:']\n    }\n  }\n\n  render() {\n    const { addLocation,lan,city,cities,streets,view } = this.props\n    const ui = this.state.ui[lan]\n    let cty = cities.length>0? cities.find(element => {\n      console.log(element.id)\n      return element.id === city\n    }) : ''\n    console.log('city?: ', cities.length, cty.title)\n    return (\n      <div className='topped padded'>\n        <h3>{ui[0].concat(' ',city? cty.alt : 'Add City')}</h3>\n        <Divider horizontal />\n        {view === 'add' &&\n          <div className='custom-form'>\n            <AddLocationForm lan={lan} city={city} streets={streets} addLocation={addLocation}/>\n          </div>\n        }\n        <Divider horizontal />\n        {view === 'rep' && <AddRep admin={true} lan={lan} loc='bg' addLocation={addLocation}/>}\n      </div>\n    )\n  }\n}\nconst mapStateToProps = state => ({\n  cities: state.settings.cities,\n  streets: state.settings.streets\n})\nexport default connect(mapStateToProps,{ addLocation })(Locations)\n","import api from '../../api/admin'\n\nexport const addLocation = (data,type) => dispatch => {\n  console.log('Add location: ',data,type)\n  return api.locations.addLocation(data,type).then( res => res )\n}\n\nexport const getList = type => dispatch => {\n  return api.getList(type).then()\n}\n","import React from 'react'\nimport { Form,Button } from 'semantic-ui-react'\n\nexport default class UserForm extends React.Component {\n  render() {\n    return (\n\n        <Form>\n          {this.props.view==='email' &&\n            <Form.Group inline>\n              <Form.Input width={10} label='email: ' placeholder='user@mail.com' />\n            </Form.Group>\n          }\n          <Button content='Submit' />\n        </Form>\n\n    )\n  }\n}\n","import React from 'react'\nimport UserForm from '../../../forms/user/userForm'\n\nconst User = ({view,lan}) => {\n  return (\n    <div className='topped padded'>\n      {view==='email' && <UserForm view={view} />}\n      {view==='list' && <div>List Users</div>}\n    </div>\n  )\n}\n\nexport default User\n","import React from 'react'\nimport { Button } from 'semantic-ui-react'\n\nconst MainMenu = ({lan,member,onMenu}) => {\n  const ui = {\n    // 'PRO' for 'products'\n    en: ['USER','LOC','PRO','LAB','FAC'],\n    es: ['USER','LOC','PRO','LAB','FAC'],\n    bg: ['USER','LOC','PRO','LAB','FAC']\n  }\n  \n  return (\n    <Button.Group color='blue' widths={ui[lan].length}>\n      {ui[lan].map( (el,ind) =>\n        <Button\n          key={ind}\n          disabled={member>1 && Math.log2(member)+2 !== ind}\n          name={ind}\n          content={el}\n          onClick={onMenu}\n        />)\n      }\n    </Button.Group>\n  )\n}\n\nexport default MainMenu\n","import React from 'react'\nimport { Button } from 'semantic-ui-react'\n\nconst SubMenu = ({lan,onMenu,subset}) => {\n  const ui = {\n    en: {\n      user: ['home','email','list','order'],\n      pro: ['home','add','edit','rep'],\n      loc: ['home','add','edit','rep'],\n      fac: ['home','add','edit','rep'],\n      lab: ['home','add','edit','rep']\n    },\n    es: {\n      user: ['home','email','list','order'],\n      pro: ['home','add','edit','rep'],\n      loc: ['home','add','edit','rep'],\n      fac: ['home','add','edit','rep'],\n      lab: ['home','add','edit','rep']\n    },\n    bg: {\n      user: ['home','email','list','order'],\n      pro: ['home','add','edit','rep'],\n      loc: ['home','add','edit','rep'],\n      fac: ['home','add','edit','rep'],\n      lab: ['home','add','edit','rep']\n    }\n  }\n  return (\n    <Button.Group color='blue' className='submenu'>\n      {ui[lan][subset].map( (itm,indx) => {\n        return <Button onClick={onMenu} name={itm} content={!!indx? itm : ''}  icon={!indx? 'home' : ''} />\n      })}\n    </Button.Group>\n  )\n}\n\nexport default SubMenu\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport { Divider,Checkbox,Grid } from 'semantic-ui-react'\n\nimport { userSignedIn } from '../../../actions/auth'\nimport setAuthHeader from '../../../utils/setAuthHeader'\n\nimport Locations from './Locations'\nimport User from './user/views'\nimport MainMenu from './ui/mainMenu'\nimport SubMenu from './ui/subMenu'\n\nimport { getLocations } from '../../../actions/settup'\n\nclass AdminHome extends React.Component {\n  state = {\n    main: true,\n    mView: '',\n    sView: '',\n    logged: false,\n    checkin: false,\n    ui: {\n      en: ['Admin','LAB Admin.','FAC Admin.'],\n      es: ['Admin','LAB Admin.','FAC Admin.'],\n      bg: ['Админ','LAB Админ.','FAC Админ.'],\n    }\n  }\n\n  onSubMenu = (e,{name}) => {\n    this.setState({\n      main: name==='home',\n      sView: name\n    })\n  }\n\n  onMainMenu = (e,{content,name}) => {\n    this.setState({\n      main: false,\n      mView: content.toLowerCase(),\n      indx: name\n    })\n  }\n\n  onCheck = (e,{name}) => {\n    this.setState(prevState => ({[name]: !prevState[name]}))\n    switch(name) {\n      case 'checkin' :\n        if( !this.state.checkin ) {\n          console.log('Check Boss In-Out')\n        }\n      break\n      case 'logged' :\n        if ( this.state.logged ) this.closeSession()\n      break\n    }\n  }\n\n  closeSession = id => {\n    localStorage.clear()\n    setAuthHeader()\n    this.props.userSignedIn({})\n  }\n\n  componentDidMount() {\n    const {city,getLocations,user,logedin} = this.props\n    if(city){\n      getLocations('street',city)\n      this.setState({\n        logged: logedin\n      })\n    }\n  }\n\n  render() {\n    const {lan,city,membership} = this.props\n    const { main,sView,mView } = this.state\n    const ui = this.state.ui[lan]\n// translation props:\n    const trans = main? { left: 0 } : {\n      left: `-${window.screen.width}px`\n    }\n\n    return (\n      <div className='App-content padded Admin-Page'>\n        <Grid>\n          <Grid.Row>\n            <Grid.Column width={6}>\n              <Checkbox name='logged'\n                checked={this.state.logged}\n                disabled={this.state.checkin}\n                label={<label>{this.state.login? 'Login' : 'Logout'}</label>}\n                onChange={this.onCheck} toggle\n              />\n            </Grid.Column>\n            <Grid.Column width={4} />\n            <Grid.Column width={6}>\n              {membership>2 && <Checkbox name='checkin'\n                checked={this.state.checkin}\n                disabled={!this.state.logged}\n                label={<label>{this.state.checkin? 'Close' : 'Open'}</label>}\n                onChange={this.onCheck} toggle\n              />}\n            </Grid.Column>\n          </Grid.Row>\n        </Grid>\n        <br/>\n      <div className='menu-bar carrousel move' style={trans}>\n        <MainMenu lan={lan} member={membership} onMenu={this.onMainMenu} />\n        <Divider horizontal />\n        {!main && <SubMenu member={membership} subset={mView} lan={lan} onMenu={this.onSubMenu} />}\n      </div>\n      {/*\n=========================\n  Use A Switch instead\n=========================\n      */}\n\n        {sView === 'email' && <User view={sView} lan={lan} />}\n        {sView === 'list' && <User view={sView} lan={lan} />}\n        {sView === 'add' && <Locations city={city? city : false} view={sView} lan={lan} />}\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  city: state.settings.city,\n  cities: state.settings.cities,\n  membership: state.user.membership,\n  logedin: !!state.user.token\n})\n\nexport default connect(mapStateToProps,{ getLocations,userSignedIn })(AdminHome)\n","import React from 'react'\n//import { connect } from 'react-redux'\nimport { Route } from 'react-router-dom'\nimport PropTypes from 'prop-types'\n\nimport HomePage from './components/pages/HomePage'\nimport Top from './components/pages/Top'\nimport OrdersPage from './components/pages/OrdersPage'\nimport CatalogPage from './components/pages/CatalogPage'\nimport UserRoute from './components/routes/user'\nimport AdminRoute from './components/routes/admin'\nimport RoleHome from './components/pages/admin/RoleHome'\nimport RepeatPage from './components/pages/RepeatPage'\nimport AdminLogin from './components/pages/admin/AdminLogin'\nimport PlayPage from './components/pages/PlayPage'\nimport CartPage from './components/pages/CartPage'\nimport UserPage from './components/pages/UserPage'\nimport UserLocationsPage from './components/pages/UserLocationsPage'\nimport UserLocationEdit from './components/pages/UserLocationEdit'\n//import MicroFront from './Microfront'\n// Admin Routes:\nimport Locations from './components/pages/admin/Locations'\nimport AdminHome from './components/pages/admin/'\n\n// MicroFrontEnds: -----------------------------------------\n//const {\n//  REACT_APP_CART_HOST: cartHost\n//} = process.env\n// console.log(process.env)\n// expose window global ------------------------------------\n\n//const Cart = ({history}) => (\n//  <MicroFront history={history} host={cartHost} name='Cart'/>\n//)\n// ---------------------------------------------------------\n\nconst App = ({location}) => {\n  return (\n    <div className='App'>\n      <Route location={location} path='/' exact component={HomePage}/>\n      <Route location={location} path='/' component={Top}/>\n{/* ========= ADMIN ================== */}\n      <AdminRoute location={location} path='/admin/location' exact component={Locations}/>\n      <AdminRoute location={location} path='/admin/home' component={RoleHome}/>\n    {/*<AdminRoute location={location} path='/admin/:role' exact component={RoleHome}/>*/}\n{/* !!!! MAKE THIS ADMIN ROUTE !!!!! -------------------------------------------------------------------*/}\n      {/*<AdminRoute location={location} path='/admin/home' exact component={AdminHome}/>*/}\n      <AdminRoute location={location} path='/admin/boss' exact component={AdminHome}/>\n{/* ------------ ----------- ---------- ---------- ---------- ---------- ----------- ----------- -------*/}\n      <UserRoute location={location} path='/admin' exact component={AdminLogin}/>\n{/* ========= USER ================== */}\n      <UserRoute location={location} path='/order' exact component={OrdersPage}/>\n      <UserRoute location={location} path='/catalog' exact component={CatalogPage}/>\n      <UserRoute location={location} path='/repeat' exact component={RepeatPage}/>\n      <UserRoute location={location} path='/play' exact component={PlayPage}/>\n{/* Switch this for mmicrofrontend CART-route */}\n{/*<Route location={location} path='/cart' exact component={Cart} />*/}\n      <UserRoute location={location} path='/cart' exact component={CartPage}/>\n      <UserRoute location={location} path='/user' exact component={UserPage}/>\n      <UserRoute location={location} path='/user/locations' exact component={UserLocationsPage}/>\n      <UserRoute location={location} path='/user/location/:id' exact component={UserLocationEdit}/>\n    </div>\n  )\n}\n\nApp.propTypes = {\n  location: PropTypes.shape({\n    pathname: PropTypes.string.isRequired\n  }).isRequired\n}\n\n//const mapStateToProps = state => ({\n//  lan: state.settings.lan\n//})\n\nexport default App//connect(mapStateToProps)\n","import React from 'react'\nimport { BrowserRouter as Router, Route } from 'react-router-dom'\nimport ReactDOM from 'react-dom'\nimport { Provider } from 'react-redux'\nimport { createStore, compose, applyMiddleware } from 'redux'\nimport thunk from 'redux-thunk'\nimport 'semantic-ui-css/semantic.min.css'\nimport './App.css'\nimport RootReducer from './RootReducer'\nimport { setUI,getProductList } from './actions/settup'\nimport { userSignedIn } from './actions/auth'\nimport { userInit } from './actions/user'\nimport setAuthHeader from './utils/setAuthHeader'\nimport setLanHeader from './utils/setLanHeader'\nimport App from './App'\n//import { subscribeSocket,fireSocket } from './websocket'\n//import * as serviceWorker from './serviceWorker'\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose\nconst initState = {\n  user: {},\n  settings: {\n    lan: 'bg',\n    socket: false,\n    one_city: 0,\n    banner: false,\n    order_counter: 0,\n    customer_counter: 0\n  },\n  products: [],\n  order: [],\n  cart: []\n}\n\nconst store = createStore(\n  RootReducer,\n  initState,\n  composeEnhancers(applyMiddleware(thunk))\n)\n\nwindow.GS = store\n\nif(localStorage.valePizzaJWT){\n\n  let user = {}\n  user.new_user = false\n  user.token = localStorage.valePizzaJWT\n  setAuthHeader(user.token)\n// Check if User Exist:\n  //store.dispatch(checkUserToken(localStorage.valePizzaJWT))\n// If Credentials OK:\n  store.dispatch(userSignedIn(user))\n// If Credentials OK:\n  store.dispatch(userInit())\n    .then( user => {\n      const { locations } = user\n\n      if(!locations) return\n// get all user saved locations\n      //let loc = locations.map( l => {\n      //  return l.city\n      //})\n      //let l = [...new Set(loc)]\n// get all facs for each unique user.location.city\n      //store.dispatch(getLocalFacs(l))\n    })\n    .catch( err => {\n      setAuthHeader()\n      user.token = ''\n      user.new_user = true\n      store.dispatch(userSignedIn(user))\n      console.log('initialUser: ', err.response.data.error)\n    })\n}\n\nsetLanHeader('bg')\n// set Global UI: language, one_city-, banner- mode\nstore.dispatch(setUI())\n// get full Global Products List from products\nstore.dispatch(getProductList('bg'))\n\nconst Root = (\n  <Provider store={store}>\n    <Router>\n      <Route component={App} />\n    </Router>\n  </Provider>\n)\n\nReactDOM.render(\n  Root,\n  document.getElementById('root'))\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\n//serviceWorker.unregister()\n"],"sourceRoot":""}